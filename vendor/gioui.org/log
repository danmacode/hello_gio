commit 3dd7c8121c679719073b8f760accac3d176c7c15
Author: Greg Pomerantz <gmp.gio@wow.st>
Date:   Wed Dec 18 13:00:38 2019 -0500

    font/opentype: add Collection type and methods
    
    The Collection type wraps sfnt.Collection and allows lazy-loading
    of fonts from SFNT collections.
    
    Signed-off-by: Greg Pomerantz <gmp.gio@wow.st>

 font/opentype/opentype.go | 47 +++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 47 insertions(+)

commit 19acf05820a085bb534145c899bae4f185eb8c39
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Dec 18 09:58:21 2019 +0100

    COPYING: extract licensing information into COPYING
    
    This is hopefully clear enough for license detectors and lawyers.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 COPYING   | 4 ++++
 README.md | 5 -----
 2 files changed, 4 insertions(+), 5 deletions(-)

commit c9f1f59c40d0702de2cbb42839963f232cd8fe6f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Dec 16 20:06:33 2019 +0100

    font/opentype: fix typo
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 font/opentype/opentype.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2b4e9ad426e7b30105a3d557514d7b2def067b67
Author: Larry Clapp <larry@theclapp.org>
Date:   Mon Dec 16 08:27:29 2019 -0500

    widget: add some rudimentary exported editing methods
    
    Editor.Delete
    Editor.Move
    Editor.Insert
    
    Move the Editor.command method up above all the functions it calls.
    
    Signed-off-by: Larry Clapp <larry@theclapp.org>

 widget/buffer.go | 43 +++++++++++++++++++++----------------------
 widget/editor.go | 88 ++++++++++++++++++++++++++++++++++++++++++++--------------------------------------------
 2 files changed, 65 insertions(+), 66 deletions(-)

commit 8a4d0007f345565ec1e7b91a2729cbd5effea653
Author: Greg Pomerantz <gmp.gio@wow.st>
Date:   Mon Dec 16 09:16:37 2019 -0500

    app: clarify documentation of app.Main()
    
    Signed-off-by: Greg Pomerantz <gmp.gio@wow.st>

 app/doc.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e76726d4f76b6c056698b53de0c25624458ec52f
Author: Werner Laurensse <werner@alman.ax>
Date:   Sun Dec 15 15:12:58 2019 +0100

    text/shaper: Add Metrics method to Shaper struct.
    
    Signed-off-by: Werner Laurensse <werner@alman.ax>

 text/shaper.go | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit 0bfcac97344dce473bd7542480d65608cc582c24
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Dec 11 23:57:25 2019 +0100

    cmd,example: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/go.mod                 |   2 +-
 cmd/go.sum                 |   4 +-
 cmd/gogio/testdata/red.go  |  32 ++++++++------
 example/go.mod             |   2 +-
 example/go.sum             |   4 +-
 example/gophers/ui.go      | 215 ++++++++++++++++++++++++++++++++++++++++++++-----------------------------------------------
 example/kitchen/kitchen.go |  72 +++++++++++++++----------------
 7 files changed, 163 insertions(+), 168 deletions(-)

commit 7814da47a0ffdf00462fbd0095af5e3d23757ef2
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Dec 12 00:26:49 2019 +0100

    layout: simplify Stack API
    
    Similar to what a previous commit did for Flex, this change simplifies
    Stack to just one Layout call:
    
            layout.Stack{}.Layout(gtx,
                    layout.Stacked(func() {...}),
                    layout.Expanded(func() {...}),
            )
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/example_test.go    |  27 +++++++++++------------
 layout/stack.go           | 107 +++++++++++++++++++++++++++++++++++++++++++++++++-----------------------------------------
 widget/material/button.go | 109 ++++++++++++++++++++++++++++++++++++++++++++++----------------------------------------------
 3 files changed, 125 insertions(+), 118 deletions(-)

commit f60a5c7ac342fe67638ae94fa332dfc743bc62a9
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Dec 11 23:26:41 2019 +0100

    layout: simplify Flex API to a single Layout call
    
    With the simplification of MacroOp, it is now possible to simplify
    the Flex API to just a single Layout method, similar to List:
    
            layout.Flex{}.Layout(gtx,
                    layout.Rigid(func() { ... }),
                    layout.Flexed(0.5, func() { ... }),
            )
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/example_test.go       |  27 +++++++---------
 layout/flex.go               | 153 +++++++++++++++++++++++++++++++++++++++++++++--------------------------------------------
 widget/material/checkable.go |  46 +++++++++++++--------------
 3 files changed, 111 insertions(+), 115 deletions(-)

commit edc81ea0bb18d88194bde84b27cc6f929cc81466
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Dec 11 23:16:59 2019 +0100

    op: remove operation list argument from MacroOp.Add
    
    The ability to invoke other operation lists belongs in the new CallOp.
    
    While we're here, make MacroOp.Add use a pointer receiver to match the
    other methods.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 internal/opconst/ops.go   |  4 ++--
 internal/ops/reader.go    | 19 ++++---------------
 layout/flex.go            |  2 +-
 layout/layout.go          |  2 +-
 layout/list.go            |  4 ++--
 layout/stack.go           |  2 +-
 op/clip/clip.go           |  2 +-
 op/op.go                  | 13 ++++---------
 widget/material/editor.go |  2 +-
 9 files changed, 17 insertions(+), 33 deletions(-)

commit 0768fbe590a349f1e776bb936bf6386b13120660
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Dec 11 22:58:08 2019 +0100

    text: convert clip.Ops to op.CallOp
    
    MacroOp is about to lose the ability to run a different operation list
    than the one it was recorded on. Text shape caches rely on that property,
    and must use the new CallOp operation added for purpose.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 font/opentype/opentype.go |  7 ++++---
 text/lru.go               | 10 +++++-----
 text/lru_test.go          |  4 ++--
 text/shaper.go            |  8 ++++----
 text/text.go              |  4 ++--
 widget/editor.go          |  3 +--
 6 files changed, 18 insertions(+), 18 deletions(-)

commit 06217c532056c0bb3c5a808b403bdca108f84e74
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Dec 11 22:53:50 2019 +0100

    op: introduce CallOp
    
    We'd like to improve the API of Flex, Stack and similar layouts
    that use MacroOps internall. Unfortunately, the
    
      func (m MacroOp) Add(o *Ops)
    
    method causes the MacroOp to be allocated on the heap, ruining the
    nice garbage-free property of layouts.
    
    Fortunately, layouts don't need the feature that caused the heap
    allocation: invoking operation lists different than the current.
    
    CallOp separates the invoke-different-list semantic from MacroOp,
    in preparation for removing the feature from MacroOp.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 internal/opconst/ops.go |  5 ++++-
 internal/ops/reader.go  | 32 ++++++++++++++++++++++++++++++++
 op/op.go                | 22 ++++++++++++++++++++++
 3 files changed, 58 insertions(+), 1 deletion(-)

commit 9114dbe75901e1105bc07e1ff27ae33f2f227789
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Dec 12 00:26:19 2019 +0100

    app/internal/gl: gofmt -w -s
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/gl/functions.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4a628d1c2c2c268ef896a25ce9c742817c6d706e
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Dec 11 15:12:57 2019 +0100

    app/internal/gpu: re-add check for GL_EXT_color_buffer_half_float
    
    As noted in #49, GL_EXT_color_buffer_half_float is required for
    GL_OES_texture_half_float to be useful for FBOs.
    
    Updates #49
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/gpu/context.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8a44ac11d8379ccb4214e5daaf113194fa95c1f3
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Dec 11 13:51:27 2019 +0100

    app/internal/gpu: use single channel floating point FBO if possible
    
    Remove dependency on EXT_color_buffer_half_float, it's not clear it's
    necessary. In any case the following FBO sanity check will catch invalid
    FBO format combinations.
    
    Updates #49
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/gpu/context.go | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 7164c557f90bf7bcb886354049f5d946bce143b6
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Dec 5 10:33:54 2019 +0100

    Revert "LICENSE: merge UNLICENSE and LICENSE-MIT to please license identifiers"
    
    This reverts commit b74f2d2d1cb74406f8a2f5a6aad9c9fdb16f2cea.
    
    Reason: the merging was done to please the license detection library
    underlying pkg.go.dev. Since pkg.go.dev treats dual licensed projects
    as the intersection ("AND") of the licenses, and because the UNLICENSE
    is not supported per
    
            https://pkg.go.dev/license-policy
    
    revert to the usual once-license-per-file.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 LICENSE-MIT          | 21 +++++++++++++++++++++
 LICENSE => UNLICENSE | 26 --------------------------
 2 files changed, 21 insertions(+), 26 deletions(-)

commit 31ebd9e811110c7d99f79499c4b1ac45e1f7e181
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Dec 4 00:32:36 2019 +0100

    cmd,example: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/go.mod     | 2 +-
 cmd/go.sum     | 4 ++--
 example/go.mod | 2 +-
 example/go.sum | 4 ++--
 4 files changed, 6 insertions(+), 6 deletions(-)

commit 86d69859b93a45454c33adde5d6b7ce27ab56c0a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Dec 4 00:26:04 2019 +0100

    app/internal/gpu: query GL_EXTENSIONS correctly on macOS
    
    macOS supports the OpenGL core profiles where glGetString(GL_EXTENSIONS)
    is not supported. Use glGetStringi(GL_EXTENSIONS, <index>) instead.
    
    The wrong query didn't make any practical difference because Gio doesn't
    need any extensions on OpenGL 3 and better.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/gl/functions.go | 37 +++++++++++++++++++++++++++++++++++--
 app/internal/gl/gl.go        |  1 +
 2 files changed, 36 insertions(+), 2 deletions(-)

commit d9212263aacd5b6d6c37666432603f363820c23a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Dec 3 23:53:56 2019 +0100

    app/headless: prepare OpenGL context on macOS
    
    The macOS backend uses a desktop OpenGL context, not a OpenGL ES
    context. The main difference is that sRGB have to be enabled and
    a vertex buffer must be bound.
    
    Do that and fix Window.Screenshot for scenes more complex than a
    glClear.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/headless/headless_darwin.go |  9 +++++++--
 app/headless/headless_darwin.h  |  1 +
 app/headless/headless_ios.m     |  3 +++
 app/headless/headless_macos.m   | 10 +++++++++-
 app/headless/headless_test.go   |  5 +++--
 5 files changed, 23 insertions(+), 5 deletions(-)

commit fddb0af6f61d09a48af92c80148c5060e7c89da4
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Dec 3 16:48:48 2019 +0100

    app/internal/gpu: default to color material
    
    Before this change the default material were a texture, which leads
    to a crash when no texture is current.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/gpu/gpu.go | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 96a4e510f93cc61873fa960ba170478d63dac0a8
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Dec 3 13:35:15 2019 +0100

    .gitattributes: disable Windows line ending conversion
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 .gitattributes | 3 +++
 1 file changed, 3 insertions(+)

commit 65dc6797ebb9ec7ba46eceedc025895c296d6e44
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Dec 2 18:54:35 2019 +0100

    layout: don't allow overlapping Flex and Stack layouts
    
    Overlapping layouts such as
    
            outer := layout.Flex{}
            inner := layout.Stack{}
            child := inner.Rigid(gtx, ...)
            outerChild := outer.Rigid(gtx, func() {
                    inner.Layout(gtx, child)
            })
            outer.Layout(gtx, outerChild)
    
    runs but result in a wrong layout.
    
    This change use empty StackOps to ensure that the Stack and Flex
    child layout methods are called in the same scope as their Layout
    methods:
    
            outer := layout.Flex{}
            inner := layout.Stack{}
            outerChild := outer.Rigid(gtx, func() {
                    child := inner.Rigid(gtx, ...)
                    inner.Layout(gtx, child)
            })
            outer.Layout(gtx, outerChild)
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/flex.go  | 19 +++++++++++++++++++
 layout/stack.go | 18 +++++++++++++++---
 2 files changed, 34 insertions(+), 3 deletions(-)

commit 8102f631145e0cdc574a0ec85f9b3f4448dcc7f0
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Dec 2 18:52:29 2019 +0100

    op: tighten stack checks
    
    Assign (per-frame) unique ids to each MacroOp and StackOp operations
    and ensure that the pairwise Push/Pop and Record/End match.
    
    In a follow-up change the Flex and Stack layouts will rely on those
    checks to avoid being overlapped.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 op/op.go | 60 ++++++++++++++++++++++++++++++++++++++++++++++--------------
 1 file changed, 46 insertions(+), 14 deletions(-)

commit 2486d46ab4a13a8694ff6a455414957cf52bd052
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Dec 2 17:55:26 2019 +0100

    op: tighten documentation
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 op/op.go | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 3701e2eb1d0840d5e971502a6076b94bafc31fb3
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Dec 2 17:46:40 2019 +0100

    layout: move examples to example_test.go
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/{layout_test.go => example_test.go} | 0
 1 file changed, 0 insertions(+), 0 deletions(-)

commit b3c095fdcc96d5378d5c521fb6041ab011319056
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Dec 2 14:35:23 2019 +0100

    example/kitchen: add newline after error message
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/kitchen/kitchen.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 16e6e2d3f7cd97e404013d98ff7de443dc55f89a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Dec 2 14:33:27 2019 +0100

    example/kitchen: dump screenshots in 1.5 scale
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/kitchen/kitchen.go | 23 +++++++++++++++++++++--
 1 file changed, 21 insertions(+), 2 deletions(-)

commit 9023b1b865327d60f6d746bf5ef26f8f25e8ad40
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Dec 2 13:51:08 2019 +0100

    example/kitchen: add -screenshot flag
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/go.mod             |  2 +-
 example/go.sum             |  4 ++--
 example/kitchen/kitchen.go | 40 ++++++++++++++++++++++++++++++++++++++++
 3 files changed, 43 insertions(+), 3 deletions(-)

commit 6fbdefa21f7c603bf57ff3f0b07eab1626e0b8d2
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Dec 2 13:58:12 2019 +0100

    app/headless: compensate for OpenGL's lower left origin
    
    The origin of image.Images is the upper left corner. Convert the
    ReadPixels result by flipping the image the y-direction.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/headless/headless.go | 11 +++++++++++
 1 file changed, 11 insertions(+)

commit c0beeb5e77dc40b269fa329ff6cc70c00a9fa89d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Dec 2 13:21:35 2019 +0100

    layout: update documentation for NewContext
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/doc.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1762e0c07b1d24686bb1cec9024c0ed5abc0c3cb
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Dec 2 13:20:20 2019 +0100

    cmd,example: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/go.mod                   |  2 +-
 cmd/go.sum                   |  4 ++--
 cmd/gogio/testdata/red.go    |  4 +---
 example/go.mod               |  2 +-
 example/go.sum               |  4 ++--
 example/gophers/main.go      |  4 +---
 example/gophers/main_test.go | 26 ++------------------------
 example/hello/hello.go       |  4 +---
 example/kitchen/kitchen.go   |  4 +---
 9 files changed, 12 insertions(+), 42 deletions(-)

commit 11506a974e903f5de60355f28650d1c2601401f2
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Dec 2 13:13:15 2019 +0100

    layout: add NewContext, make zero value Contexts useful
    
    While here, unexport the Queue and Config fields. The NewContext
    cosntructor is shorter, and there is no reason to expose the fields
    to accidental mutation.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/context.go     | 44 +++++++++++++++++++++++++++++++++++++++++---
 layout/layout_test.go | 41 ++++++++++-------------------------------
 layout/list.go        |  2 +-
 widget/editor.go      |  2 +-
 4 files changed, 53 insertions(+), 36 deletions(-)

commit bbdedfa4a7328204688aa668fb08e1c9550eade8
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Dec 2 12:43:42 2019 +0100

    layout: move Context to its own file
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/context.go | 50 ++++++++++++++++++++++++++++++++++++++++++++++++++
 layout/layout.go  | 41 -----------------------------------------
 2 files changed, 50 insertions(+), 41 deletions(-)

commit 75d4eaff0e01105dd95a7494fdf90189bc692621
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Dec 2 12:41:52 2019 +0100

    layout: fix typo
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/layout.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2aa6071e330a65f6c18cfee7819c328fd653871b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Dec 2 12:38:48 2019 +0100

    io/system: fix typo
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 io/system/system.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5bddf66db746a6c2c39b79af48dc49c812c7c472
Author: Daniel Martí <mvdan@mvdan.cc>
Date:   Sat Nov 30 22:02:14 2019 +0000

    cmd: update the chromedp version
    
    It's a bugfix release, and we want some of the stability fixes in it.
    Starting Chrome processes is more reliable now, for example.
    
    See https://github.com/chromedp/chromedp/releases/tag/v0.5.2.
    
    Signed-off-by: Daniel Martí <mvdan@mvdan.cc>

 cmd/go.mod |  5 +++--
 cmd/go.sum | 14 ++++++++------
 2 files changed, 11 insertions(+), 8 deletions(-)

commit 41116b5cb8a32481fe6da7a91adc9c976245610f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Dec 2 00:05:30 2019 +0100

    app/headless: add package docs
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/headless/headless.go | 2 ++
 1 file changed, 2 insertions(+)

commit 0b84137f40ad3ae631a8600c327999f69a683fa9
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Nov 28 12:34:45 2019 +0100

    app/headless: implement headless windows
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/headless/headless.go        | 128 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 app/headless/headless_darwin.go |  43 +++++++++++++++++++++++++++++
 app/headless/headless_darwin.h  |   6 ++++
 app/headless/headless_egl.go    |  13 +++++++++
 app/headless/headless_ios.m     |  29 ++++++++++++++++++++
 app/headless/headless_js.go     |  52 +++++++++++++++++++++++++++++++++++
 app/headless/headless_macos.m   |  45 ++++++++++++++++++++++++++++++
 app/headless/headless_test.go   |  41 ++++++++++++++++++++++++++++
 app/internal/egl/egl.go         |  10 ++++++-
 app/internal/gl/gl.go           |   1 +
 10 files changed, 367 insertions(+), 1 deletion(-)

commit 9df3c76aa22f9cf851bcaf51d3f2cc534b0dc36b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Dec 1 23:39:02 2019 +0100

    app/internal/egl: don't exit if EGL dlls fails to load
    
    We want a useful error instead of a hard exit for headless windows.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/egl/egl.go         |  3 +++
 app/internal/egl/egl_unix.go    |  4 ++++
 app/internal/egl/egl_windows.go | 31 +++++++++++++++++++++++--------
 3 files changed, 30 insertions(+), 8 deletions(-)

commit 06a2228798dc17968fe6a42329ccd4d022616551
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Nov 29 22:12:33 2019 +0100

    app/internal/windows: split out Windows syscalls from package window
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/os_windows.go | 667 +++++++++++++++---------------------------------------------------------------------
 app/internal/windows/windows.go   | 450 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 566 insertions(+), 551 deletions(-)

commit 9b4176c4754a050f5fc1f5695c0d908ff8def219
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Nov 29 21:29:11 2019 +0100

    app/internal/egl,app/internal/window: move Lock/Unlock methods
    
    EGL contexts don't need locking, so their Lock and Unlock methods
    are empty. Remove them and add them where necessary instead.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/egl/egl.go            | 4 ----
 app/internal/window/egl_android.go | 4 ++++
 app/internal/window/egl_wayland.go | 4 ++++
 app/internal/window/egl_windows.go | 4 ++++
 app/internal/window/egl_x11.go     | 4 ++++
 5 files changed, 16 insertions(+), 4 deletions(-)

commit 15a1261cfc72e8b0cd123b563c47e59b14efc20d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Nov 29 21:23:11 2019 +0100

    app/internal/egl: only create a compatibility FBO if there is a surface
    
    While here, only refresh the FBO if needed to make MakeCurrent faster.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/egl/egl.go | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit f25f647a663209173337f4182e8e3c56e6c9df8a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Nov 29 19:55:52 2019 +0100

    app/internal/window,app/internal/gl: move gl.Context to package window
    
    Package gl now only defines opengl types and functions.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/gl/gl.go              |  9 ---------
 app/internal/window/egl_android.go |  3 +--
 app/internal/window/egl_wayland.go |  3 +--
 app/internal/window/egl_windows.go |  3 +--
 app/internal/window/egl_x11.go     |  3 +--
 app/internal/window/gl_ios.go      |  2 +-
 app/internal/window/gl_js.go       |  2 +-
 app/internal/window/gl_macos.go    |  2 +-
 app/internal/window/window.go      | 11 ++++++++++-
 app/loop.go                        |  6 +++---
 app/window.go                      |  3 +--
 11 files changed, 21 insertions(+), 26 deletions(-)

commit 5fa3dbc70d2b99a1f2775aa44862a70e3e8a2563
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Nov 29 19:42:29 2019 +0100

    app,app/internal/gpu: split render loop from GPU
    
    The policy of rendering on a separate goroutine is separate from
    the actual rendering. Reflect that by introducing the RenderLoop
    type for driving a GPU from a separate goroutine.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/gpu/context.go |   4 +-
 app/internal/gpu/gpu.go     | 281 +++++++++++++++++++++++++++++-------------------------------------------------------------
 app/loop.go                 | 152 +++++++++++++++++++++++++++++++++++++++++++++++++
 app/window.go               |  39 +++++++------
 4 files changed, 263 insertions(+), 213 deletions(-)

commit 8cec7d1a400caee75bdf9fffce302728828237c0
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Nov 28 18:46:33 2019 +0100

    app/internal/window: move context refresh to window
    
    Instead of calling from the low level context into the window
    for its surface and dimensions, add a Context.MakeCurrent method
    that does it directly.
    
    The result is simpler and clearer logic. For example, synchronization
    is obviously no longer needed. It wasn't necessary before, but the
    reason was unclear.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/egl/egl.go            | 141 ++++++++++++++++++++++++++++-------------------------------------------------------
 app/internal/window/egl_android.go |  38 +++++++++++++++++------
 app/internal/window/egl_wayland.go |  75 +++++++++++++++++++++-----------------------
 app/internal/window/egl_windows.go |  39 +++++++++++++++++------
 app/internal/window/egl_x11.go     |  38 +++++++++++++++++------
 app/internal/window/os_wayland.go  |   2 --
 app/internal/window/os_x11.go      |   8 +++--
 7 files changed, 176 insertions(+), 165 deletions(-)

commit 3199ae760041b4255a8e20b6558c8bf28286a3fc
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Nov 28 18:43:36 2019 +0100

    app/internal/window: fix typo
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/egl_wayland.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 14dad238f37ed7e92c4b1ff27d4c6714f41463f9
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Nov 28 15:28:28 2019 +0100

    app/internal/gl: lazy load blitting program and quad in SRGBFBO
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/gl/srgb.go | 44 +++++++++++++++++++++++++-------------------
 1 file changed, 25 insertions(+), 19 deletions(-)

commit f9f6f2d3ea4c89b262d47e85d18448a0aa1f4524
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Nov 28 15:19:40 2019 +0100

    app/internal/gl: delete buffer and program in SRGBFBO.Release
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/gl/srgb.go | 3 +++
 1 file changed, 3 insertions(+)

commit 809b4a2cf9511eb203a74d86a466e69b46c22f05
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Nov 28 15:14:45 2019 +0100

    app/internal/gpu: don't release the context when New fails
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/gpu/gpu.go | 4 ++--
 app/window.go           | 3 +++
 2 files changed, 5 insertions(+), 2 deletions(-)

commit c49f214f4aec33506058b00ee62bb72d1cc5e068
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Nov 28 14:53:24 2019 +0100

    app/internal/egl: support surfaceless contexts
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/egl/egl.go | 42 +++++++++++++++++++++++++++++-------------
 1 file changed, 29 insertions(+), 13 deletions(-)

commit 5016c98739f000c0a515d3972f22cff4d2fe60f9
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Nov 28 14:41:49 2019 +0100

    app/internal/egl: split surface creation from making context current
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/egl/egl.go | 11 +++++------
 1 file changed, 5 insertions(+), 6 deletions(-)

commit 99b6ad09e5cc6f24c92f4c0ad860e635e85dadd1
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Nov 28 15:03:13 2019 +0100

    app/internal/egl: move EGL interface to its own package
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/{window => egl}/egl.go      |  50 +++++++++++++-------------
 app/internal/{window => egl}/egl_unix.go |  20 +++++------
 app/internal/egl/egl_windows.go          | 151 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 app/internal/window/egl_android.go       |  20 +++++++----
 app/internal/window/egl_wayland.go       |  19 +++++-----
 app/internal/window/egl_windows.go       | 152 +++++------------------------------------------------------------------------
 app/internal/window/egl_x11.go           |  19 +++++-----
 app/internal/window/os_wayland.go        |   2 ++
 8 files changed, 230 insertions(+), 203 deletions(-)

commit 9528a6e0d4cb4ebf5f98e0c550dc1188c304f4e0
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Nov 28 12:18:35 2019 +0100

    app/internal/gpu: rename NewGPU to New
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/gpu/gpu.go | 2 +-
 app/window.go           | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit eb8745eb324ee12a7934c2a40afb8eed43ed155c
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Dec 1 22:38:17 2019 +0100

    app/internal/window: remove redundant return
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/gl_macos.m | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 77d21ddf386c0ae55d40028d33afdf38c242ad63
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Dec 1 19:15:03 2019 +0000

    app/internal/gl: fix ReadPixels on Windows
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/gl/gl_windows.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0ddcee4ec619c0b9b173e30cb7b46c862ec2391d
Author: Larry Clapp <larry@theclapp.org>
Date:   Fri Nov 29 21:23:12 2019 -0500

    app/internal/windows: modifiers & punctuation hotkeys
    
    For Windows:
    - Add shift/ctrl/etc modifiers to mouse events, so you can recognize the
      difference between "click" and "shift-click".
    - Add several allowed punctuation characters as single key events, so
      you can (for example) use "." as a hotkey.
    
    Signed-off-by: Larry Clapp <larry@theclapp.org>

 app/internal/window/os_windows.go | 92 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++------------------------
 1 file changed, 66 insertions(+), 26 deletions(-)

commit b4f73b3ef75b4759e89fbaeb69da34d609b3f9ac
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Nov 28 12:07:15 2019 +0100

    .builds: add missing xkbcommon-x11 dependency
    
    The dependency was added when merging the X11 and Wayland keyboard
    handling.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 .builds/linux.yml | 1 +
 1 file changed, 1 insertion(+)

commit 2ca2e5462f161c30f6ee0e324df09fb2d954ff72
Author: Greg Pomerantz <gmp.gio@wow.st>
Date:   Tue Nov 26 12:47:54 2019 -0500

    app: add RegisterFragment method on *Window for Android
    
    RegisterFragment creates an instance of a Java class and registers
    it as a Fragment in the window's Context.
    
    Signed-off-by: Greg Pomerantz <gmp.gio@wow.st>

 app/app.go                        |  7 -------
 app/app_android.go                | 30 ++++++++++++++++++++++++++++++
 app/internal/window/GioView.java  | 43 +++++++++++++++++++++++++++++++++++++++++--
 app/internal/window/handle.go     |  7 -------
 app/internal/window/os_android.c  |  5 +++++
 app/internal/window/os_android.go | 10 ++++++++++
 app/internal/window/os_android.h  |  1 +
 app/window.go                     | 11 +++++++++++
 8 files changed, 98 insertions(+), 16 deletions(-)

commit ce76c2e996669ac8156881a7af7fa731a07e6b78
Author: Larry Clapp <larry@theclapp.org>
Date:   Tue Nov 26 11:36:54 2019 -0500

    layout: make list scroll position settable
    
    Put List.{first|offset|beforeEnd} into a new exported Position slot, and
    also export each individually.
    
    Have to put BeforeEnd into the Position slot to support ScrollToEnd
    lists.
    
    Signed-off-by: Larry Clapp <larry@theclapp.org>

 layout/list.go | 95 +++++++++++++++++++++++++++++++++++++++++++++++++++++------------------------------------------
 1 file changed, 53 insertions(+), 42 deletions(-)

commit 8321745de9f968876faada8e5175c71cdabeb8c7
Author: Greg Pomerantz <gmp.gio@wow.st>
Date:   Mon Nov 25 13:39:35 2019 -0500

    app/permission: add documentation and storage permissions
    
    Storage permissions enables the Android permissions
    READ_EXTERNAL_STORAGE and WRITE_EXTERNAL_STORAGE.

 app/doc.go                          | 32 ++------------------------------
 app/permission/bluetooth/main.go    | 23 +++++++++++++++++++++++
 app/permission/bluetooth_le/main.go |  1 -
 app/permission/doc.go               | 46 ++++++++++++++++++++++++++++++++++++++++++++++
 app/permission/storage/main.go      | 17 +++++++++++++++++
 cmd/gogio/permission.go             | 15 ++++++++-------
 6 files changed, 96 insertions(+), 38 deletions(-)

commit 99d97d2ef501804be4666d605c4ff7c39d03724f
Author: Daniel Martí <mvdan@mvdan.cc>
Date:   Mon Nov 25 00:02:33 2019 +0000

    cmd/gogio: remove an unnecessary wait in the js e2e test
    
    We already wait for the app to render itself via the "frame ready"
    stdout prints. Waiting for the canvas to be ready isn't really necessary
    anymore. It helped us while we had to rely on sleeps, but that's no
    longer the case.
    
    Signed-off-by: Daniel Martí <mvdan@mvdan.cc>

 cmd/gogio/js_test.go | 6 ------
 1 file changed, 6 deletions(-)

commit 726270ab2d8413bc008ece2fe7d72b8e7a2de750
Author: Daniel Martí <mvdan@mvdan.cc>
Date:   Sat Nov 23 19:36:52 2019 +0000

    cmd: remove js runtime workaround
    
    The js/wasm bug meant that printing to stdout in the e2e app would crash
    the runtime, so we couldn't synchronize with the app like in the other
    drivers.
    
    Now that the bug is fixed, we can do the same as the other drivers just
    fine.
    
    Signed-off-by: Daniel Martí <mvdan@mvdan.cc>

 cmd/gogio/js_test.go      | 22 +++++++++++++++++-----
 cmd/gogio/testdata/red.go |  8 --------
 2 files changed, 17 insertions(+), 13 deletions(-)

commit 4bcb4ec8b696e478fdaa1d2be68f48a8f677fca2
Author: Werner Laurensse <werner@alman.ax>
Date:   Sat Nov 23 06:53:34 2019 +0100

    text: add Metrics method to Face interface. font/opentype: implement Metrics method for Font struct.
    
    Signed-off-by: Werner Laurensse <werner@alman.ax>

 font/opentype/opentype.go | 5 +++++
 text/text.go              | 2 ++
 2 files changed, 7 insertions(+)

commit aca511f849d43e7a687e5c997be2224ffde00df3
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Nov 24 19:38:39 2019 +0100

    app/internal/window: (wasm) generate key.Events for all printable characters
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/os_js.go | 17 ++++++++---------
 1 file changed, 8 insertions(+), 9 deletions(-)

commit 65bc7be2569b708f45335b9d7af500d32a8a3dd5
Author: Larry Clapp <larry@theclapp.org>
Date:   Sat Nov 23 11:22:27 2019 -0500

    app/internal/window: allow punctuation as keycode events
    
    Allows things like "ctrl-{" and ".".
    
    All punctuation is returned as-is, e.g. "!" is "!", not "shift-1", and
    "{" is "{", not "shift-[".
    
    Also add the Enter key as a known key (fn-return on my Mac).
    
    Signed-off-by: Larry Clapp <larry@theclapp.org>

 app/internal/window/os_macos.go | 18 ++++++++++--------
 io/key/key.go                   | 10 +++++-----
 2 files changed, 15 insertions(+), 13 deletions(-)

commit d5424ef7fc291ac52e12f1984de22398f0866027
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Nov 22 18:27:29 2019 +0100

    app/internal/window: replace X11 input handling with xkb
    
    Unifies Wayland and X11 keyboard handling.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/os_wayland.go |  25 +++++---
 app/internal/window/os_x11.go     | 267 +++++++++++++++++++++++++-----------------------------------------------------------
 app/internal/xkb/xkb_unix.go      |  94 ++++++++++++++++++------------
 3 files changed, 151 insertions(+), 235 deletions(-)

commit 5a34b6f2c3ee7b42f44b7819133d9bc88a9e5587
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Nov 22 16:03:48 2019 +0100

    app/internal/xkb: send key.Events for shifted keysyms
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/xkb/xkb_unix.go | 45 +++++++++++++++++++++++++--------------------
 1 file changed, 25 insertions(+), 20 deletions(-)

commit 968669d39e7a8a6dbe7343c129f93982461baed0
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Nov 21 16:04:04 2019 +0100

    app/internal/xkb: fix cleanup check
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/xkb/xkb_unix.go | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 4072361fd57b2d5c19d9ff7f3483ee17843b7b1d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Nov 22 14:48:51 2019 +0100

    app/internal/gpu: fix Pathfinder URL
    
    Noticed by Daniel Martí.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/gpu/path.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6a2b5a8d3b93ca3735f160c02b72900cb33b7813
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Nov 20 20:28:06 2019 +0100

    example,cmd: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/go.mod     | 2 +-
 cmd/go.sum     | 4 ++--
 example/go.mod | 2 +-
 example/go.sum | 4 ++--
 4 files changed, 6 insertions(+), 6 deletions(-)

commit f3f079df324f8eeda9452ff826399d60069daa5d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Nov 20 20:15:31 2019 +0100

    font/opentype: treat invalid characters less specially
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 font/opentype/opentype.go | 8 ++------
 1 file changed, 2 insertions(+), 6 deletions(-)

commit c072a7eb8779fbb8d556b83afd6105870c35dfbf
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Nov 20 19:57:38 2019 +0100

    font/opentype: fix kerning
    
    Fixes gio#69
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 font/opentype/opentype.go | 13 ++++++-------
 1 file changed, 6 insertions(+), 7 deletions(-)

commit 76c209b59468895d2c481ba6f3262743e4b92e45
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Nov 20 18:36:34 2019 +0100

    example,cmd: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/go.mod     | 2 +-
 cmd/go.sum     | 4 ++--
 example/go.mod | 2 +-
 example/go.sum | 4 ++--
 4 files changed, 6 insertions(+), 6 deletions(-)

commit b39e4227c227b1081be21b841464ce47f7b83ad8
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Nov 20 18:30:01 2019 +0100

    gesture,internal/fling: fix rounding
    
    The code tried to extract a rounded whole number of pixels while preserving the
    fraction. However, it failed to converge for the value 0.5, rounded to 1,
    leaving -0.5, rounded to -1, leaving 0.5 and so on.
    
    Drop the cleverness and truncate the values instead.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 gesture/gesture.go          | 2 +-
 internal/fling/animation.go | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 72840d7b88c4bb1872f5a3a67237aa2f9e4fa637
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Nov 20 15:19:26 2019 +0000

    app/internal/window: delete redundant draw on WM_MAXIMIZE, WM_RESTORED
    
    There's always a WM_PAINT after a restore or maximize message.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/os_windows.go | 1 -
 1 file changed, 1 deletion(-)

commit f8de7545f4f7a0ca2cda22f5189544b051f8b5b8
Author: Larry Clapp <larry@theclapp.org>
Date:   Mon Nov 18 08:11:37 2019 -0500

    several: add modifiers to mouse events and clicks
    
    macOS only, for the os-specific bits.
    
    Signed-off-by: Larry Clapp <larry@theclapp.org>

 app/internal/window/gl_macos.m  |  2 +-
 app/internal/window/os_macos.go | 50 +++++++++++++++++++++++++++++---------------------
 gesture/gesture.go              | 12 +++++++-----
 io/pointer/pointer.go           |  4 ++++
 4 files changed, 41 insertions(+), 27 deletions(-)

commit 26f34a3331294618a678b74d43f9abe6a59a3438
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Nov 18 15:05:12 2019 +0100

    example,cmd: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/go.mod                | 2 +-
 cmd/go.sum                | 4 ++--
 cmd/gogio/testdata/red.go | 4 ++--
 example/go.mod            | 2 +-
 example/go.sum            | 4 ++--
 example/gophers/ui.go     | 2 +-
 6 files changed, 9 insertions(+), 9 deletions(-)

commit 16cc51ee8aa6081d83a16ef3543f3e4f5dcb5439
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Nov 18 14:59:50 2019 +0100

    io/pointer: unify area ops into a single AreaOp
    
    Make Rect and Ellipse constructors of AreaOp.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 io/pointer/doc.go            |  2 +-
 io/pointer/pointer.go        | 42 +++++++++++++++---------------------------
 layout/list.go               |  2 +-
 widget/editor.go             |  2 +-
 widget/material/button.go    |  4 ++--
 widget/material/checkable.go |  2 +-
 6 files changed, 21 insertions(+), 33 deletions(-)

commit 3edd9dd8be3326362c3f6a05d36fdc49586f7c4c
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Nov 18 14:37:14 2019 +0100

    example/gophers: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/go.mod        | 2 +-
 example/go.sum        | 4 ++--
 example/gophers/ui.go | 5 ++++-
 3 files changed, 7 insertions(+), 4 deletions(-)

commit 7299d1c875c8ec66381ff3bce614c4a253cd9915
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Nov 18 14:33:28 2019 +0100

    op/clip: replace Rect and RoundRect with Rect type
    
    Remembering the order of the corners in the RoundRect is difficult,
    which suggest that RoundRect should be a struct with named fields.
    
    Do that, and make Rect the special case where corner radii are all
    zero.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/list.go            |  2 +-
 op/clip/clip.go           | 45 +++++++++++++++++++++++++++++----------------
 widget/material/button.go | 27 +++++++++++++++------------
 widget/material/image.go  |  2 +-
 4 files changed, 46 insertions(+), 30 deletions(-)

commit 101b65f4e5500f78bbe3c4336d017f292a196e16
Author: Konstantin Kulikov <k.kulikov2@gmail.com>
Date:   Thu Nov 14 05:48:26 2019 +0300

    app/internal/window: map window after defining WM protocols
    
    ICCCM 4.1.2 says WMs will examine client properties every time
    window is mapped. Because SetWMProtocols is called before MapWindow
    some WMs (specifically taowm) never see them.
    
    In other WMs this works because they check for WM_DELETE_WINDOW
    when user tries to close window, not when window is mapped.
    
    Signed-off-by: Konstantin Kulikov <k.kulikov2@gmail.com>

 app/internal/window/os_x11.go | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 1bf2c7ef293c96087f25746c774736be72ba7b4f
Author: Denis Bernard <db047h@gmail.com>
Date:   Wed Nov 13 00:10:48 2019 +0100

    app/internal/window: (X11) Add support for UTF-8 window title.
    
    Signed-off-by: Denis Bernard <db047h@gmail.com>

 app/internal/window/os_x11.go | 28 ++++++++++++++++++++++++----
 1 file changed, 24 insertions(+), 4 deletions(-)

commit b29b1f667730bcb56eeb1aa2fdc2be455fe9408d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Nov 12 22:20:37 2019 +0100

    example: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/go.mod | 2 +-
 example/go.sum | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 1d0a7b845ed6cc7a0d29445d16fe5a268e7b6ab1
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Nov 12 22:17:29 2019 +0100

    app: destroy GPU before ack'ing the DestroyEvent
    
    The DestroyEvent ack allows the backend to release the window.
    Ensure that the GPU associated with the window is done before that
    happens.
    
    Updates gio#67
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/window.go | 9 +++++++++
 1 file changed, 9 insertions(+)

commit 41abb5b08d99942fdc766834a950bb0694e6ce50
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Nov 12 22:12:57 2019 +0100

    Revert "app: release GPU before processing DestroyEvent"
    
    This reverts commit 8620b43eb3633b0a4cfb42bdad6930411455595b.
    
    Releasing the GPU after ack'ing the DestroyEvent is too late.
    
    Updates gio#67

 app/window.go | 8 ++------
 1 file changed, 2 insertions(+), 6 deletions(-)

commit 2e0406802b8490f31e583d9eb0f780aa3a2f56b7
Author: Denis Bernard <db047h@gmail.com>
Date:   Mon Nov 11 13:41:54 2019 +0100

    app/internal/window: cleanup X11 initialization
    
    Removed redundant XSelectInput and XChangeWindowAttributes as well as
    obsolete screen parameter in x11DetectUIScale.
    
    Signed-off-by: Denis Bernard <db047h@gmail.com>

 app/internal/window/os_x11.go | 38 +++++++++++++++-----------------------
 1 file changed, 15 insertions(+), 23 deletions(-)

commit a770a2425c08e3401250343fdc5c4065f6eafaa4
Author: Larry Clapp <larry@theclapp.org>
Date:   Sun Nov 10 16:02:11 2019 -0500

    widget: no newline in editor on submit
    
    When you press enter to "submit" an editor widget, don't also append the
    newline to the editor text.  Enter should be "submit" or "add newline"
    but not both.
    
    Also add parens to the Enter check: x && y || z => x && (y || z).
    
    Signed-off-by: Larry Clapp <larry@theclapp.org>

 widget/editor.go | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 682d2810d32adf37f875a41ed1cd7d64fe0cce7e
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Nov 9 20:00:09 2019 +0100

    text: remove SingleLine from LayoutOptions
    
    Low level text layout should not deal with filtering newlines.
    
    Updates gio#61
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 font/opentype/opentype.go | 8 +-------
 text/text.go              | 4 +---
 widget/editor.go          | 7 ++++---
 3 files changed, 6 insertions(+), 13 deletions(-)

commit 778b7e639841b62a1462056fd4da3ff69c98def3
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Nov 9 19:55:05 2019 +0100

    widget/material: rename material.go to theme.go
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 widget/material/{material.go => theme.go} | 0
 1 file changed, 0 insertions(+), 0 deletions(-)

commit d8c9cb426c417a98e58529dfde91462ec10c5419
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Nov 9 19:45:36 2019 +0100

    example/gophers: update gio version
    
    gofmt -w -s . as well.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/os_windows.go |  8 ++++----
 cmd/go.mod                        |  2 +-
 cmd/go.sum                        |  4 ++--
 example/go.mod                    |  2 +-
 example/go.sum                    |  4 ++--
 example/gophers/ui.go             | 20 ++------------------
 6 files changed, 12 insertions(+), 28 deletions(-)

commit 65c783179dbb553f40c1ea5566d0a3db2179d020
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Nov 9 19:42:19 2019 +0100

    clip: change Rect argument to f32.Rectangle
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/list.go           | 10 +++++++++-
 op/clip/clip.go          | 14 +++++++++++---
 widget/material/image.go |  2 +-
 3 files changed, 21 insertions(+), 5 deletions(-)

commit 4f30b985eb34935ab36ef4b4817138ded15f46d7
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Nov 9 19:20:47 2019 +0100

    op/clip: add RoundRect
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 op/clip/clip.go             | 24 ++++++++++++++++++++++++
 widget/material/button.go   | 23 ++++++++++++++---------
 widget/material/material.go | 19 -------------------
 3 files changed, 38 insertions(+), 28 deletions(-)

commit e864ac3fc3b7f8e605c38ad84e3da3b768e5f50c
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Nov 9 19:05:03 2019 +0100

    op/clip: split clip operations into its own package
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/gpu/gpu.go            |  2 +-
 font/opentype/opentype.go          |  8 ++++----
 layout/list.go                     |  4 ++--
 op/{paint/path.go => clip/clip.go} | 42 +++++++++++++++++++++++++++++-------------
 op/clip/doc.go                     | 16 ++++++++++++++++
 op/paint/doc.go                    |  5 +----
 op/paint/paint.go                  | 13 -------------
 text/lru.go                        | 10 +++++-----
 text/lru_test.go                   |  4 ++--
 text/shaper.go                     |  8 ++++----
 text/text.go                       |  4 ++--
 widget/editor.go                   |  3 ++-
 widget/material/image.go           |  3 ++-
 widget/material/material.go        |  3 ++-
 14 files changed, 72 insertions(+), 53 deletions(-)

commit 560cf6054c233a6460219dacb33db2a325f59a59
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Nov 9 18:31:49 2019 +0100

    op/paint: add note that ClipOp intersects the clip, not replace it
    
    Updates #61
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 op/paint/path.go | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 0dac972b257e83960db6b095db7323873f7a5ba9
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Nov 9 18:25:28 2019 +0100

    app,os: update documentation to match changed API
    
    Updates gio#61
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/doc.go | 2 +-
 op/op.go   | 3 ++-
 2 files changed, 3 insertions(+), 2 deletions(-)

commit 8620b43eb3633b0a4cfb42bdad6930411455595b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Nov 9 18:13:14 2019 +0100

    app: release GPU before processing DestroyEvent
    
    In fact, move the release of the GPU to a deferred function, saving
    a release.
    
    Fixes #65
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/window.go | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit b950aa71e1f93ad36134d56ff53e2d67ce4f977d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Nov 9 18:05:33 2019 +0100

    app/internal/window: (X11) don't destroy window on EGL destroy
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/egl_x11.go | 1 -
 1 file changed, 1 deletion(-)

commit 0cfcf5ca2d98f611043565e9919edf6791767b96
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Nov 9 17:57:20 2019 +0100

    app/internal/window: (X11) implement right and middle mouse buttons
    
    Updates gio#60
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/os_x11.go | 23 +++++++++++++++++++----
 1 file changed, 19 insertions(+), 4 deletions(-)

commit dc7f9bab234cd3deda999eb3541f9ecf350ad9ea
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Nov 9 16:34:00 2019 +0100

    io/pointer,gesture: report right and middle mouse button events
    
    Updates gio#60
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/GioView.java  |  4 +++-
 app/internal/window/gl_macos.m    | 14 +++++++++++++-
 app/internal/window/os_android.c  |  2 +-
 app/internal/window/os_android.go | 13 ++++++++++++-
 app/internal/window/os_js.go      | 12 ++++++++++++
 app/internal/window/os_macos.go   | 13 ++++++++++++-
 app/internal/window/os_wayland.go | 28 +++++++++++++++++++++++-----
 app/internal/window/os_windows.go | 75 +++++++++++++++++++++++++++++++++++++++++++++++++--------------------------
 gesture/gesture.go                |  3 +++
 io/pointer/pointer.go             | 32 ++++++++++++++++++++++++++++++++
 10 files changed, 160 insertions(+), 36 deletions(-)

commit a0050ab79be2ea828310c33ea9c1e65bb2eafac0
Author: Denis Bernard <db047h@gmail.com>
Date:   Sat Nov 9 16:05:57 2019 +0100

    app/internal/window: x11: fix issue with space not sending key.EditEvent
    
    This is a general fix where keys with names differing from their UTF8
    representation could not be sent as EditEvents.
    
    Signed-off-by: Denis Bernard <db047h@gmail.com>

 app/internal/window/os_x11.go | 55 ++++++++++++++++++++++++++++++++++++++-----------------
 1 file changed, 38 insertions(+), 17 deletions(-)

commit c8d01d99cc1a770f8cce67bd4446ac892577b8c3
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Nov 9 15:55:03 2019 +0100

    app/internal/xkb: translate physical "Backtab" keys to Shift-Tab
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/xkb/xkb_unix.go | 5 +++++
 1 file changed, 5 insertions(+)

commit dca25a7708b3c36b69754c4c3a604872b24e960a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Nov 9 15:38:07 2019 +0100

    app/internal/window: map "Backtab" to Shift-Tab
    
    Updates gio#62
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/os_macos.go | 2 +-
 app/internal/xkb/xkb_unix.go    | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit de7d6b28fa7ec8df34a981d95d4b90e889c1fe2e
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Nov 9 11:17:36 2019 +0100

    io/key: add support for the Tab and Space keys
    
    Fixes gio#62
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/os_js.go      | 4 ++++
 app/internal/window/os_macos.go   | 4 ++++
 app/internal/window/os_windows.go | 6 ++++++
 app/internal/window/os_x11.go     | 4 ++++
 app/internal/xkb/xkb_unix.go      | 4 ++++
 io/key/key.go                     | 1 +
 6 files changed, 23 insertions(+)

commit da42412e565837fafbd50f294282453ccadc0027
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Nov 9 00:42:02 2019 +0100

    README.md: add an Oxford comma to emphasize only WebAssembly is
    experimental
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9def3153de74adbc3261c7ae5914334abec3cb0f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Nov 8 22:27:06 2019 +0100

    README.md: note that the WebAssembly is experimental
    
    It's slow and syscall/js has seen incompatible changes in Go 1.13
    and Go 1.14.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 294308d8aa446b28b4a96fa6b4bc60dd56a4c994
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Nov 8 22:22:41 2019 +0100

    example/gophers: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/go.mod              | 2 +-
 cmd/go.sum              | 4 ++--
 example/go.mod          | 2 +-
 example/go.sum          | 4 ++--
 example/gophers/main.go | 2 +-
 5 files changed, 7 insertions(+), 7 deletions(-)

commit cc43588aba76d9cfd600938f2f4613e3bb4410fe
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Nov 8 19:00:43 2019 +0100

    io/key: switch Event.Name to be a string and add function keys
    
    Function keys don't have a natural rune representation so switch
    Event.Name to be a string to fit "F1"-"F12".
    
    Fixes gio#59
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/os_android.go |  6 +++---
 app/internal/window/os_ios.go     |  2 +-
 app/internal/window/os_js.go      | 12 +++++++-----
 app/internal/window/os_macos.go   | 34 +++++++++++++++++++++++++++++-----
 app/internal/window/os_windows.go | 45 +++++++++++++++++++++++++++++++++++++++++----
 app/internal/window/os_x11.go     | 34 +++++++++++++++++++++++++++++-----
 app/internal/xkb/xkb_unix.go      | 59 +++++++++++++++++++++++++++++++++++++++++------------------
 io/key/key.go                     | 36 ++++++++++++++++++------------------
 8 files changed, 169 insertions(+), 59 deletions(-)

commit c833c98fd768d695046ec5702a569d996174cfc4
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Nov 8 18:21:43 2019 +0100

    io/key: add ModAlt, ModSuper
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/os_js.go      |  5 ++++-
 app/internal/window/os_macos.go   |  6 ++++++
 app/internal/window/os_windows.go |  9 +++++++++
 app/internal/window/os_x11.go     |  6 ++++++
 app/internal/xkb/xkb_unix.go      |  8 ++++++++
 io/key/key.go                     | 12 ++++++++++++
 6 files changed, 45 insertions(+), 1 deletion(-)

commit c4416ffbc4af74a167b0c2d6436f1cdbcab3caa1
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Nov 8 18:04:56 2019 +0100

    example/gophers: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/go.mod              | 2 +-
 cmd/go.sum              | 4 ++--
 example/go.mod          | 2 +-
 example/go.sum          | 4 ++--
 example/gophers/main.go | 2 +-
 5 files changed, 7 insertions(+), 7 deletions(-)

commit d293dfe6041d4e502eb10b11bf2e5683eb66057e
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Nov 8 18:02:26 2019 +0100

    key: add ModCtrl, ModShortcut
    
    ModCtrl is the physical Ctrl key, ModShortcut is the virtual
    "shortcut" modifier, which is Ctrl on most platforms, Command on
    Apple platforms.
    
    Updates #59
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/os_windows.go |  2 +-
 app/internal/window/os_x11.go     |  6 +++---
 app/internal/xkb/xkb_unix.go      |  2 +-
 io/key/key.go                     | 14 +++++++++-----
 io/key/mod.go                     |  9 +++++++++
 io/key/mod_darwin.go              |  7 +++++++
 6 files changed, 30 insertions(+), 10 deletions(-)

commit 1eaa5dd15e36bd1000b0ccd61c05caf8b44593c4
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Nov 8 13:50:49 2019 +0100

    app,app/internal/gpu: process frame in parallel
    
    A frame ops buffers is tracersed twice: once for GPU commands,
    and once for everything else. There is already a GPU goroutine for
    concurrentl issuing of GPU commands; move the frame ops processing
    to the goroutine as well. Both frame ops passed can then proceed
    in parallel.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/gpu/gpu.go | 54 ++++++++++++++++++++++++++++++------------------------
 app/window.go           |  4 +++-
 2 files changed, 33 insertions(+), 25 deletions(-)

commit 1678f922e7f553a4763d749d0019562bcd310f48
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Nov 8 13:29:35 2019 +0100

    app: make CPU timings more useful
    
    Record the time for generating a frame and submitting it as well
    as the time for issuing the frame to the GPU and swapping buffers.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/gpu/gpu.go |  4 +++-
 app/window.go           | 25 ++++++++-----------------
 2 files changed, 11 insertions(+), 18 deletions(-)

commit f6cdc6212059a218aad913906e69a44f77d5ce22
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Nov 8 13:02:19 2019 +0100

    app: don't schedule a new frame for profiling events
    
    Sometimes it's useful to profile yet not continously re-draw. If the programs
    wants the old behaviour, it can issue an InvalidateOp or call
    Window.Invalidate.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/input/router.go | 30 +++++++++++++++++++++---------
 app/window.go                |  1 -
 2 files changed, 21 insertions(+), 10 deletions(-)

commit e16712321f4c012a8edf96543dd937aca1f9c721
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Nov 8 12:25:00 2019 +0100

    .builds: use gotip on freebsd builder
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 .builds/freebsd.yml | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit f1d971268eb1f099c500d93e6cc91303abfc0862
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Nov 7 21:08:01 2019 +0100

    op/paint: guard against nil image in ImageOp.Size
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 op/paint/paint.go | 3 +++
 1 file changed, 3 insertions(+)

commit 508f615f0b5cccbeb4db86f6e3921b828a6862b4
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Nov 7 18:51:32 2019 +0100

    example,cmd: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/go.mod     | 2 +-
 cmd/go.sum     | 4 ++--
 example/go.mod | 2 +-
 example/go.sum | 4 ++--
 4 files changed, 6 insertions(+), 6 deletions(-)

commit 9c0fc631bd3a6f9cdfbe4ce4427146b9669bed6a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Nov 7 18:45:53 2019 +0100

    widget/material: use theme TextSize for Editors
    
    Thanks to Werner Laurensse for noticing.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 widget/material/editor.go | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 454b2264048f39952fb7de8f853c8545f171ceeb
Author: aarzilli <alessandro.arzilli@gmail.com>
Date:   Thu Nov 7 15:32:48 2019 +0100

    op/paint: NewImageOp does not need to make copies of RGBA images
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 op/paint/paint.go | 32 +++++++++++++++++++-------------
 1 file changed, 19 insertions(+), 13 deletions(-)

commit 237a8dad8f5410b64721ea1fbd190f2a8e901e2b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Nov 7 11:31:17 2019 +0100

    app/internal/window: re-create EGL surface on resizing
    
    This is effectively a revert of 60e4cca934eaa4713fdf693ac4afcacc43f7b632, which
    seems to have caused flickering problems on some versions of Windows.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/egl.go | 47 +++++++++++++++++++++--------------------------
 1 file changed, 21 insertions(+), 26 deletions(-)

commit 97299dc2f9b1e05d44bf426b358c5dbfe65409f1
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Nov 7 18:27:06 2019 +0100

    op/paint: make every ImageOp unique
    
    The gioui.org/commit/74407a50d598bfd27e8f8e48b6832cc5df04de77
    added a NewImageOp constructor that always copies the supplied
    image. It does that for two reasons:
    
    First, the image.Image reference is used in the image=>texture
    map of cached textures. Without a copy, we wouldn't detect a
    modified image even if a new ImageOp was created.
    
    Second, we don't want the program to touch the image while the GPU
    is uploading it.
    
    The second reason was removed in a previous change that blocks
    FrameEvent.Frame until we're done with the operations, including
    uploading images to the GPU.
    
    The first reason is easily fixed by using a unique per ImageOp,
    as pointed out by Alessandro Arzilli.
    
    This change switches to using the unique key. Alessandro's patch
    avoids the copy when possible.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/gpu/gpu.go | 69 ++++++++++++++++++++++++++++++++++++++++-----------------------------
 internal/opconst/ops.go |  6 ++++--
 op/paint/paint.go       | 14 ++++++++------
 3 files changed, 52 insertions(+), 37 deletions(-)

commit d980c4652a8c72ff64d8fede5045cd80001f6c0e
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Nov 7 17:34:32 2019 +0100

    app: don't touch the frame after returning from FrameEvent.Frame
    
    It was already true that the GPU wouldn't touch the frame after
    calling GPU.Draw. This change makes FrameEvent.Frame block until
    GPU.Draw is complete.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/window.go | 19 ++++++++++++++++---
 1 file changed, 16 insertions(+), 3 deletions(-)

commit 6fedfaf3af4ed51eed58898d7f8d3f685e049223
Author: Daniel Martí <mvdan@mvdan.cc>
Date:   Thu Nov 7 14:15:19 2019 +0000

    cmd/gogio: start using testing.T.Cleanup
    
    Now that we use tip due to breaking changes in Go's JS APIs, let's
    replace our hacky cleanup list code with 1.14's upcoming
    testing.T.Cleanup.
    
    Adding more deliberate uses of tip would ususally be best avoided, but
    these will only affect developers working on gio's tests, not regular
    users of gio.
    
    While at it, remove some debug t.Logf calls I forgot to remove.
    
    Signed-off-by: Daniel Martí <mvdan@mvdan.cc>

 cmd/gogio/e2e_test.go     | 11 ++---------
 cmd/gogio/js_test.go      | 12 +++++-------
 cmd/gogio/wayland_test.go | 17 ++++++-----------
 cmd/gogio/x11_test.go     | 14 ++++++--------
 4 files changed, 19 insertions(+), 35 deletions(-)

commit 75a58e42efd3e0524a3cd27db574416e2ac892d1
Author: Denis Bernard <db047h@gmail.com>
Date:   Wed Nov 6 18:39:07 2019 +0100

    app/internal/window: remove direct pointer arithmetic in x11 driver.
    
    Signed-off-by: Denis Bernard <db047h@gmail.com>

 app/internal/window/os_x11.go | 162 ++++++++++++++--------------------------------------------------------------------------
 1 file changed, 25 insertions(+), 137 deletions(-)

commit e683b19b298f49231eb8d0fe24b5ac33b378da16
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Nov 6 18:23:04 2019 +0100

    .builds: use Go 1.14 for the basic tests
    
    WebAssembly builds require Go 1.14 since the breaking change in Go,
    golang.org/cl/203600.
    
    gofmt -w -s . as well.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 .builds/linux.yml     | 7 ++++++-
 cmd/gogio/e2e_test.go | 2 +-
 2 files changed, 7 insertions(+), 2 deletions(-)

commit b0c29b548906dee97972acd884058e70ef3a8a74
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Nov 6 18:04:52 2019 +0100

    example,cmd: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/go.mod     | 2 +-
 cmd/go.sum     | 4 ++--
 example/go.mod | 2 +-
 example/go.sum | 4 ++--
 4 files changed, 6 insertions(+), 6 deletions(-)

commit 6f860200b9fcc6dcda0525baac7f3a85a72677fc
Author: Daniel Martí <mvdan@mvdan.cc>
Date:   Wed Nov 6 16:52:36 2019 +0000

    cmd/gogio: join all endtoend tests as subtests
    
    This means we can deduplicate some of the logic, and keep it all in one
    place.
    
    Start expanding the logic too; the tests are slow, so they should be
    skipped on 'go test -short'. The ones we have so far all run in a matter
    of seconds on an average laptop today, but future tests will probably
    require heavier work like wine or kvm.
    
    Signed-off-by: Daniel Martí <mvdan@mvdan.cc>

 cmd/gogio/e2e_test.go     | 26 ++++++++++++++++++++++++++
 cmd/gogio/js_test.go      |  6 ------
 cmd/gogio/wayland_test.go |  6 ------
 cmd/gogio/x11_test.go     |  6 ------
 4 files changed, 26 insertions(+), 18 deletions(-)

commit 62da32be9cd7dc53deaa28cf59955359f0a3a95f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Nov 6 17:59:39 2019 +0100

    app/internal/gl: support Go 1.14 change to WebAssembly's js.Value
    
    Gio programs will no longer build with Go 1.13; let's keep it at that
    until someone complains.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/gl/gl_js.go     | 20 ++++++++++----------
 app/internal/gl/types.go     | 16 ++++++++++++++++
 app/internal/gl/types_js.go  | 18 +++++++++++++++++-
 app/internal/gl/util.go      |  4 ++--
 app/internal/gpu/gpu.go      |  6 +++---
 app/internal/window/gl_js.go |  4 ++--
 app/internal/window/os_js.go |  4 ++--
 7 files changed, 52 insertions(+), 20 deletions(-)

commit c3533c3f8421a0f1ccc8b691e36e708b23e022a6
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Nov 6 17:32:21 2019 +0100

    example,cmd: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/go.mod     | 2 +-
 cmd/go.sum     | 4 ++--
 example/go.mod | 2 +-
 example/go.sum | 4 ++--
 4 files changed, 6 insertions(+), 6 deletions(-)

commit 7256bdae38ea99bc49c53fdd6061fd54d8d2da52
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Nov 6 17:28:14 2019 +0100

    app/internal/windows: don't draw window background on Windows
    
    Avoids flickering between GPU content and the CPU drawn background
    color.
    
    gofmt -w -s . now we're here.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/os_windows.go | 4 ++++
 widget/material/material.go       | 6 +++---
 2 files changed, 7 insertions(+), 3 deletions(-)

commit 9c84b95f7dd42705092c3268b83a642a19787ee0
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Nov 6 17:13:03 2019 +0100

    app/internal/window: specify None as the X11 window background
    
    Avoids flickering on my Fedora 31 Gnome setup.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/os_x11.go | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 96072cec66ef902901ac4dea1ed0369b88645fe9
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Nov 6 16:41:13 2019 +0100

    README.md: add note about gio-patches mailing list
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 0ad9bd9725e1ddfa75d3fe12bc9c32588a68c73f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Nov 6 16:11:46 2019 +0100

    app/internal/window: finish GL commands before surface detruction
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/egl.go | 25 +++++++++++++------------
 1 file changed, 13 insertions(+), 12 deletions(-)

commit 6287c1750f16bc6fb124a5d36efab132692e89ff
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Nov 6 16:09:21 2019 +0100

    Revert "app/internal/window: finish GL commands before resizing"
    
    This reverts commit 8e874e1afd2c593cad15cea0c307ff4c3dbfab4a.
    
    Didn't fix flickering.

 app/internal/window/egl.go | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 68063633f2675a54ec4601d5236fc9ea8d15b068
Author: Denis Bernard <db047h@gmail.com>
Date:   Wed Nov 6 14:39:21 2019 +0100

    app/internal/window: Fix keyboard handling on X11
    
    When the control key is pressed, clear event.state bits before calling
    Xutf8LookupString in order to get the unmodified key name. This allows
    proper handling of all keys in combination with ModCommand.
    
    `key.Event.Name` is however layout dependent. Client code should be
    careful about this when picking key shortcuts like CTRL-'+': on a QWERTY
    keyboard, only CTRL-'=' and CTRL-SHIFT-'=' are generated when pressing
    the '=' key of the top row. The keypad '+' key generates events with
    `Name = '+'` as expected.
    
    Fixes gio#57
    
    Signed-off-by: Denis Bernard <db047h@gmail.com>

 app/internal/window/os_x11.go | 62 +++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 35 insertions(+), 27 deletions(-)

commit 1defd4e759271d9693831ecd5fd974fc468954b9
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Nov 6 11:42:33 2019 +0100

    widget/material: clean up package docs, add license, rename file
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 widget/material/button.go                     |  1 -
 widget/material/{chekable.go => checkable.go} |  2 ++
 widget/material/checkbox.go                   |  1 -
 widget/material/doc.go                        | 22 ++++++++++++----------
 widget/material/icon.go                       |  1 -
 widget/material/radiobutton.go                |  1 -
 6 files changed, 14 insertions(+), 14 deletions(-)

commit 90e25ed52fb562f41bc351a6460aaa79e7cdaecd
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Nov 6 11:26:08 2019 +0100

    example: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/go.mod | 2 +-
 example/go.sum | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 8e874e1afd2c593cad15cea0c307ff4c3dbfab4a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Nov 6 11:23:49 2019 +0100

    app/internal/window: finish GL commands before resizing
    
    Perhaps fixes flickering during window resize.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/egl.go | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 6f3471e4adf3f356b76fefca5d14a052da8f3b77
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Nov 6 11:06:58 2019 +0100

    example,cmd: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/go.mod | 2 +-
 example/go.sum | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 089ae31f0cf8c3bfb2b1edcda8103b6c1f75f4a9
Author: Alexander Arin <fralx@yandex.ru>
Date:   Wed Nov 6 12:55:19 2019 +0300

    widgets, widgets/material: add RadioButton & Enum
    
    Signed-off-by: Alexander Arin <fralx@yandex.ru>

 example/kitchen/kitchen.go     | 22 ++++++++++++++++++----
 widget/enum.go                 | 51 +++++++++++++++++++++++++++++++++++++++++++++++++++
 widget/material/checkbox.go    | 79 ++++++++++++++-----------------------------------------------------------------
 widget/material/chekable.go    | 65 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 widget/material/material.go    | 12 ++++++++----
 widget/material/radiobutton.go | 42 ++++++++++++++++++++++++++++++++++++++++++
 6 files changed, 198 insertions(+), 73 deletions(-)

commit 82e51019e1a2dd164927f42066c5746d5bc4d1a0
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Nov 6 10:57:17 2019 +0100

    widget/material: document package
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 widget/doc.go               |  6 +++---
 widget/material/doc.go      | 57 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 widget/material/material.go |  1 -
 3 files changed, 60 insertions(+), 4 deletions(-)

commit 1438e504cc95bb9f5c8c7adafb03101296381746
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Nov 5 18:25:27 2019 +0100

    example,cmd: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/go.mod     | 2 +-
 cmd/go.sum     | 4 ++--
 example/go.mod | 2 +-
 example/go.sum | 4 ++--
 4 files changed, 6 insertions(+), 6 deletions(-)

commit ef78ba37f6b562f3757aaa3490246adca81a5a01
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Nov 5 18:20:36 2019 +0100

    app/internal/window: implement GetDpiForMonitor fallback for < Win 8.1
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/os_windows.go | 41 +++++++++++++++++++++++++++++++----------
 1 file changed, 31 insertions(+), 10 deletions(-)

commit 299e966816aca254781d80447b0163cd5196f1b7
Author: aarzilli <alessandro.arzilli@gmail.com>
Date:   Tue Nov 5 14:04:39 2019 +0100

    op/paint: make documentation of Line clearer
    
    The movement is not to an absolute coordinate but by a delta relative
    to the current position of the pen.

 op/paint/path.go | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 60e4cca934eaa4713fdf693ac4afcacc43f7b632
Author: Denis Bernard <db047h@gmail.com>
Date:   Tue Nov 5 13:07:36 2019 +0100

    app/internal/window: Do not re-create EGL surfaces when only resizing
    
    This prevents flickering when resizing the window on X11.
    
    Signed-off-by: Denis Bernard <db047h@gmail.com>

 app/internal/window/egl.go | 57 ++++++++++++++++++++++++++++++---------------------------
 1 file changed, 30 insertions(+), 27 deletions(-)

commit 4719d56f86109cf8f13095abb75e1be844842310
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Nov 5 12:50:07 2019 +0100

    .builds: fix go fmt test and go fmt -w -s .
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 .builds/linux.yml         | 2 +-
 cmd/gogio/wayland_test.go | 2 +-
 cmd/gogio/x11_test.go     | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 900acc08a1a3c4edcab730245d86bc319f033661
Author: Denis Bernard <db047h@gmail.com>
Date:   Mon Nov 4 23:53:53 2019 +0100

    app/internal/window: replace gio_x11_connection_number stub by proper xlib function
    
    Signed-off-by: Denis Bernard <db047h@gmail.com>

 app/internal/window/os_x11.go | 6 +-----
 1 file changed, 1 insertion(+), 5 deletions(-)

commit 4d7c89fec32afc7422872e735097c3270d854da4
Author: Daniel Martí <mvdan@mvdan.cc>
Date:   Mon Nov 4 18:44:54 2019 +0000

    cmd/gogio: simplify the test -race setup
    
    In an earlier commit, we made it possible to run the e2e tests with the
    race detector enabled everywhere via GOFLAGS=-race go test.
    
    However, that's not at all standard; most users will simply use 'go test
    -race'. Moreover, having 'go test -race' run the test program with the
    race detector, but not the e2e gio app, is a bit useless.
    
    Instead, have the tests detect when they run with the race detector, and
    enable the race detector in the test app too. As before, the JS test is
    skipped whenever -race is used.
    
    This also means we can test with -race in the same way in each of the
    modules, which simplifies CI.
    
    Signed-off-by: Daniel Martí <mvdan@mvdan.cc>

 .builds/linux.yml         | 2 +-
 cmd/gogio/wayland_test.go | 7 ++++++-
 cmd/gogio/x11_test.go     | 7 ++++++-
 3 files changed, 13 insertions(+), 3 deletions(-)

commit c2cab4505c1c432acc76bb0517a7002ffbdaf567
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Nov 4 19:32:07 2019 +0100

    example,cmd: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/go.mod     | 2 +-
 cmd/go.sum     | 4 ++--
 example/go.mod | 2 +-
 example/go.sum | 4 ++--
 4 files changed, 6 insertions(+), 6 deletions(-)

commit 4adaea3396e89d92706ae81c820f324c86db648f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Nov 4 19:23:19 2019 +0100

    app/internal/window: correct baseline DPI on Windows, iOS
    
    Updates gio#53
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/os_android.go | 1 +
 app/internal/window/os_ios.go     | 1 +
 app/internal/window/os_windows.go | 1 +
 app/internal/window/window.go     | 4 ----
 4 files changed, 3 insertions(+), 4 deletions(-)

commit 615840352e05fb0fecbf8db37992062fc81f0ecf
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Nov 4 19:11:32 2019 +0100

    example,cmd: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/go.mod     | 2 +-
 cmd/go.sum     | 4 ++--
 example/go.mod | 2 +-
 example/go.sum | 4 ++--
 4 files changed, 6 insertions(+), 6 deletions(-)

commit 03eeba7974d1b40760c3d59c1a8fbeeb9b9da109
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Nov 4 19:07:37 2019 +0100

    app/internal/window: make 1 dp = 1 px in WebAssembly
    
    Updates gio#53
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/os_js.go | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 513b19b2c5746192dcfd168239312e9954812cf7
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Nov 4 18:47:18 2019 +0100

    example,cmd: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/go.mod     | 2 +-
 cmd/go.sum     | 4 ++--
 example/go.mod | 2 +-
 example/go.sum | 4 ++--
 4 files changed, 6 insertions(+), 6 deletions(-)

commit d478bb2bc5417d355cf16f661f8e3f6a8fd5d744
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Nov 4 18:45:10 2019 +0100

    app/internal/window: drop zero-sized redraws in WebAssembly
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/os_js.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4ac3a7fd8428bbdb1d4e108b0e9ef6e142299bfe
Author: Alexander Arin <fralx@yandex.ru>
Date:   Mon Nov 4 19:07:21 2019 +0300

    widget: add SetChecked method to CheckBox
    
    Signed-off-by: Alexander Arin <fralx@yandex.ru>

 widget/checkbox.go | 4 ++++
 1 file changed, 4 insertions(+)

commit 1110ed1aedb8feb22326384d319a5f9143516019
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Nov 4 16:40:09 2019 +0100

    example,cmd: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/go.mod     | 2 +-
 cmd/go.sum     | 4 ++--
 example/go.mod | 2 +-
 example/go.sum | 4 ++--
 4 files changed, 6 insertions(+), 6 deletions(-)

commit c5449f0f74f53a53ffa5368f197a74c04c8c81c0
Author: Denis Bernard <db047h@gmail.com>
Date:   Mon Nov 4 16:29:53 2019 +0100

    app/internal/window: implement dp/sp scaling in X11 driver
    
    Use a constant 1.0 scaling from dp to pixels and adjust with user prefs.
    
    Signed-off-by: Denis Bernard <db047h@gmail.com>

 app/internal/window/os_x11.go | 43 ++++++++++++++++++++++++++++++++++++++++---
 1 file changed, 40 insertions(+), 3 deletions(-)

commit 90de8b6360f9c474d25a353883f560755d14f111
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Nov 4 15:17:42 2019 +0100

    example,cmd: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/go.mod     | 2 +-
 cmd/go.sum     | 4 ++--
 example/go.mod | 2 +-
 example/go.sum | 4 ++--
 4 files changed, 6 insertions(+), 6 deletions(-)

commit 396a538afe04d5b50f5582c3e2096d13fd182595
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Nov 4 12:32:06 2019 +0100

    app/internal/window: don't second guess UI scale
    
    Before this change, Gio tries hard to come up with a reasonable UI scale
    factor on desktop OSes derived from the physical dimensions and
    resolution of connected monitors. Gio also attempts to detect the user
    specified system UI scale and apply it.
    
    However, all that is complex and misguided:
    
    - The UI scale should not depend on whatever monitor is connected at
    program startup - For multiple monitors, it's unclear which one to base
    the scale off.  - Applying both a monitor derived scale *and* the user
    specified scale is wrong, because the user scale is relative to some
    fixed scale, not Gio's derived scale.  - With an automatic scale, Gio
    does not respect user preference and will not have a similar scale to
    other programs on the desktop.
    
    Get rid of the the automatic UI scale detection and rely only on the
    user scale.
    
    Updates gio#53
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/os_js.go      |  2 +-
 app/internal/window/os_macos.go   | 32 +++++++++-----------------------
 app/internal/window/os_macos.h    |  2 --
 app/internal/window/os_macos.m    | 19 -------------------
 app/internal/window/os_wayland.go | 32 ++++++--------------------------
 app/internal/window/os_windows.go | 34 ++++++++++++++++++++++------------
 app/internal/window/window.go     |  9 ---------
 7 files changed, 38 insertions(+), 92 deletions(-)

commit 65146a5337398734507448bac4b26f47d1013506
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Nov 4 00:34:42 2019 +0100

    example/kitchen: add CheckBox example
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/go.mod                 | 2 +-
 cmd/go.sum                 | 4 ++--
 example/go.mod             | 2 +-
 example/go.sum             | 4 ++--
 example/kitchen/kitchen.go | 4 ++++
 5 files changed, 10 insertions(+), 6 deletions(-)

commit 0f5b94a48370261469ffcdd3c1f0a98d09942355
Author: Alexander Arin <fralx@yandex.ru>
Date:   Sun Nov 3 18:11:19 2019 +0300

    widget,widget/material: add CheckBox

 widget/checkbox.go          | 25 +++++++++++++++++++++++++
 widget/material/checkbox.go | 88 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 113 insertions(+)

commit 2a06f3d3b26115786b3c6994dc92789911b7ae85
Author: Alexander Arin <fralx@yandex.ru>
Date:   Sun Nov 3 18:11:18 2019 +0300

    widget/material: move Icon to its own file and add Color; add CornerRadius to Button

 widget/material/button.go   | 62 ++++++++------------------------------------------------------
 widget/material/icon.go     | 64 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 widget/material/material.go | 18 +++++++++++++++++-
 3 files changed, 89 insertions(+), 55 deletions(-)

commit ec0c2498a1c4a9feee302032bcc499b68f75ab41
Author: Daniel Martí <mvdan@mvdan.cc>
Date:   Sun Nov 3 19:14:16 2019 +0000

    cmd/gogio: fix a couple of staticcheck positives
    
    Spotted the javac one by chance when reading the code, so I ran the tool
    and fixed another small bug while at it.
    
    Signed-off-by: Daniel Martí <mvdan@mvdan.cc>

 cmd/gogio/androidbuild.go | 3 +++
 cmd/gogio/main.go         | 2 +-
 2 files changed, 4 insertions(+), 1 deletion(-)

commit 2bee95358a8bc55824960659c605fc9b8dca3eab
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Nov 3 13:06:14 2019 +0100

    .builds: run the cmd tests with and without -race
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 .builds/linux.yml | 1 +
 1 file changed, 1 insertion(+)

commit 2a4829d857047d248ff09852ebd9d5d3040b8d4b
Author: Daniel Martí <mvdan@mvdan.cc>
Date:   Sun Nov 3 12:00:35 2019 +0000

    cmd/gogio: support running e2e with and without -race
    
    Right now, we can only run the e2e gio app with -race, not without
    -race, because the flag is hard-coded in the tests.
    
    The reason for this change was that 'GOFLAGS=-race go test' would fail
    with the JS test, since js/wasm doesn't support the race detector. Fix
    that by skipping the JS test when -race is used.
    
    Now, we can run multiple levels of -race:
    
            go test               # no -race at all
            go test -race         # -race for the tests, not the e2e gio app
            GOFLAGS=-race go test # -race for everything (best-effort)
    
    To detect the race detector being on, we use a file with a build tag.
    
    Signed-off-by: Daniel Martí <mvdan@mvdan.cc>

 cmd/gogio/e2e_test.go     | 2 ++
 cmd/gogio/js_test.go      | 4 ++++
 cmd/gogio/race_test.go    | 7 +++++++
 cmd/gogio/wayland_test.go | 2 +-
 cmd/gogio/x11_test.go     | 2 +-
 5 files changed, 15 insertions(+), 2 deletions(-)

commit cc4b40764728f3fd8cc8354945b64dea32339e0e
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Nov 3 12:09:02 2019 +0100

    .build,cmd: add -race to test programs
    
    It's not possible to set GOFLAGS=-race because some programs are
    built for webassembly where -race is not supported.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 .builds/linux.yml         | 4 ++--
 cmd/gogio/wayland_test.go | 2 +-
 cmd/gogio/x11_test.go     | 2 +-
 3 files changed, 4 insertions(+), 4 deletions(-)

commit b3635c78ee11c04492e6ba51a635fa64620b161d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Nov 2 18:35:24 2019 +0100

    .builds: add sway as dependency for Wayland end-to-end test
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 .builds/linux.yml | 4 ++++
 1 file changed, 4 insertions(+)

commit 12ce899bb5ee28aa111d0c8f08b0224271c3c5b8
Author: Daniel Martí <mvdan@mvdan.cc>
Date:   Sat Nov 2 17:07:13 2019 +0000

    cmd/gogio: first wayland end-to-end tests
    
    Clicking doesn't quite work yet, but everything else does. We use a
    custom sway config to ensure that it's a minimalist setup with no bar or
    borders, like the other drivers.
    
    The generic test now adapts to the window's real size when running in
    non-headless mode, since tiling window managers resize some drivers like
    sway. The default headless mode still expects the exact size that we
    specify, as no real windows are at play.
    
    While at it, clean up some now unused code from the x11 file.
    
    Signed-off-by: Daniel Martí <mvdan@mvdan.cc>

 cmd/gogio/e2e_test.go     |  44 +++++++++++-------
 cmd/gogio/wayland_test.go | 234 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 cmd/gogio/x11_test.go     |  26 ++---------
 3 files changed, 266 insertions(+), 38 deletions(-)

commit 5eeaadccead599f61c41bf3491a26b56082f3411
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Nov 2 17:58:56 2019 +0100

    app/internal/window: apply font scale to dp scaling on Wayland
    
    As discussed in gio#53, Linux font scales conflate two settings: the fractional
    UI scale and the user preference as a result of conditions such as impaired
    vision. The former setting should apply to both dps and sps, while the latter
    only to sps. However, with the assumption that more users presumable change the
    font scale for the former reason rather than the latter, we should apply the
    font scale to both dps and sps in Gio.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/os_wayland.go | 9 ++-------
 1 file changed, 2 insertions(+), 7 deletions(-)

commit e2c29f96d98f49b372c255a53d2432270437bb41
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Nov 2 16:59:19 2019 +0100

    app: fix reference to gioui.org/io/event
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/doc.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7182477f3ce6a13cb499cae46653b9d90fb1f2fd
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Nov 2 16:32:47 2019 +0100

    README.md: add supported platforms
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit dde09b9d742033ec1aa320ac3daf2fe5bc1e11ce
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Nov 2 16:09:07 2019 +0100

    example,cmd: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/go.mod     | 2 +-
 cmd/go.sum     | 4 ++--
 example/go.mod | 2 +-
 example/go.sum | 4 ++--
 4 files changed, 6 insertions(+), 6 deletions(-)

commit 97d13922ddfd483ff5786492135931123f9392d3
Author: Daniel Martí <mvdan@mvdan.cc>
Date:   Sat Nov 2 11:45:57 2019 +0000

    cmd/gogio: remove sleeps in x11 e2e test
    
    We can instead synchronize with the gio app via stdout. We need three
    states, since we need to first invalidate a frame and then print when
    the next frame is drawn.
    
    This is not happening on the JS test yet, because stdout printing
    crashes in that case. See the comment.
    
    This change should make the X11 test a bit faster on fast machines,
    while making it more stable in small or headless machines like CI.
    
    Signed-off-by: Daniel Martí <mvdan@mvdan.cc>

 cmd/gogio/e2e_test.go     |  5 +++--
 cmd/gogio/testdata/red.go | 32 ++++++++++++++++++++++++++++++++
 cmd/gogio/x11_test.go     | 34 +++++++++++++++++++++++++---------
 3 files changed, 60 insertions(+), 11 deletions(-)

commit 2a9361db65c08c7c1421d7c0dd56115350ec679e
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Nov 2 12:30:49 2019 +0100

    Revert "gesture: add Active methods to gestures"
    
    This reverts commit d829e56194a95427aedc4c6d2c89b0f3fe131aca.
    
    We're not using the activity of gestures to track whether widgets
    should behave as disabled or enabled anymore.

 gesture/gesture.go | 54 +++++-------------------------------------------------
 1 file changed, 5 insertions(+), 49 deletions(-)

commit 41074859027ff7e2db27e7ac8ed2e2c4d80e1683
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Nov 2 12:27:56 2019 +0100

    widget,widget/material: remove disabled drawing modes
    
    Determining the enabled state of a widget from whether its Clicked method has
    been called only works for button-like widgets. For example, it's not clear a
    Clicked method is appropriate for a CheckBox.
    
    Remove the feature for now, and let's find a better design in the future.
    
    As a nice side effect, we can now process events in Layout methods, so that
    buttons react to user input even when Clicked is not called.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/kitchen/kitchen.go | 26 ++++++++++----------------
 widget/button.go           | 50 +++++++++++++++++++++++++++++---------------------
 widget/editor.go           | 10 +++++++---
 widget/material/button.go  |  7 -------
 4 files changed, 46 insertions(+), 47 deletions(-)

commit 06aa0da2a2442210c82cd445396fb112791be2cc
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Nov 2 10:43:50 2019 +0100

    .builds: add scrot to the linux image for the X11 end-to-end test
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 .builds/linux.yml | 1 +
 1 file changed, 1 insertion(+)

commit b8e996074b489defd3b613961063a0a0bf979056
Author: Daniel Martí <mvdan@mvdan.cc>
Date:   Fri Nov 1 23:16:49 2019 +0000

    cmd/gogio: rip out cgo deps for x11
    
    Instead rely on more tiny standalone tools. In this case, scrot lets us
    take png screenshots, and works well.
    
    On the plus side, we remove some large X Go deps, and we don't need
    nearly as much code.
    
    While at it, skip if any of the tools are missing, and actually defer
    the cleanup funcs so that they run when we fail the test early.
    
    Signed-off-by: Daniel Martí <mvdan@mvdan.cc>

 cmd/go.mod            |  4 ----
 cmd/go.sum            |  6 ------
 cmd/gogio/e2e_test.go | 10 +++++-----
 cmd/gogio/x11_test.go | 56 ++++++++++++++++++++++----------------------------------
 4 files changed, 27 insertions(+), 49 deletions(-)

commit 837b5f6bab36a3b88f38671ccd24e67037ad507a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Nov 1 22:27:42 2019 +0100

    .builds: install xdotool in the linux builder to satisfy the X11 test
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 .builds/linux.yml | 1 +
 1 file changed, 1 insertion(+)

commit 41402ce52424962cb90005f66b59998e59fdfd9d
Author: Daniel Martí <mvdan@mvdan.cc>
Date:   Fri Nov 1 20:57:34 2019 +0000

    cmd/gogio: add clicks to the e2e tests
    
    The test app now responds to mouse clicks; clicking on one of the four
    sections of the app flips it to red color until clicked again.
    
    Add a Click method to the TestDriver interface, and implement it in both
    of the current drivers. Unfortunately, I failed at implementing it in
    X11 with the xdg library, after a few wasted hours. Instead, start
    relying on more external tools which are simple to use and not heavy to
    install.
    
    Signed-off-by: Daniel Martí <mvdan@mvdan.cc>

 cmd/gogio/e2e_test.go     | 108 +++++++++++++++++++++++++++++++++++++++++++++++++++-----------------------------------------
 cmd/gogio/js_test.go      |  13 +++++++++++
 cmd/gogio/testdata/red.go |  67 +++++++++++++++++++++++++++++++++++++++++++--------------
 cmd/gogio/x11_test.go     |  36 +++++++++++++++++++++++++------
 4 files changed, 153 insertions(+), 71 deletions(-)

commit 5b948ceece4d6335e45e7b84b8fab057368201b0
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Nov 1 22:13:42 2019 +0100

    app/internal/window: tweak minimum pixels per dp/sp
    
    To keep text legible on low DPI monitors, the number of pixels
    per dp or sp is not is not allowed to go below minDensity. However,
    a minimum density of 1.25 leads to too big text and widgets on a
    baseline ~96 DPI monitor. Lower the minimum to 1.0, where text is still
    legible.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/window.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 835714d44e0746b6297888462f21eb3f3d1f612a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Nov 1 21:09:09 2019 +0100

    app/internal/window: apply monitorScale to sp values on Wayland
    
    macOS and Windows already applies monitorScale to sp values. Wayland
    didn't apply the monitorScale when font scale detection fails. Do that.
    
    Run gofmt -s -w . as well.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/egl_windows.go | 2 +-
 app/internal/window/os_wayland.go  | 6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit c646827c0fc632814f64a1f0fefa46674cc9ba67
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Nov 1 20:53:08 2019 +0100

    example: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/go.mod | 2 +-
 example/go.sum | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 9a6bdee813dac51ed8bbaf3434ca2f40957eb523
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Nov 1 20:51:16 2019 +0100

    widget/material: adjust Button insets to match Android
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 widget/material/button.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9126da41f453f9999d7f766b2f33189810fe319d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Nov 1 19:38:13 2019 +0100

    app: accept pending frame before reporting error
    
    If creating a GPU instance fails for some reason, we need to
    receive the incoming frame from the application before reporting
    the error in a DestroyEvent. If we don't, the a deadlock will occur
    where the app is waiting for FrameEvent.Frame to complete, while
    the Window waits for the app the receive a DestroyEvent.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/window.go | 23 +++++++++++------------
 1 file changed, 11 insertions(+), 12 deletions(-)

commit 15e34e9ca23e780cf74307af791d801fd53aeee8
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Nov 1 19:30:52 2019 +0100

    app/internal/window: add note about ANGLE when failing to load it
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/egl_windows.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit af353822fa5e0f9e9f8416a662021e8c8f5ea001
Author: Greg Pomerantz <gmp.gio@wow.st>
Date:   Fri Nov 1 13:53:01 2019 -0400

    cmd/gogio: add permissions system for Android
    
    Search for imports of the form gioui.org/app/permission/* and add
    required permissions to AndroidManifest.xml.
    
    Signed-off-by: Greg Pomerantz <gmp.gio@wow.st>

 app/doc.go                          |  36 ++++++++++++++++++++++++++-
 app/permission/bluetooth/main.go    |   1 +
 app/permission/bluetooth_le/main.go |   1 +
 cmd/gogio/androidbuild.go           | 111 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++--------------
 cmd/gogio/permission.go             |  23 +++++++++++++++++
 5 files changed, 152 insertions(+), 20 deletions(-)

commit f418684c0ece626e5fe563ec7ffbe3d2c1626755
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Nov 1 18:00:28 2019 +0100

    .builds: set GOFLAGS=-mod=readonly to catch stale go.mod files
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 .builds/linux.yml | 1 +
 1 file changed, 1 insertion(+)

commit 3cd633ee44f2f79f73f8750ddbd1ebf32bb87b09
Author: Greg Pomerantz <gmp.gio@wow.st>
Date:   Fri Nov 1 12:39:57 2019 -0400

    cmd/gogio: Android: include jar files from dependencies
    
    On Android, in addition to adding jar files found in the source
    directory of the program being compiled, cmd/gogio also searches
    every dependency for jar files to include in the output APK.
    
    Signed-off-by: Greg Pomerantz <gmp.gio@wow.st>

 cmd/go.mod                |  1 +
 cmd/go.sum                |  1 +
 cmd/gogio/androidbuild.go | 56 +++++++++++++++++++++++++++++++++++++++++++++++---------
 3 files changed, 49 insertions(+), 9 deletions(-)

commit 4e71f195ab51c4ddbe98f75cbce5842dfc3bc82e
Author: Daniel Martí <mvdan@mvdan.cc>
Date:   Thu Oct 31 15:25:29 2019 +0000

    cmd/gogio: start using layout.Flex in the e2e app
    
    This vastly simplifies our code, and saves us the ugly math.
    
    While at it, establish that a TestDriver must have a white background,
    which is already satisfied by both existing implementations.
    
    Signed-off-by: Daniel Martí <mvdan@mvdan.cc>

 cmd/gogio/e2e_test.go     |  7 +++++--
 cmd/gogio/testdata/red.go | 83 ++++++++++++++++++++++++++++++-----------------------------------------------------
 cmd/gogio/x11_test.go     |  4 +++-
 3 files changed, 38 insertions(+), 56 deletions(-)

commit 3a341a3dafd789f2a9c59a5ef9853437431de199
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Oct 31 20:57:36 2019 +0100

    cmd/gogio: add -tags nowayland to avoid Wayland in the X11 end-to-end test
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gogio/x11_test.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f9a3d3518420c9630a79255e2fc72e99229a2388
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Oct 31 14:31:55 2019 +0100

    cmd/gogio/testdate: gofmt -s -w
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gogio/testdata/red.go | 16 ++++++++--------
 1 file changed, 8 insertions(+), 8 deletions(-)

commit 34bbf59efaccd6b0136a831f9fb0e177569c9562
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Oct 31 14:24:34 2019 +0100

    cmd/gogio: double sleep to ensure X11 output is available
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gogio/x11_test.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f20c0cc0a6da139b65d281b2468b04882b50a089
Author: Daniel Martí <mvdan@mvdan.cc>
Date:   Thu Oct 31 12:00:19 2019 +0000

    cmd/gogio: add four colors to the e2e tests
    
    The e2e app now splits the window into four rectangles and paints them
    differently.
    
    The first advantage is that we now test that we see the entire Gio app.
    Before, with a solid background color, we could be seeing a small part
    of the window and we wouldn't tell the difference.
    
    The second advantage is that we test more colors. In particular, the
    fourth color includes a different alpha value, which renders the same on
    JS and X11.
    
    Signed-off-by: Daniel Martí <mvdan@mvdan.cc>

 cmd/gogio/e2e_test.go     | 50 ++++++++++++++++++++++++++++++++++++++++++++++----
 cmd/gogio/testdata/red.go | 60 ++++++++++++++++++++++++++++++++++++++++++++++++++++++------
 2 files changed, 100 insertions(+), 10 deletions(-)

commit b3d4da62296fa80564c76befc8cff32cad0755d2
Author: Daniel Martí <mvdan@mvdan.cc>
Date:   Wed Oct 30 21:52:46 2019 +0000

    cmd/gogio: start using a TestDriver e2e interface
    
    Now we implement the "red background" end-to-end test exactly once.
    
    While at it, start using a 800x600 window size, which is a bit more
    realistic than 600x600, and will catch if we got either dimension wrong.
    
    The interface only has two methods for now, but it will be expanded in
    the future to also support input such as clicks.
    
    Keeping state in the test driver, such as a context or a connection, is
    a bit awkward but necessary so that we don't have to repeat arguments
    over and over. The same applies to testing.T.
    
    Signed-off-by: Daniel Martí <mvdan@mvdan.cc>

 cmd/gogio/e2e_test.go |  59 +++++++++++++++++++++++++++++++++++++++++++++++++
 cmd/gogio/js_test.go  |  79 ++++++++++++++++++++++++++++++++---------------------------------
 cmd/gogio/x11_test.go | 116 +++++++++++++++++++++++++++++++++++++++++++++++++++---------------------------------------------
 3 files changed, 160 insertions(+), 94 deletions(-)

commit ff8879ddce4289a19652447224c4357e24a67341
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 30 20:43:45 2019 +0100

    example,cmd: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/go.mod     | 2 +-
 cmd/go.sum     | 4 ++--
 example/go.mod | 2 +-
 example/go.sum | 4 ++--
 4 files changed, 6 insertions(+), 6 deletions(-)

commit b53c2a7c9d569a60c58e3b1c3249fc2fcf17d485
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 30 20:41:20 2019 +0100

    app/internal/window: introduce and use nilEGLDisplay
    
    Updates gio#52
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/egl.go | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit d6f5902c5e625fc6018f804f397dd7396bd119e9
Author: Daniel Martí <mvdan@mvdan.cc>
Date:   Wed Oct 30 15:46:11 2019 +0000

    cmd/gogio: send all e2e logs to t.Logf
    
    chromedp was defaulting to log.Printf, which is not good for tests.
    
    The xgb and xgbutil logs were suppressed if -v wasn't given, but they
    were sent straight to os.Stderr otherwise:
    
            === RUN   TestX11
            === PAUSE TestX11
            === CONT  TestX11
            XGB: conn.go:47: Could not get authority info: EOF
            XGB: conn.go:48: Trying connection without authority info...
            --- PASS: TestX11 (0.87s)
    
    Instead, direct their loggers to an io.Writer implementation that sends
    its output to t.Logf:
    
            === RUN   TestX11
            === PAUSE TestX11
            === CONT  TestX11
                TestX11: x11_test.go:187: XGB: conn.go:47: Could not get authority info: EOF
                TestX11: x11_test.go:187: XGB: conn.go:48: Trying connection without authority info...
            --- PASS: TestX11 (0.86s)
    
    We do end up with duplicate log prefixes, but at least we don't write
    straight to stderr, which will be a problem as we add more concurrent
    tests.
    
    Signed-off-by: Daniel Martí <mvdan@mvdan.cc>

 cmd/gogio/js_test.go  |  5 ++++-
 cmd/gogio/x11_test.go | 21 +++++++++++++++++----
 2 files changed, 21 insertions(+), 5 deletions(-)

commit dc7af8fba398233963b420c8fb98b9ec825a0a18
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 30 14:56:37 2019 +0100

    cmd/gogio: use a more difficult color for end-to-end tests
    
    RGB 0xff0000 is too easy to get right by accident.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gogio/js_test.go      | 4 ++--
 cmd/gogio/testdata/red.go | 2 +-
 cmd/gogio/x11_test.go     | 4 ++--
 3 files changed, 5 insertions(+), 5 deletions(-)

commit d74be30a9051745d7754c5a78ae9f5135cad7a3c
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 30 14:45:05 2019 +0100

    cmd/gogio: ignore alpha in end-to-end tests
    
    On FreeBSD the X11 test seems to succeed except for the alpha
    value:
    
            --- FAIL: TestX11 (2.04s)
                js_test.go:138: got 0xffff000000000000 at (5,5), want 0xffff00000000ffff
                js_test.go:138: got 0xffff000000000000 at (595,595), want 0xffff00000000ffff
            FAIL
    
    Ignore alpha values for now.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gogio/js_test.go  | 14 +++++++-------
 cmd/gogio/x11_test.go |  4 ++--
 2 files changed, 9 insertions(+), 9 deletions(-)

commit 6bbfe288aae548ad860e83fe7c7cf846e7409003
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 30 14:11:24 2019 +0100

    .builds: remove go fmt test from freebsd image
    
    There is no reason to run platform independent tests on FreeBSD.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 .builds/freebsd.yml | 3 ---
 1 file changed, 3 deletions(-)

commit 3945302b4f8b3106d60c24a71f6f1f7ce2745354
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 30 14:05:56 2019 +0100

    example,cmd: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/go.mod     | 2 +-
 cmd/go.sum     | 4 ++--
 example/go.mod | 2 +-
 example/go.sum | 4 ++--
 4 files changed, 6 insertions(+), 6 deletions(-)

commit 3425b25ecc8c187d2b0830b9321db0ff3a73c644
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 30 11:06:26 2019 +0000

    app/internal: add FreeBSD support
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 .builds/freebsd.yml                               | 25 +++++++++++++++++++++++++
 app/internal/gl/functions.go                      |  6 ++++--
 app/internal/window/egl.go                        |  2 +-
 app/internal/window/{egl_linux.go => egl_unix.go} |  4 ++++
 app/internal/window/egl_wayland.go                |  2 +-
 app/internal/window/egl_x11.go                    |  2 +-
 app/internal/window/{os_linux.go => os_unix.go}   |  2 +-
 app/internal/window/os_wayland.c                  |  2 +-
 app/internal/window/os_wayland.go                 |  8 ++++----
 app/internal/window/os_x11.go                     |  2 +-
 app/internal/window/wayland_text_input.c          |  4 ++--
 app/internal/window/wayland_text_input.h          |  2 +-
 app/internal/window/wayland_xdg_decoration.c      |  4 ++--
 app/internal/window/wayland_xdg_decoration.h      |  2 +-
 app/internal/window/wayland_xdg_shell.c           |  4 ++--
 app/internal/window/wayland_xdg_shell.h           |  7 +++++--
 app/internal/xkb/{xkb_linux.go => xkb_unix.go}    |  4 +++-
 17 files changed, 59 insertions(+), 23 deletions(-)

commit 1cc1fb1c72307c224dbad4d54e91a2e98858a5d4
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 30 13:44:07 2019 +0100

    app/internal/window: replace ppoll with poll
    
    We're about to add FreeBSD where ppoll is not supported.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/os_wayland.go | 4 ++--
 app/internal/window/os_x11.go     | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit c131a7f423e4ae9f5404ff8c91c4e421fa939928
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 30 11:49:44 2019 +0100

    .builds: remove existing $PATH from PATH settings
    
    $PATH is not expanded anyway, and it's better to be explicit.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 .builds/android.yml | 2 +-
 .builds/apple.yml   | 2 +-
 .builds/linux.yml   | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 7939f142bdb02225612d10590f2eb2412b233737
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 30 11:41:24 2019 +0100

    .builds: remove unused path from PATH
    
    It was left over from when the builds didn't use the distro version
    of Go.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 .builds/android.yml | 2 +-
 .builds/apple.yml   | 2 +-
 .builds/linux.yml   | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 6d9dccdbaa6fb517addf5a8f1827a3333d1809f0
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 30 00:57:13 2019 +0100

    cmd,example: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/go.mod     | 2 +-
 cmd/go.sum     | 4 ++--
 example/go.mod | 2 +-
 example/go.sum | 4 ++--
 4 files changed, 6 insertions(+), 6 deletions(-)

commit 2e605f2dcb716192ce9effe9eb3c6889101b6857
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 30 00:49:48 2019 +0100

    app: ensure the previous frame is complete before accepting another
    
    It matters for end-to-end tests that rely on the window contents.
    
    Before this change, tests had to wait for 2 extra frames. This change
    ensures that the first completed FrameEvent.Frame call guarantees
    the previous frame is complete.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/window.go | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit d31a129bf971a4e5101bc0dad70147b43e8a955d
Author: Daniel Martí <mvdan@mvdan.cc>
Date:   Tue Oct 29 22:15:06 2019 +0000

    cmd/gogio: fix a couple of x11 e2e TODOs
    
    First, pick a random display number between 1 and 100,000. The pool is
    large enough that we don't need to think about collisions for now.
    
    Second, wait for the X server to expose its socket for up to 1s, instead
    of doing a single static sleep of 200ms. The average time we actually
    need to sleep on my laptop is around 5ms, so this gives a noticeable
    speed-up.
    
    Signed-off-by: Daniel Martí <mvdan@mvdan.cc>

 cmd/gogio/x11_test.go | 45 +++++++++++++++++++++++++++++++++++----------
 1 file changed, 35 insertions(+), 10 deletions(-)

commit fe54f3df4e2d77cddfb2ccbce2898f5c25f51b27
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Oct 29 20:04:47 2019 +0100

    .builds: add xvfb package to the linux builder for X11 end-to-end test
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 .builds/linux.yml | 1 +
 1 file changed, 1 insertion(+)

commit cea8dc374b928455279e2becb6341ba7bd6291f4
Author: Daniel Martí <mvdan@mvdan.cc>
Date:   Tue Oct 29 17:28:06 2019 +0000

    cmd/gogio: add the first end-to-end X11 test
    
    Right now it's very similar to the JS test on Chrome. Like it, this one
    just runs the "red.go" gio app, takes a screenshot, and expects to see
    red.
    
    It also supports the -headless flag; when true, Xvfb is used and it's
    entirely headless and hidden. Otherwise, Xephyr is used and once can see
    the test in action. If the tool isn't installed, the test is skipped.
    
    We need to add xgb as a dependency, so that we can connect to the X
    server and interact with it, like taking screenshots.
    
    Finally, this is an initial version, and a number of TODOs are left for
    a later time. They'll get fixed in follow-up patches.
    
    While at it, start making all tests parallel, since the end-to-end tests
    take about a second each and neither are very cpu-intensive.
    
    Signed-off-by: Daniel Martí <mvdan@mvdan.cc>

 cmd/go.mod             |   4 +++
 cmd/go.sum             |   7 +++++
 cmd/gogio/js_test.go   |  22 ++++++++------
 cmd/gogio/main_test.go |   2 ++
 cmd/gogio/x11_test.go  | 151 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 5 files changed, 177 insertions(+), 9 deletions(-)

commit b8edf2ee04084a33bf93886d1c27375ebf3da3db
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Oct 29 16:16:04 2019 +0100

    .builds: switch from fedora/latest to debian/testing
    
    Fedora builds kept failing at package installation. See
    ~sircmpwn/builds.sr.ht#220.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 .builds/android.yml | 14 +++++++-------
 .builds/apple.yml   | 37 +++++++++++++++++++++----------------
 .builds/fedora.yml  | 32 --------------------------------
 .builds/linux.yml   | 33 +++++++++++++++++++++++++++++++++
 4 files changed, 61 insertions(+), 55 deletions(-)

commit 95c47aba55d4646daca1757df7fdafc382335c0d
Author: Daniel Martí <mvdan@mvdan.cc>
Date:   Tue Oct 29 14:31:18 2019 +0000

    cmd/gogio: clarify the need for --use-gl=egl in the e2e tests
    
    After some investigation, it turns out that both Alpine and Arch suffer
    from the same bug - their packages completely lack SwiftShader.
    
    The current workaround is still the best that we have right now. But at
    least we can actually provide a good explanation why, and a TODO to
    improve this once the issues filed with the distros are fixed.
    
    Signed-off-by: Daniel Martí <mvdan@mvdan.cc>

 cmd/gogio/js_test.go | 19 ++++++++++++++-----
 1 file changed, 14 insertions(+), 5 deletions(-)

commit 4793faeaddbf0fca096c59cdb2eadf8976dd09c6
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Oct 29 14:08:38 2019 +0100

    cmd,example: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/go.mod     | 2 +-
 cmd/go.sum     | 4 ++--
 example/go.mod | 2 +-
 example/go.sum | 4 ++--
 4 files changed, 6 insertions(+), 6 deletions(-)

commit 4641607cd6a4635df4b1c7dc338c1b9c9767e28d
Author: Daniel Martí <mvdan@mvdan.cc>
Date:   Tue Oct 29 12:44:39 2019 +0000

    cmd/gogio: log chrome's console messages in TestJSOnChrome
    
    For example, if the browser doesn't have webgl at all, the gio app will
    fail to load. This will result in the screenshot being incorrect,
    without an apparent reason:
    
            --- FAIL: TestJSOnChrome (0.89s)
                js_test.go:122: got 0xffffffffffffffff at (5,5), want 0xffff00000000ffff
                js_test.go:122: got 0xffffffffffffffff at (595,595), want 0xffff00000000ffff
    
    The underlying webgl error was accessible if one added a sleep and ran
    'go test -headless=false', allowing to open the console and see the
    error messages.
    
    Instead, capture them via chromedp and print them to the test's logger:
    
            --- FAIL: TestJSOnChrome (0.89s)
                js_test.go:79: console log: "2019/10/29 12:41:07 app: webgl is not supported"
                js_test.go:79: console warning: "exit code:", 1
                js_test.go:122: got 0xffffffffffffffff at (5,5), want 0xffff00000000ffff
                js_test.go:122: got 0xffffffffffffffff at (595,595), want 0xffff00000000ffff
    
    JS Exceptions are a completely different mechanism, so they're not
    covered by this patch. We can add them at a later time if needed.
    
    While at it, update to the latest tagged version of chromedp.
    
    Signed-off-by: Daniel Martí <mvdan@mvdan.cc>

 cmd/go.mod           |  3 ++-
 cmd/go.sum           | 18 ++++++++++--------
 cmd/gogio/js_test.go | 18 ++++++++++++++++++
 3 files changed, 30 insertions(+), 9 deletions(-)

commit e834a78ab2f565afb2d1759a771386b9b3e887e0
Author: Denis Bernard <db047h@gmail.com>
Date:   Tue Oct 29 13:25:01 2019 +0100

    app/internal/window: X11 fix black window on Xephyr
    
    On Xephyr, when fitst entering x11Window.loop(), syscall.Ppoll would
    block forever while XPending() would still return a non zero value.
    This commit refactors the loop so that XPending() gets called first,
    then fallback to waiting in ppoll if there are no pending draw events.
    
    This has the added benefit of reducing the number of calls to ppoll when
    receiving a lot of events.
    
    Signed-off-by: Denis Bernard <db047h@gmail.com>

 app/internal/window/os_x11.go | 56 ++++++++++++++++++++++++++++----------------------------
 1 file changed, 28 insertions(+), 28 deletions(-)

commit 2eb233dda661cd2eaf420109f7d2adc06e45973b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Oct 29 01:45:05 2019 +0100

    .builds: remove -v from a tar command
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 .builds/apple.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b46206e60aecd689449e0da4bf025d168235738f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Oct 29 01:38:16 2019 +0100

    cmd,example: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/go.mod     | 2 +-
 cmd/go.sum     | 4 ++--
 example/go.mod | 2 +-
 example/go.sum | 4 ++--
 4 files changed, 6 insertions(+), 6 deletions(-)

commit a7ae8b6e3d3c3850a01dd0676c878830ece67730
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Oct 29 01:35:39 2019 +0100

    app/internal/window: move -Werror from LDFLAGS to CFLAGS
    
    Discovered by the builders, yay:
    
    + gogio -target android ./kitchen
    gogio: go build -ldflags=-w -s  -buildmode=c-shared -o /tmp/gogio-485830478/jni/arm64-v8a/libgio.so ./kitchen failed: go build gioui.org/app/internal/window: invalid flag in #cgo LDFLAGS: -Werror
    
    (https://builds.sr.ht/~eliasnaur/job/101366)
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/os_android.go | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 9671406cdd7ac34f3a50ab90d697117d4754a46e
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Oct 29 01:20:38 2019 +0100

    .builds: combine curl and tar to avoid temporary files
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 .builds/android.yml | 4 +---
 .builds/apple.yml   | 4 +---
 .builds/fedora.yml  | 3 +--
 3 files changed, 3 insertions(+), 8 deletions(-)

commit 48e0a5315df8923b2b9252253ce79ceb5c56c8cf
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 28 22:40:45 2019 +0100

    .builds: fix apple.yml again
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 .builds/apple.yml | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 3f66d34599f6cc8dd5705de26c001e52524d7c9b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 28 22:35:14 2019 +0100

    app/internal/window: (Wayland) handle EAGAIN from wl_display_flush
    
    Fixes gio#50
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/os_wayland.go | 18 ++++++++++++------
 1 file changed, 12 insertions(+), 6 deletions(-)

commit f353c8c780a07ad14cef78363de9dc9aa0ba7744
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 28 22:15:45 2019 +0100

    .builds: fix apple.yml builder
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 .builds/apple.yml | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 754db8c3d7fd96b99dc106fceca55389d740288f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 28 22:08:27 2019 +0100

    .builds: add macOS+iOS builder
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 .builds/apple.yml | 62 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 62 insertions(+)

commit 4ba6b1a20cd439ed031c8021e4ac1052a510a0fc
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 28 22:05:47 2019 +0100

    example/go.*: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/go.mod | 2 +-
 example/go.sum | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 7115b448e8cf62d5e49f291724836b15a13875d9
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 28 18:25:17 2019 +0100

    app/internal/window: don't use module imports in framework header
    
    Using the module import syntax "@import UIKit" results in a complaint
    from the compiler:
    
    > warning: use of '@import' in framework header is discouraged,
    > including this header requires -fmodules [-Watimport-in-framework-header]
    
    Use the regular #include syntax instead.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/framework_ios.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a6e452d6d573553b6919501e38055bef8777ef83
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 28 18:24:27 2019 +0100

    cmd/gogio: add -Werror to main.m build
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gogio/iosbuild.go | 1 +
 1 file changed, 1 insertion(+)

commit 439d3e652c8f9bc19f39c498895e71f1bab9e520
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 28 13:30:51 2019 +0100

    app/internal: consolidate CFLAGS and move -Werror to #cgo directives
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/gl/functions.go      | 1 +
 app/internal/log/log_ios.go       | 2 +-
 app/internal/window/gl_ios.go     | 2 --
 app/internal/window/gl_macos.go   | 2 --
 app/internal/window/os_android.go | 2 +-
 app/internal/window/os_macos.go   | 1 +
 cmd/gogio/androidbuild.go         | 1 -
 cmd/gogio/iosbuild.go             | 1 -
 8 files changed, 4 insertions(+), 8 deletions(-)

commit ddba67cc90320a64dc0ea5aef4e54e0283c0d50c
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 28 11:47:49 2019 +0100

    example: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/go.mod | 2 +-
 example/go.sum | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 4a26bdad5d8c0c06a7ae1328adfe9d46f37339f3
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 28 11:26:34 2019 +0100

    cmd/gogio: build for iOS/macOS without -fmodules and -fobjc-arc
    
    The `gogio` tool adds the `-fmodules -fobjc-arc` flags to the Cgo
    C flags. Unfortunately, that masks problems where Cgo packages
    accidentally didn't have the flags in their #cgo directives such
    as package log.
    
    Move the flags so they're only explicitly mentioned when `gogio`
    invokes the host compiler to build the `main.m` shim.
    
    Fix package log to include the missing flags.
    
    While we're here, silence OpenGL ES deprecation warnings on iOS, just
    as we do for macOS. The warnings are normally not visible because
    the gogio tool suppress output from the go tool.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/gl/functions.go  | 4 +++-
 app/internal/log/log_ios.go   | 2 ++
 app/internal/window/os_ios.go | 2 +-
 cmd/gogio/iosbuild.go         | 5 +++--
 4 files changed, 9 insertions(+), 4 deletions(-)

commit a0692d74af8d3e3e973d7ec992f1a28177eb6e5e
Author: Daniel Martí <mvdan@mvdan.cc>
Date:   Sun Oct 27 16:24:51 2019 +0000

    cmd/gogio: improve the UX of the e2e tests
    
    First, add a headless boolean flag that defaults to true. That way, one
    can run 'go test -headless=false' to, for example, see how Chrome runs
    the webassembly endtoend test.
    
    Second, skip the Chrome test if the browser isn't installed.
    
    While at it, run 'gofmt -s' on the package.
    
    Signed-off-by: Daniel Martí <mvdan@mvdan.cc>

 cmd/gogio/js_test.go | 14 ++++++++++----
 cmd/gogio/main.go    |  8 ++++----
 2 files changed, 14 insertions(+), 8 deletions(-)

commit 8fab2f8cb1d3938ca4fad9b650805f90df4504dd
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Oct 27 17:20:37 2019 +0100

    .builds: add automatic testing script
    
    Add fedora.yml for testing on linux and windows.
    
    Add android.yml for testing `gogio -target android`.
    
    Add a build badge to the README.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 .builds/android.yml | 36 ++++++++++++++++++++++++++++++++++++
 .builds/fedora.yml  | 33 +++++++++++++++++++++++++++++++++
 README.md           |  2 ++
 3 files changed, 71 insertions(+)

commit f4c6ec4fbe268bcf98de4f6296c2b045a188abab
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Oct 27 16:26:38 2019 +0100

    README.md: add sr.ht related documentation from gioui.org
    
    Use https for the Unlicense URL and add one for MIT as well.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 LICENSE   |  2 +-
 README.md | 18 ++++++++++++++++++
 2 files changed, 19 insertions(+), 1 deletion(-)

commit 3de204b8ef33a34c958a4f8d70d1ed1179bfe86c
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Oct 27 15:42:18 2019 +0100

    cmd/gogio/testdata: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/go.mod                | 2 +-
 cmd/go.sum                | 4 ++--
 cmd/gogio/testdata/red.go | 5 +++--
 3 files changed, 6 insertions(+), 5 deletions(-)

commit a8e5e7a788ed3f7197eca2752c6b686abb694b75
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Oct 27 15:12:15 2019 +0100

    example: update gio version (X11 support!)
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/go.mod | 2 +-
 example/go.sum | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 547ff2e484271a041c33350e521b525e5964fa27
Author: Denis Bernard <db047h@gmail.com>
Date:   Sun Oct 27 13:48:42 2019 +0100

    app/internal/window: x11 driver
    
    This driver still lacks fling support and dp/sp configuration.
    
    By default, linux builds will try to use the Wayland driver then
    fallback to X11 if it fails. Drivers can be disabled by using either the
    nowayland or nox11 build tags.
    
    Signed-off-by: Denis Bernard <db047h@gmail.com>

 app/internal/window/egl_android.go           |   5 +
 app/internal/window/egl_linux.go             |   6 -
 app/internal/window/egl_wayland.go           |   8 +-
 app/internal/window/egl_x11.go               |  25 ++++
 app/internal/window/os_linux.go              |  41 ++++++
 app/internal/window/os_wayland.c             |   2 +-
 app/internal/window/os_wayland.go            |  15 +-
 app/internal/window/os_x11.go                | 581 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 app/internal/window/wayland_text_input.c     |   2 +-
 app/internal/window/wayland_xdg_decoration.c |   2 +-
 app/internal/window/wayland_xdg_shell.c      |   2 +-
 11 files changed, 670 insertions(+), 19 deletions(-)

commit ec672ca06adb3b1adb77af958ae993dd26249321
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Oct 26 21:43:49 2019 +0200

    README.md: remove documentation and link to gioui.org
    
    There is now a real website on gioui.org. Use that for documentation.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 135 ++----------------------------------------------------------------------------------------------------------
 1 file changed, 2 insertions(+), 133 deletions(-)

commit b78d1441197851d7a6552d71377445c40a7338ad
Author: Denis Bernard <db047h@gmail.com>
Date:   Sat Oct 26 15:21:05 2019 +0200

    app/internal/window: add needVSync() to eglDriver interface
    
    This enables calling eglSwapInterval with an interval value of 0 or 1
    on a per driver basis.
    
    Signed-off-by: Denis Bernard <db047h@gmail.com>

 app/internal/window/egl.go         | 17 +++++++++--------
 app/internal/window/egl_android.go |  2 ++
 app/internal/window/egl_wayland.go |  2 ++
 app/internal/window/egl_windows.go |  2 ++
 4 files changed, 15 insertions(+), 8 deletions(-)

commit 2c75f52de6f8e76550045327a4edbf8d9b2bfd6e
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Oct 26 11:38:33 2019 +0200

    example/go.*: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/go.mod | 2 +-
 example/go.sum | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit fff9293c9b3cd5ab27eeb46f726bff60f04b6f76
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Oct 26 11:34:44 2019 +0200

    app/internal/window: work around missing MESA_EGL_NO_X11_HEADERS support
    
    Some versions of eglplatform.h don't support the MESA_EGL_NO_X11_HEADER
    define for cross-platform definitions of the EGL types. Remove the
    define and use an explicit cast instead.
    
    Fixes gio#46
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/egl_linux.go   | 1 -
 app/internal/window/egl_wayland.go | 2 +-
 2 files changed, 1 insertion(+), 2 deletions(-)

commit 88adc0ee1a0b11cd64f6df9e6059e8d72440b233
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Oct 24 17:49:24 2019 +0200

    website: delete
    
    The website is now in a separate repository.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 website/app.yaml |  9 ---------
 website/go.mod   |  3 ---
 website/main.go  | 75 ---------------------------------------------------------------------------
 3 files changed, 87 deletions(-)

commit c4ac40e609a5980dbff6337909ec60cbec3fccb3
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 23 10:53:59 2019 +0200

    layout: remove Format
    
    Move Format to eliasnaur.com/giox/layout because it's not clear it
    belongs in the Gio standard library.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/format.go | 544 -----------------------------------------------------------------------------------------------------
 1 file changed, 544 deletions(-)

commit 9a62468c25c4bdfa81d2a5b20f7b26c7ff380a5c
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 23 10:21:08 2019 +0200

    example: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/go.mod             | 2 +-
 example/go.sum             | 4 ++--
 example/gophers/main.go    | 2 --
 example/gophers/ui.go      | 2 ++
 example/hello/hello.go     | 3 ++-
 example/kitchen/kitchen.go | 3 ++-
 6 files changed, 9 insertions(+), 7 deletions(-)

commit 143d2aae95ddde018595c76f0f9f61fce1a42563
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 23 10:18:11 2019 +0200

    font/gofont: add explicit Register
    
    Registering the font as a side effect of importing the gofont package
    was too magic. Require an explicit Register call instead. As a side
    effect, it is more clear which font is the default (the first one
    registered).
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 font/gofont/gofont.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0504c27e46ed64cb0bebcda159ad20af4fd69954
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 23 09:56:34 2019 +0200

    widget/material: respect height minimum constraint in Button.Layout
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 widget/material/button.go | 16 ++++++++++------
 1 file changed, 10 insertions(+), 6 deletions(-)

commit 288460452184a807b0a2969bf3f75796aa23bcf5
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Oct 22 08:42:59 2019 +0200

    example/kitchen: clean up
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/kitchen/kitchen.go | 7 +------
 1 file changed, 1 insertion(+), 6 deletions(-)

commit a35a2f5eb14d5be8bce957ad40149345c4da06f1
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Oct 22 08:30:30 2019 +0200

    example/go.*: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/go.mod | 2 +-
 example/go.sum | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 3a60a384e65c214de96aa66f3e007f4515dec60c
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 21 12:58:05 2019 +0200

    widget/material: respect min width in Button.Layout
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 widget/material/button.go | 2 ++
 1 file changed, 2 insertions(+)

commit afcff9c8b507381281a5c39159adec65dadc115e
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 21 10:38:58 2019 +0200

    layout: fix comment
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/list.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 72ed58e91496a001c223835bacb4b8c992858904
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 21 09:37:49 2019 +0200

    example/go.*: update Gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/go.mod | 2 +-
 example/go.sum | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 86f45f813e9f6a96284c91337796c90d23694730
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 21 09:34:26 2019 +0200

    widget/material: fix IconButton padding
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 widget/material/button.go | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 78963bdaae54f14b1e79bbe1a370a0738a8aa4b6
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 21 09:20:17 2019 +0200

    widget/material: add and use Icon.Layout method
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 widget/material/button.go | 18 +++++++++++-------
 1 file changed, 11 insertions(+), 7 deletions(-)

commit dafb180176517e8a7714a754fdb5c64f47497825
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 21 00:59:57 2019 +0200

    layout: fix ambiguous parsing of stack and flex arguments
    
    Fixed gio#44
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/format.go | 74 ++++++++++++++++++++++++++++++++++++++++++++++++--------------------------
 1 file changed, 48 insertions(+), 26 deletions(-)

commit 79d505623a79df81aac42fcdffec613690b63345
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 21 00:43:51 2019 +0200

    layout: parse empty names and let higher levels generate errors
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/format.go | 9 ++++-----
 1 file changed, 4 insertions(+), 5 deletions(-)

commit c07b5201577390390ccb1efa882e62c7b5e271fc
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 21 00:19:09 2019 +0200

    layout: rename formatState to formatter
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/format.go | 286 ++++++++++++++++++++++++++++++++++++++++++++++++++---------------------------------------------------
 1 file changed, 143 insertions(+), 143 deletions(-)

commit 32d51dd9e683971a06402346ead00e9c37ebfa37
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 21 01:04:19 2019 +0200

    layout: fix spelling of "northeast"
    
    Fixes gio#45
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/format.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5ef176af8145d2a15018dfc709b49109207d8a56
Author: Greg Pomerantz <gmp.gio@wow.st>
Date:   Fri Oct 18 12:22:55 2019 -0400

    app: add Handle type and PlatformHandle()
    
    On Android, allow access to JVM and Application context.
    
    Signed-off-by: Greg Pomerantz <gmp.gio@wow.st>

 app/app.go                            |  7 +++++++
 app/internal/window/GioView.java      |  4 ++--
 app/internal/window/handle.go         |  7 +++++++
 app/internal/window/handle_android.go | 11 +++++++++++
 app/internal/window/os_android.c      |  2 +-
 app/internal/window/os_android.go     |  8 +++++++-
 6 files changed, 35 insertions(+), 4 deletions(-)

commit 175144fa99b57ad4f99ebbcb5393fba8a2eeb065
Author: Greg Pomerantz <gmp.gio@wow.st>
Date:   Fri Oct 18 09:34:21 2019 -0400

    cmd/gogio: Android: include jar files from package directory
    
    Look for *.jar files in package directory for inclusion in
    Android .apk file.
    
    Signed-off-by: Greg Pomerantz <gmp.gio@wow.st>

 cmd/gogio/androidbuild.go | 4 ++++
 1 file changed, 4 insertions(+)

commit bf6741f2d66a8abcfcbedeb323c08d956f8f00fd
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Oct 17 20:50:02 2019 +0200

    widget/material: accept nil icon in IconButton.Layout
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 widget/material/button.go | 16 +++++++++-------
 1 file changed, 9 insertions(+), 7 deletions(-)

commit 959da5e68f44eba5ddec032914fb25a586f4797e
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Oct 17 19:49:07 2019 +0200

    example/gophers: fix avatar image scaling
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/go.mod          |  1 +
 example/gophers/main.go |  5 ++---
 example/gophers/ui.go   | 30 +++++++++++++++++++++++-------
 3 files changed, 26 insertions(+), 10 deletions(-)

commit 42d2c9845575dfc9fc14a7c2e45f59508520d9cb
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Oct 17 15:30:37 2019 +0200

    app/internal/gpu: clip in floating point
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/gpu/gpu.go | 39 ++++++++++++++++++++++++++-------------
 1 file changed, 26 insertions(+), 13 deletions(-)

commit 0c75e7c6056c718008f32160403c9bd01eacf4b0
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Oct 17 14:35:10 2019 +0200

    app/internal/gpu: don't apply gamma linearization to alpha values
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/gpu/gpu.go | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 0d4cd822ef2f9ac0f5950a3af6ef033817bc09d6
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Oct 17 14:24:00 2019 +0200

    example: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/go.mod | 2 +-
 example/go.sum | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 5c0f1ed9546694d9c40dd649ec3305f1675fcaea
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Oct 17 14:22:24 2019 +0200

    layout: update tests
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/layout_test.go | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit b3c0eaac80c2ba7acb38fe189d2604fc9d6b16c5
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Oct 17 14:18:46 2019 +0200

    app/internal/window: fix Windows build
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/egl.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3ec0948bbaf703d1cc89d2d54e18cf6fdc6a71f8
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Oct 17 14:10:49 2019 +0200

    widget/material: don't scale image when constrained
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 widget/material/image.go | 18 ++++++------------
 1 file changed, 6 insertions(+), 12 deletions(-)

commit 862061b363da13e94529327a53cb6e51f1ab703a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Oct 17 13:55:03 2019 +0200

    layout: rename "exp" layout variants to "max"; add "min" variants
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/format.go | 30 ++++++++++++++++++++++++++----
 1 file changed, 26 insertions(+), 4 deletions(-)

commit 7835d6999fb912963f3db8e55cfd6daed73a415f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 16 21:11:16 2019 +0200

    widget/material: don't use translucency for disabled icon buttons
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 widget/material/button.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d7694ae95f9a7b1a5586b83930d38ee6dd21b337
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 16 20:51:20 2019 +0200

    layout: add "exp" format layout for expanding both constraints
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/format.go | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 759900902af363f70b921f43246ab1d40e731822
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 16 20:35:24 2019 +0200

    layout: fix Flex baseline
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/flex.go | 6 +-----
 1 file changed, 1 insertion(+), 5 deletions(-)

commit b1643e5e2a41c3cfc478a1186f37dba84b0d28b5
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 16 20:29:17 2019 +0200

    layout: skip Flex and Stack Layout when scanning format string
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/format.go | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit f442512888c26b0c8ebbde28456943f2a20d093f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 16 18:00:57 2019 +0200

    layout: more doc fixes for layout.Format
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/format.go | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 80b1af302440807840f71924f538e50b6927d7da
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 16 17:59:04 2019 +0200

    layout: fix godoc.org rendering of layout.Format docs
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/format.go | 42 +++++++++++++++++++++---------------------
 1 file changed, 21 insertions(+), 21 deletions(-)

commit c76490956d8e0ca71c27c76061dcb501889bddcf
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Oct 15 12:18:25 2019 +0200

    layout: add support for layout format strings
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/format.go | 490 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 490 insertions(+)

commit 30d0c986b69f3d9c914ced7e958cd20808e66e59
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 16 11:09:03 2019 +0200

    example/gophers: correct baseline to be bottom-aligned
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/gophers/ui.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7f07933eb3ecfae1dc3e033153a7defee21367c1
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 16 11:07:52 2019 +0200

    layout: unexport Context.Layout and make it a function
    
    Layout wasn't used outside package layout, so let's not export it.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/flex.go   |  4 ++--
 layout/layout.go | 23 ++++++++++++-----------
 layout/list.go   |  2 +-
 layout/stack.go  |  4 ++--
 4 files changed, 17 insertions(+), 16 deletions(-)

commit e2d0b3cfca8675d68b077fe76cf3d1015fb2dc33
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 16 00:36:31 2019 +0200

    layout: invert baseline to measure positive distance from bottom
    
    With an inverted baseline, the zero value results in the widget
    baseline aligned to its bottom.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/flex.go              | 42 +++++++++++++++++++-----------------------
 layout/layout.go            |  4 ++--
 layout/stack.go             | 21 ++++++++-------------
 widget/label.go             |  2 +-
 widget/material/image.go    |  2 +-
 widget/material/material.go |  2 +-
 6 files changed, 32 insertions(+), 41 deletions(-)

commit 8e3d03f2c47850e5852da60a1fbd598d2039c926
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 16 00:00:15 2019 +0200

    layout: correct Align baseline
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/layout.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 4bbad669474e452b649737b0ff0eb5a9d6a0a5fa
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Oct 15 23:56:38 2019 +0200

    layout: adjust only max constraints on Inset
    
    Only adjust minimums, and insets, if necessary.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/layout.go | 24 +++++++++++++-----------
 1 file changed, 13 insertions(+), 11 deletions(-)

commit 8234e8485c7845c754781626d851379c4dc1140f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Oct 15 23:35:08 2019 +0200

    example: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/go.mod        |  2 +-
 example/go.sum        |  4 ++--
 example/gophers/ui.go | 30 ++++++++++++++----------------
 3 files changed, 17 insertions(+), 19 deletions(-)

commit 45ccbbe5714e087786ee4557cf2ec0bb9b917af1
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Oct 15 21:18:29 2019 +0200

    layout: expand Flex children
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/flex.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fd1fa859983382680319390f177301f8a7bc2480
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Oct 15 21:18:02 2019 +0200

    layout: allow Expand children to fill the available area
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/stack.go | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 160408ec034419f3c0270c82a029777c82d035c3
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Oct 15 21:19:15 2019 +0200

    widget/material: use constraint minimums for background fills

 widget/material/button.go   | 6 +++---
 widget/material/material.go | 2 +-
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 2990ceda6949b4b8a4c53f9c92770b97191e07af
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Oct 15 15:52:28 2019 +0200

    layout: relax constraints in Stack.Rigid
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/stack.go | 20 ++++++++++++--------
 1 file changed, 12 insertions(+), 8 deletions(-)

commit 6e44d355cc5d8286503e8dbd56fabbc84ac3d94d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Oct 15 15:41:18 2019 +0200

    layout: enforce constraints in Context.Layout
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/layout.go | 1 +
 1 file changed, 1 insertion(+)

commit 1d47f0c5d8751e60b54346f6c929bd31c5aa9559
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Oct 15 17:58:13 2019 +0200

    app/internal/window: fall back to OpenGL ES 2 if 3 is unavailable
    
    Systems that only support ES 2 are unlikely to have the required
    extensions available. But we'll get a better exit error in that case.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/window/egl.go | 21 ++++++++++++++-------
 1 file changed, 14 insertions(+), 7 deletions(-)

commit 0783d1939ed1c34b96fab5b7620a82b8db5109b5
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Oct 15 15:46:02 2019 +0200

    stack: fix comment
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/stack.go | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit b2a360098a3cbca24a939408d6f6fb35c70afe4b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Oct 15 10:09:03 2019 +0200

    example: go fmt imports
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/gophers/main.go    | 12 +++++++-----
 example/gophers/ui.go      |  6 ------
 example/hello/hello.go     |  3 ++-
 example/kitchen/kitchen.go |  5 +++--
 4 files changed, 12 insertions(+), 14 deletions(-)

commit 3a440c07c6bb7377a86fe23f8e0f36ecb228a175
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Oct 15 10:07:10 2019 +0200

    text: don't panic on missing default font
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 text/shaper.go | 24 +++++++++++++++++++++---
 1 file changed, 21 insertions(+), 3 deletions(-)

commit 4da6c57d83b33243f079908fdb978f24ac1d4c04
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 14 23:18:49 2019 +0200

    op: complete the MacroOp example
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 op/op.go | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit fa00b53e1300b7df857e906c374b76647bf20834
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 14 23:10:35 2019 +0200

    op: change signature of Ops.Write
    
    By returning the allocated data buffer, Ops can become an interface
    in a future change without forcing operations to allocate.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 io/key/key.go         |  6 ++----
 io/pointer/pointer.go |  9 +++------
 io/profile/profile.go |  3 +--
 op/op.go              | 22 +++++++++++-----------
 op/paint/paint.go     |  9 +++------
 op/paint/path.go      |  9 ++++-----
 6 files changed, 24 insertions(+), 34 deletions(-)

commit 88208891de910d5fea7821dc682b29f1f20f343d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 14 22:20:49 2019 +0200

    op/paint,app/internal/gpu: post-process paths during GPU upload
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/gpu/gpu.go | 51 +++++++++++++++++++++++++++++++++++++++++++++++++++
 op/op.go                |  5 -----
 op/paint/path.go        | 35 ++++++++---------------------------
 3 files changed, 59 insertions(+), 32 deletions(-)

commit d9100b506ffcb0378fe33ee7dc171efc72b96fd5
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 14 20:20:56 2019 +0200

    op,op/paint: remove aux awareness from Ops
    
    Aux data is now entirely confined to the writers (Path) and the
    ops Reader parser.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 op/op.go         | 60 +++++++++++-------------------------------------------------
 op/paint/path.go | 30 ++++++++++++++++--------------
 2 files changed, 27 insertions(+), 63 deletions(-)

commit 41eb3807f700014645eea6a34cd88827b8f92bf0
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 14 20:01:06 2019 +0200

    op: assume aux ops are always wrapped by a macro
    
    Shaves off a length, and prepares for further simplification.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 internal/opconst/ops.go |  2 +-
 internal/ops/reader.go  | 21 ++++-----------------
 op/op.go                |  5 -----
 3 files changed, 5 insertions(+), 23 deletions(-)

commit f5e93206f6022fd2de8c450d2d985223e746db22
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 14 18:20:07 2019 +0200

    example/gophers: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/go.mod          | 2 +-
 example/go.sum          | 4 ++--
 example/gophers/main.go | 7 +++++--
 example/gophers/ui.go   | 2 +-
 4 files changed, 9 insertions(+), 6 deletions(-)

commit 8da2c9dbb4c4fba1e485c87f76f05b745a427326
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 14 18:17:30 2019 +0200

    widget/material: change Image to take an ImageOp, not an image.Image
    
    Using ImageOps directly avoids the image copy by NewImageOp.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 widget/material/image.go | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit 74407a50d598bfd27e8f8e48b6832cc5df04de77
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 14 17:37:18 2019 +0200

    op/paint: add NewImageOp, unexport ImageOp fields
    
    With public ImageOp fields there was no way to mark an image.Image as modified.
    Replace them with NewImageOp that always make a copy, and use the opportunity
    to ensure the copy is ready to upload to a GPU texture.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/gpu/gpu.go   | 67 ++++++++++++++++++++-----------------------------------------------
 op/paint/paint.go         | 55 +++++++++++++++++++++++++++++++++++++++++--------------
 widget/material/button.go | 24 +++++++++++++++---------
 widget/material/image.go  |  5 +----
 4 files changed, 77 insertions(+), 74 deletions(-)

commit 2e22edbb990abc9c66eee1cbc6c27049f0ebbb26
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 14 17:41:32 2019 +0200

    widget/material: remove unused function
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 widget/material/button.go | 14 --------------
 1 file changed, 14 deletions(-)

commit 3a27bcea2e78841374372eef44c0bb5cc82798c6
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 14 15:17:51 2019 +0200

    example: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/go.mod             |  2 +-
 example/go.sum             |  4 ++--
 example/gophers/main.go    | 15 ++++++++-------
 example/hello/hello.go     |  7 ++++---
 example/kitchen/kitchen.go |  7 ++++---
 5 files changed, 19 insertions(+), 16 deletions(-)

commit fc521ec1fffa6a0d8994e0e7f6bea455d11318d7
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 14 16:19:32 2019 +0200

    cmd/gogio: update gio version
    
    The path of the supporting Android Java files and iOS header file
    moved.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/go.mod                | 2 +-
 cmd/go.sum                | 4 ++--
 cmd/gogio/androidbuild.go | 2 +-
 cmd/gogio/iosbuild.go     | 2 +-
 4 files changed, 5 insertions(+), 5 deletions(-)

commit b30bf3cef8b1e3d7d73585f970367ce8b9f63a35
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 14 16:37:13 2019 +0200

    app/internal/log: extract log setup to separate package
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/log/log.go               | 5 +++++
 app/{ => internal/log}/log_android.go | 2 +-
 app/{ => internal/log}/log_ios.go     | 2 +-
 app/{ => internal/log}/log_ios.h      | 0
 app/{ => internal/log}/log_ios.m      | 0
 app/window.go                         | 2 ++
 6 files changed, 9 insertions(+), 2 deletions(-)

commit 10c1b2cb8dfe505a628b71dd8aff9d5701451044
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 14 16:00:26 2019 +0200

    app,internal/window: extract native window code to separate package
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/app.go                                         |  85 ++---------------------------------------------
 app/datadir_android.go                             |  14 ++++----
 app/{ => internal/window}/GioActivity.java         |   0
 app/{ => internal/window}/GioView.java             |   0
 app/{ => internal/window}/egl.go                   |   2 +-
 app/{ => internal/window}/egl_android.go           |   2 +-
 app/{ => internal/window}/egl_linux.go             |   8 ++++-
 app/{ => internal/window}/egl_wayland.go           |   2 +-
 app/{ => internal/window}/egl_windows.go           |   6 +++-
 app/{ => internal/window}/framework_ios.h          |   0
 app/{ => internal/window}/gl_ios.go                |   6 +++-
 app/{ => internal/window}/gl_ios.h                 |   0
 app/{ => internal/window}/gl_ios.m                 |   0
 app/{ => internal/window}/gl_js.go                 |   6 +++-
 app/{ => internal/window}/gl_macos.go              |   6 +++-
 app/{ => internal/window}/gl_macos.h               |   0
 app/{ => internal/window}/gl_macos.m               |   0
 app/{ => internal/window}/os_android.c             |   0
 app/{ => internal/window}/os_android.go            |  42 +++++++++++++----------
 app/{ => internal/window}/os_android.h             |   0
 app/{ => internal/window}/os_ios.go                |  34 +++++++++----------
 app/{ => internal/window}/os_ios.h                 |   0
 app/{ => internal/window}/os_ios.m                 |   0
 app/{ => internal/window}/os_js.go                 |  34 +++++++++----------
 app/{ => internal/window}/os_macos.go              |  30 ++++++++---------
 app/{ => internal/window}/os_macos.h               |   0
 app/{ => internal/window}/os_macos.m               |   0
 app/{ => internal/window}/os_wayland.c             |   0
 app/{ => internal/window}/os_wayland.go            |  48 +++++++++++++--------------
 app/{ => internal/window}/os_wayland.h             |   0
 app/{ => internal/window}/os_windows.go            |  42 +++++++++++------------
 app/{ => internal/window}/runmain.go               |   4 ++-
 app/{ => internal/window}/runmain_ios.go           |   4 ++-
 app/{ => internal/window}/wayland_text_input.c     |   0
 app/{ => internal/window}/wayland_text_input.h     |   0
 app/{ => internal/window}/wayland_xdg_decoration.c |   0
 app/{ => internal/window}/wayland_xdg_decoration.h |   0
 app/{ => internal/window}/wayland_xdg_shell.c      |   0
 app/{ => internal/window}/wayland_xdg_shell.h      |   0
 app/internal/window/window.go                      | 121 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 app/window.go                                      |  69 ++++++++++++++++----------------------
 41 files changed, 312 insertions(+), 253 deletions(-)

commit 36d1cd90f219241909f01914a09e28b39d88c4a7
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 14 14:55:42 2019 +0200

    app,io/system: extract system events to separate package
    
    Package app is the only package that depends on native libraries and
    Cgo. Minimize its API, thereby minimizing Gio clients' dependency on
    it. In the future, a headless, testing or remote "Window" should be
    very easy to replace app.Window.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/app.go          |  90 ++++----------------------------------------------------------------------------------
 app/os_android.go   |  49 +++++++++++++++++++++++++----------------------
 app/os_ios.go       |  41 ++++++++++++++++++++-------------------
 app/os_js.go        |  23 ++++++++++++----------
 app/os_macos.go     |  48 +++++++++++++++++++++++++---------------------
 app/os_wayland.go   |  35 ++++++++++++++++++----------------
 app/os_windows.go   |  31 ++++++++++++++++--------------
 app/window.go       |  31 ++++++++++++++++++------------
 io/system/system.go | 102 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 layout/layout.go    |  15 +++------------
 10 files changed, 251 insertions(+), 214 deletions(-)

commit 641656b307506cc8171888f99f4c37dea9394b95
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 14 15:08:26 2019 +0200

    example/kitchen: use a different color for the disabled button
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/kitchen/kitchen.go | 10 +++++++---
 1 file changed, 7 insertions(+), 3 deletions(-)

commit 0559393633ca83dec879cfcc5af21e4c946ee439
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 14 15:07:48 2019 +0200

    widget/material: don't use transparency for disabled buttons
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 widget/material/button.go | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 4475bf10bff4b08e952cc0837dcf1ca5f3a9b3dc
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 14 14:21:02 2019 +0200

    app: disable darwin SIGPIPE workaround from Go 1.14
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/sigpipe_darwin.go | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 52fedc27a21b38b5f2b6328ea6888d2f2ca4e53f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 14 11:50:44 2019 +0200

    app/internal/xkb: extra XKB interface to internal package
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/{ => internal/xkb}/xkb_linux.go | 56 ++++++++++++++++++++++++++++++--------------------------
 app/os_wayland.go                   | 24 +++++++++++++++---------
 2 files changed, 45 insertions(+), 35 deletions(-)

commit 7672c08f46a2d8b6555fa1fd3ca90dd2eb8374d1
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Oct 13 18:29:39 2019 +0200

    example: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/go.mod             |  3 +--
 example/go.sum             |  4 ++--
 example/gophers/ui.go      | 18 +++---------------
 example/hello/hello.go     | 10 ++--------
 example/kitchen/kitchen.go | 13 ++-----------
 5 files changed, 10 insertions(+), 38 deletions(-)

commit 8cd4c2e5de659d42a9488123906d0d4e5ded11d2
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Oct 13 18:23:39 2019 +0200

    widget/material: use font.Default
    
    And simplify NewTheme to take no arguments.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 widget/material/material.go | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 445d85efe095cd66536243700783c042b0ebfad5
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Oct 13 18:17:37 2019 +0200

    font/gofont: add Go font convenience package
    
    To use the Go font in a Gio program, import it:
    
    import _ "gioui.org/font/gofont"
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 font/gofont/gofont.go | 53 +++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 53 insertions(+)

commit edf0d8ef999f73e76337c01fb0071ff775beaf18
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Oct 13 18:15:25 2019 +0200

    font/opentype,text/opentype: move package
    
    Opentype parsing, layout and shaping will be used by subpackages to package
    font. Move the opentype package accordingly.
    
    Remove the Must helper function; programs will no longer use the opentype
    package in the normal case.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 {text => font}/opentype/opentype.go | 9 ---------
 1 file changed, 9 deletions(-)

commit 40822ef26be1a8160e468f13c167d1127c7335af
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Oct 13 18:12:07 2019 +0200

    font: add a central font registry
    
    Package font holds a singleton text.Shaper for general use. Subpackages
    call Register to add fonts to the registry.
    
    The intention is that programs can add a typeface by importing a package:
    
    import _ "gioui.org/font/gofont"
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 font/font.go | 36 ++++++++++++++++++++++++++++++++++++
 1 file changed, 36 insertions(+)

commit d33461dd80fffa3497e31e21a25c7b92a3ede989
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Oct 13 18:22:31 2019 +0200

    text: match Bold weight to CSS, add Variant and Typeface

 text/text.go | 15 +++++++++++----
 1 file changed, 11 insertions(+), 4 deletions(-)

commit 481cca5781448a3e9a18df281f84cdf654ad5ba5
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Oct 13 18:20:19 2019 +0200

    text: use the first registered font as the default in Shaper
    
    Before this change, the default font was the one registered with an empty
    Typeface.
    
    We're about to use the correct names for fonts, so change Shaper to
    fallback to the first registered typeface instead.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 text/shaper.go | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 5a82fc9267c855ec6b7812433d4d4294e62691af
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Oct 12 16:52:00 2019 +0200

    example/kitchen: place buttons on the same row
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/kitchen/kitchen.go | 47 +++++++++++++++++++++++++++++------------------
 1 file changed, 29 insertions(+), 18 deletions(-)

commit e1de1ba5918ce36c2264e359b1f1c0d5c1687e7b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Oct 12 16:31:23 2019 +0200

    io/pointer: delete Foremost priority
    
    It wasn't used, and it's not clear that it is useful at all in its current
    form. For example, a single control with multiple handler keys (say, one for
    scrolling and one for clicking) will only receive priority Foremost for one of
    them.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/input/pointer.go | 7 ++-----
 io/pointer/doc.go             | 4 ++--
 io/pointer/pointer.go         | 5 -----
 3 files changed, 4 insertions(+), 12 deletions(-)

commit 651e31f7e007263763432445c0a8c210518c7f5b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Oct 12 15:42:47 2019 +0200

    cmd/gogio: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/go.mod                |  4 ++--
 cmd/go.sum                | 26 +++++++++++++++++++++-----
 cmd/gogio/testdata/red.go |  4 ++--
 3 files changed, 25 insertions(+), 9 deletions(-)

commit 48cf8af2f2550d69d189d987b010d8cfddbbc413
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Oct 10 16:27:42 2019 +0200

    example/kitchen: add example for demonstrating widgets and theming
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/kitchen/kitchen.go | 186 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 186 insertions(+)

commit 88e58a98b3d083d661f15bf6e86941ac6af1d4a8
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Oct 8 21:38:09 2019 +0200

    example: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/go.mod          |   6 +--
 example/go.sum          |  30 +++++++++-----
 example/gophers/main.go |   4 +-
 example/gophers/ui.go   | 202 +++++++++++++++++++++++++---------------------------------------------------------------------
 example/hello/hello.go  |  35 +++++++----------
 5 files changed, 92 insertions(+), 185 deletions(-)

commit abb99eca5c54238e34054cacb56936e17cff12a0
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Oct 11 11:50:51 2019 +0200

    theme/material: add the material theme
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 go.mod                         |   3 +-
 go.sum                         |  23 +++++++++-
 widget/button.go               |  70 +++++++++++++++++++++++++++++
 widget/doc.go                  |   6 +++
 widget/material/button.go      | 209 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 widget/material/editor.go      |  65 +++++++++++++++++++++++++++
 widget/{ => material}/image.go |  23 +++++-----
 widget/material/label.go       |  80 +++++++++++++++++++++++++++++++++
 widget/material/material.go    |  73 +++++++++++++++++++++++++++++++
 9 files changed, 537 insertions(+), 15 deletions(-)

commit ff3fc7a24a9f28a1c378e74a20d711c4fcf2376b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Oct 10 12:46:30 2019 +0200

    widget,text: move Label and Editor from text to widget package
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 text/text.go               | 44 --------------------------------------------
 {text => widget}/buffer.go |  2 +-
 {text => widget}/editor.go | 17 +++++++++--------
 {text => widget}/label.go  | 61 +++++++++++++++++++++++++++++++++++++++++++++++++++----------
 4 files changed, 61 insertions(+), 63 deletions(-)

commit 607d853b58a68c32cff7b8768c45f288e7e08c93
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Oct 11 19:07:34 2019 +0200

    unit: add Value.Scale method
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 unit/unit.go | 6 ++++++
 1 file changed, 6 insertions(+)

commit d829e56194a95427aedc4c6d2c89b0f3fe131aca
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Oct 11 17:39:06 2019 +0200

    gesture: add Active methods to gestures
    
    Active reports whether events are being processed. If not, widgets
    can draw themselves as inactive.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 gesture/gesture.go | 54 +++++++++++++++++++++++++++++++++++++++++++++++++-----
 1 file changed, 49 insertions(+), 5 deletions(-)

commit a5b22860accfcd3d25934b729c99420ea13877b0
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Oct 11 18:11:47 2019 +0200

    text: replace Editor.Event with Editor.Event and add Text to SubmitEvent
    
    THe single-stepping Event was done so that SubmitEvents didn't have to
    copy the text out if it wasn't needed.
    
    This is a dubious optimization, because SubmitEvents are only generated
    when Editor.Submit is true, in which case it is highly likely the user
    wants the text.
    
    Furthermore, I expect Editors with Submit enabled to be relatively short,
    in the order of a message field in a chat program.
    
    Finally, Editor will need support for undo at some point. Supporting undo
    means we can support a lightweight SubmitEvent that points to an older Editor
    state.
    
    All in all (1) we gain a simpler Events method, and (2) we can allow the user
    to call it before or after Editor.Layout. Before this change any the events were
    gone after Layout was called.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 text/editor.go | 52 ++++++++++++++++++++++++++++++++--------------------
 1 file changed, 32 insertions(+), 20 deletions(-)

commit d8e3d1077c04453c89f2c7548d877535ee5f32db
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Oct 12 12:35:33 2019 +0200

    text: maintain valid Editor scroll offset
    
    No functional changes.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 text/editor.go | 43 +++++++++++++++++++++++++------------------
 1 file changed, 25 insertions(+), 18 deletions(-)

commit bc8ad61b54677489b287e51c6de15ef1e0d436c1
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Oct 11 11:46:03 2019 +0200

    text: remove themable properties from Editor and Label
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 text/editor.go | 101 +++++++++++++++++++++++++++++++++++++++++++----------------------------------------------------------
 text/label.go  |  17 +++--------------
 2 files changed, 46 insertions(+), 72 deletions(-)

commit dbb62ae0f6ced3db35c74627733f95102fc6cc93
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Oct 10 13:48:25 2019 +0200

    text: remove padding from Editor
    
    Before this change, the Editor computed a suitable padding for itself
    from its font and text. Varying the padding according to the particular
    font and text doesn't seem worth it and interferes with higher level widgets'
    ability to overlay hints and the like on top of the editor.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 text/editor.go | 106 +++++++++++++++++++++++++++++++++++++++++++++----------------------------------------------------------
 1 file changed, 46 insertions(+), 60 deletions(-)

commit f35fe407b39b07927e8198f666fade408fd3aa41
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Oct 11 14:09:53 2019 +0200

    text: tighten clip bounds for Editor and Label
    
    We're about to remove the extra padding from Editor. To do that, the
    clipping must account for text drawing that lie outside the viewport.
    
    With accurate clip bounds, use it for Label as well.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 text/editor.go | 15 ++++++++-------
 text/label.go  | 34 +++++++++++++++++++---------------
 2 files changed, 27 insertions(+), 22 deletions(-)

commit bef7c39e4ce3a9e26a06f422c5933c511d5889ad
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Oct 8 21:29:04 2019 +0200

    text: replace Family with Shaper, add Font, Face
    
    There is now a single shaping implementation, Shaper, for all fonts, replacing
    Family that only covered a single typeface.
    
    A typeface is identified by a name, where the empty string denotes the
    default typeface.
    
    Font is introduced to specify a particular font from the typeface, style,
    weight and size.
    
    Face is changed to an interface for a particular layout and shaping method.
    The text/shape package is renamed to text/opentype and contains a Face
    implementation based on golang.org/x/image/font/sfnt.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 text/editor.go                                  |  41 ++++++----------------
 text/label.go                                   |  20 +++--------
 text/{shape => }/lru.go                         |  34 ++++++++----------
 text/{shape => }/lru_test.go                    |   4 +--
 text/{shape/measure.go => opentype/opentype.go} | 131 +++++++++++++++++++++++++++++++++++++++++-----------------------------
 text/shape/opentype.go                          |  61 ---------------------------------
 text/shaper.go                                  | 109 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 text/{measure.go => text.go}                    |  31 +++++++++--------
 8 files changed, 233 insertions(+), 198 deletions(-)

commit ea404bc8fc0d6a80839b5a72a3cf394c77e89de4
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Oct 8 20:38:10 2019 +0200

    text: refactor Editor
    
    To prepare for separating drawing from state tracking, refactor
    Editor so that only its top level Layout method touches font
    parameters and materials.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 text/editor.go | 306 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++---------------------------------------------
 1 file changed, 172 insertions(+), 134 deletions(-)

commit ef5cf5b724e02a8c3e69b3a3dfa66a0bf9e19050
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 9 15:05:09 2019 +0200

    op/paint: return ClipOp from Path.End
    
    Instead of adding an implicit ClipOp, return a ClipOp ready to use, freeing the
    caller from recording a macro.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 op/op.go               | 20 +++++++++++++-------
 op/paint/path.go       | 15 ++++++++++-----
 text/measure.go        |  6 +++---
 text/shape/lru.go      | 10 +++++-----
 text/shape/lru_test.go |  4 ++--
 text/shape/measure.go  | 10 +++-------
 6 files changed, 36 insertions(+), 29 deletions(-)

commit a937a7653439333b8c6fc30c7a6039b717339766
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Oct 10 12:15:04 2019 +0200

    app: rename UpdateEvent to FrameEvent and add Frame field
    
    While "DrawEvent" was too specific (op.Ops contains non-draw events),
    "Update" is too vague: it's a common word, and could be misunderstood
    to mean update parts of a window, not replace it.
    
    "FrameEvent" is more specific, and is the usual way to refer to immediate
    mode drawing.
    
    While we're here, unexport Window.Update and add a Frame function to
    FrameEvent, to emphasize that updating the window frame is only
    appropriate during the handling of a FrameEvent.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/app.go        | 19 +++++++++++--------
 app/doc.go        |  6 +++---
 app/os_android.go |  2 +-
 app/os_ios.go     |  2 +-
 app/os_js.go      |  2 +-
 app/os_macos.go   |  2 +-
 app/os_wayland.go |  2 +-
 app/os_windows.go |  2 +-
 app/window.go     | 17 +++++++++--------
 9 files changed, 29 insertions(+), 25 deletions(-)

commit e49df512f6c6c5916cdf624922521db9077eaa0a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Oct 11 16:28:32 2019 +0200

    app/internal/input: remove event delivery tracking field
    
    The "hadEvents" field of handlerEvents is enough to track event
    delivery.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/input/router.go | 26 ++++++++++++--------------
 1 file changed, 12 insertions(+), 14 deletions(-)

commit ff4fa717381e5f57798266e48b2c1045cf18aede
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Oct 12 13:58:16 2019 +0200

    app/internal/input: really reset dropped handlers
    
    First, let the handlers know they're dropping with a cancel event.
    
    Second, reset the grab flag of dropped handlers.
    
    Fixes issues when drag-scrolling and then clicking and another with two nested
    drag gestures where the grab flag is kept for the second handler even after it
    is pushed out by the first handler grabbing.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/input/pointer.go | 10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit a184faa50e887f12cf922beb34c003e1728003e9
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Oct 11 15:31:15 2019 +0200

    app: remove two remaining Wayland references from xkb
    
    Noticed by ~db47h.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/xkb_linux.go | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 163d9037e6c8f1b0c8ca48f8fd80340ac202c4c7
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Oct 10 15:27:02 2019 +0200

    text: fix editBuffer.runeBefore
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 text/buffer.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 71731a613c7aff12b8331ae4395584e5f96309ea
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Oct 10 11:57:13 2019 +0200

    io/key: add String methods to Modifiers and Event
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 io/key/key.go | 17 +++++++++++++++++
 1 file changed, 17 insertions(+)

commit a21e8bf7e405a5c9746d423b5cbf6a6e767630f2
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Oct 10 08:43:48 2019 +0200

    README.md: initialize a module before running module commands
    
    Go 1.14 disables the use of `go run` in module mode outside a module,
    see https://golang.org/issue/32027.
    
    Suggest initializing a module in the current directory instead; that
    enables module mode (in Go 1.13) and enables `go run`.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit e4b1a46dd243cb6ef948e5605aef74299056b9d2
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 9 18:54:53 2019 +0200

    cmd/gogio: create a temporary signing key if debug.keystore isn't found
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gogio/androidbuild.go | 50 ++++++++++++++++++++++++++++++++++++++++++++++----
 1 file changed, 46 insertions(+), 4 deletions(-)

commit 468731538e3128fc843bdf13ca480898918212d4
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 9 18:38:05 2019 +0200

    cmd/gogio: look for javac in JAVA_HOME if it is not in PATH
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gogio/androidbuild.go | 22 +++++++++++++++++++++-
 1 file changed, 21 insertions(+), 1 deletion(-)

commit b749c5dd285a1f1c9b7dacf1dfa87f9618be82e5
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 9 18:27:09 2019 +0200

    cmd/gogio: fix Android toolchain path for Windows 64-bit
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gogio/androidbuild.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e031d7325cd13a782826f0c335123e3fde046d0f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 9 17:44:04 2019 +0200

    README.md: remove text about the gophers example -token flag
    
    It doesn't belong in a README about Gio.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 7 -------
 1 file changed, 7 deletions(-)

commit 25c76cf8a1584327cbeed85321037a7fea090c01
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Oct 8 17:32:02 2019 +0200

    example/go.*: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/go.mod | 2 +-
 example/go.sum | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit a76de40e9a409104280701ec1f345025f4d5dda5
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Oct 8 17:30:31 2019 +0200

    app: another macOS < 10.12 build fix
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/os_macos.m | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 23c590b9be0dc01b67d8b0ee7fde0ad266bc6cc5
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Oct 8 16:54:54 2019 +0200

    example/go.*: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/go.mod | 2 +-
 example/go.sum | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit da5a83d2b253b57f172851c8b4e0cb3151eea1ea
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Oct 8 16:50:52 2019 +0200

    app: fix more macOS 10.11 build warnings
    
    Furthermore, add -Wno-deprecated-declarations; it is not worth it.
    
    Updated gio#41
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/os_macos.go | 2 +-
 app/os_macos.m  | 6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 6bc55d66c2feb857e1b1288abb632506c3e15ced
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Oct 8 14:25:09 2019 +0200

    example/go.mod: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/go.mod | 2 +-
 example/go.sum | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit c3a6ab1174b0930ea0d658dc352cbeb8cd06f992
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Oct 8 14:22:41 2019 +0200

    app: fix build on macOS < 10.12
    
    Fixes gio#41
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/os_macos.go | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e9db3801cc6da2bdd6918ac50c0e177c81db8920
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Oct 8 13:10:58 2019 +0200

    cmd/gogio: rename gio* files to main*
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gogio/{gio.go => main.go}           | 0
 cmd/gogio/{gio_test.go => main_test.go} | 0
 2 files changed, 0 insertions(+), 0 deletions(-)

commit 81814e6fa41b75cd1e4bdb3bfb7710c7f8e0a8b0
Author: Greg Pomerantz <gmp.gio@wow.st>
Date:   Mon Oct 7 10:29:16 2019 -0400

    cmd/gogio: add -minversion flag to specify minimum Android platform
    
    Allow the user to specify a minimum supported Android platform
    version.
    
    Signed-off-by: Greg Pomerantz <gmp.gio@wow.st>

 cmd/gogio/androidbuild.go | 60 ++++++++++++++++++++++++++++++++++++++++++++++++++++--------
 cmd/gogio/gio.go          | 33 ++++++++++++++++++---------------
 2 files changed, 70 insertions(+), 23 deletions(-)

commit 370ff4bcc9d650ee67fb5ccc1a78da6242cfa316
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 7 12:04:51 2019 +0200

    example/gophers: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/go.mod          | 2 +-
 example/go.sum          | 4 ++--
 example/gophers/main.go | 5 ++---
 3 files changed, 5 insertions(+), 6 deletions(-)

commit 486445929155cbc5c46d6998db1ef64cca12815a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Oct 7 12:00:17 2019 +0200

    app: rename WindowOption to Option, and leave out "With" from options
    
    While we're here, replace Height and Width options with just a Size; the value
    of separate width and height options is not clear to me.
    
    Finally, leave out the wrapping struct from the Option type, the
    function is enough.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/window.go | 38 ++++++++++++--------------------------
 1 file changed, 12 insertions(+), 26 deletions(-)

commit 38a5717216b91848d7b4ec438ab6942b96cb57ba
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Oct 6 17:18:13 2019 +0200

    README.md: update godoc link
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit afeaa247c80a136148d0874e2523987ad325d93e
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Oct 6 13:02:54 2019 +0200

    text: fix typo
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 text/editor.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 225c73f012083cd3c78555e03edb7de5527cd239
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Oct 6 12:29:35 2019 +0200

    text: move Label.it to a local variable
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 text/label.go | 6 ++----
 1 file changed, 2 insertions(+), 4 deletions(-)

commit 43131b6f574c3cf442b6b9a01691ea29e11ab3e3
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Oct 6 12:15:18 2019 +0200

    apps/gophers: use text.Family where *shape.Family is too specific
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 example/gophers/ui.go | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit ea082c5cca88d3a74949d49322687602380ebc30
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Oct 6 09:43:27 2019 +0200

    example: rename apps module
    
    The new name emphasize the nature of the programs and won't be
    confused with package `app`.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md                              | 16 ++++++++--------
 {apps => example}/go.mod               |  2 +-
 {apps => example}/go.sum               |  0
 {apps => example}/gophers/main.go      |  0
 {apps => example}/gophers/main_test.go |  0
 {apps => example}/gophers/ui.go        |  0
 {apps => example}/hello/hello.go       |  0
 7 files changed, 9 insertions(+), 9 deletions(-)

commit e7fabcf774871ea528c6d0feecf84c16a6c9099b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Oct 6 09:23:02 2019 +0200

    apps: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod        |  2 +-
 apps/go.sum        |  4 ++--
 apps/gophers/ui.go | 64 +++++++++++++++++++++++++++++-----------------------------------
 3 files changed, 32 insertions(+), 38 deletions(-)

commit 529fd4d307e89dcddf79d9d83117d294bf6d3bd7
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Oct 6 09:20:04 2019 +0200

    layout: rename Flex.Flexible to just Flex
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/flex.go        | 8 ++++----
 layout/layout_test.go | 2 +-
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 8d82a3eaa636a46fe7a6958bf2d8a4cfd77a8123
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Oct 6 09:17:41 2019 +0200

    layout: delete Init methods from Flex and Stack
    
    With Context containing all the necessary information, separate
    Init methods no longer makes much sense. Delete them and thereby
    remove a source of runtime panics.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/flex.go        | 89 ++++++++++++++++++++++++++++-------------------------------------------------------------
 layout/layout_test.go | 14 ++++++--------
 layout/stack.go       | 62 ++++++++++++++++++++++++--------------------------------------
 3 files changed, 58 insertions(+), 107 deletions(-)

commit bb796ddf37b7a41b874fa0308c501b29d60e4e45
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Oct 5 23:12:20 2019 +0200

    apps/gophers: clean up font family code
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/gophers/ui.go | 48 +++++++++++++++++++-----------------------------
 1 file changed, 19 insertions(+), 29 deletions(-)

commit 1b445944119b9905507715e4b0006d2111c95dcc
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Oct 5 22:53:37 2019 +0200

    text/shape: reduce garbage a bit
    
    The sfnt.Buffer embedded in the opentype type caused instances of
    it to escape. Move the buffer to Family to avoid that.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 text/shape/measure.go  | 19 ++++++++++---------
 text/shape/opentype.go | 30 ++++++++++++++----------------
 2 files changed, 24 insertions(+), 25 deletions(-)

commit e8ca986a630e7bea3e0514a53cabba0dbee9376f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Oct 5 19:01:07 2019 +0200

    apps: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod         |  2 +-
 apps/go.sum         |  4 ++--
 apps/gophers/ui.go  | 41 ++++++++++++++++++++++++++---------------
 apps/hello/hello.go |  8 ++++----
 4 files changed, 33 insertions(+), 22 deletions(-)

commit 2097c6475da943960d4ac73f5a014b71790d43c3
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Oct 5 22:21:55 2019 +0200

    text/shape: remove Family.Reset by introducing LRU caches
    
    It was easy to forget Family.Reset, and the per-frame caching strategy is
    probably too aggressive. Use a static size for the caches and evict
    according to a least recently used policy.
    
    Reset is then no longer required, and we can delete it.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 text/shape/lru.go      | 125 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 text/shape/lru_test.go |  54 +++++++++++++++++++++++++++++++++++++++++
 text/shape/measure.go  |  74 +++++++-------------------------------------------------
 3 files changed, 187 insertions(+), 66 deletions(-)

commit 0b637f549daa8cfd75ba1a5929fec4eaef76e5fa
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Oct 5 19:00:11 2019 +0200

    text: rename Face to Family and let Face denote a family configuration
    
    While here, rename Family.Path to Shape which a more precise term.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 text/editor.go        | 14 +++++++++-----
 text/label.go         |  9 +++++----
 text/measure.go       | 31 ++++++++++++++++++++++++++++---
 text/shape/measure.go | 81 +++++++++++++++++++++++++++++++++++++++------------------------------------------
 4 files changed, 81 insertions(+), 54 deletions(-)

commit 404a065a0e03a9e0bf21da58288c2753b98b3983
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Oct 5 11:24:37 2019 +0200

    apps: update gio version to use explicit text sizes
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod         |  2 +-
 apps/go.sum         |  4 ++--
 apps/gophers/ui.go  | 26 +++++++++++---------------
 apps/hello/hello.go |  6 +++---
 4 files changed, 17 insertions(+), 21 deletions(-)

commit b4a52d301013255adb2507aa29be4ca8f55960da
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Oct 5 11:22:26 2019 +0200

    text: make text size implicit
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 text/editor.go        | 77 +++++++++++++++++++++++++++++++++++++++++------------------------------------
 text/label.go         | 17 ++++++++++++++---
 text/measure.go       |  4 ++--
 text/shape/measure.go | 22 ++++++++--------------
 4 files changed, 65 insertions(+), 55 deletions(-)

commit f230036cad23c61b09f32a510d84f785adaffe27
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Oct 4 19:16:17 2019 +0200

    text: re-phrase and clarify Label.MaxLines comment
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 text/label.go | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 31e12607d7397c1cf02d156ce66b62c15afff4c9
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Oct 3 19:26:37 2019 +0200

    op/paint: note that ImageOp caches image contents
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 op/paint/paint.go | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit f3819d816490d93770b3013dee995d40020ec0e4
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Oct 3 13:36:51 2019 +0200

    apps: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod        | 2 +-
 apps/go.sum        | 4 ++--
 apps/gophers/ui.go | 4 ++--
 3 files changed, 5 insertions(+), 5 deletions(-)

commit 6dad034b228085c4e9847510ad56ac800c8935bc
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Oct 3 13:34:01 2019 +0200

    op/paint: rename PathBuilder to Path
    
    There was no "Path" to "Build", so let's just use the simpler name.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 op/paint/path.go      | 40 +++++++++++++++++++---------------------
 text/shape/measure.go |  4 ++--
 2 files changed, 21 insertions(+), 23 deletions(-)

commit 96d3d74cb33a21413b8b6590596d092fa5432c31
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 2 23:29:46 2019 +0200

    apps: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 apps/go.sum | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 07a36d71d9b0e6c89b6d750b03bb026500ff2dd7
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 2 23:20:44 2019 +0200

    app: (linux,android) merge EGLNative* types and functions
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/egl_android.go | 14 --------------
 app/egl_linux.go   | 22 +++++++++++++++++-----
 app/egl_wayland.go | 22 ++++------------------
 3 files changed, 21 insertions(+), 37 deletions(-)

commit 2dcbf6fe3c9e648c9c8ef049aa58ad4873ccb858
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 2 23:07:54 2019 +0200

    app: confine the eglWindow indirection to the Wayland backend
    
    Only the Wayland backend needs an wl_egl_window between the wl_surface
    and EGL. Move code dealing with the indirection to Wayland specific
    code.
    
    Then, introduce the eglDriver interface instead of referencing the
    native window type directly. This will help when multiple backends are
    supported at runtime (e.g. Wayland+X11).
    
    Finally, move the eglDriver implementation methods from GOOS-specific
    code to separate EGL-specific files, allowing EGL types to be used
    directly instead of unsafe.Pointer and uinptr.
    
    The result is simpler generic EGL code, and easier path towards X11
    support.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/egl.go         | 61 +++++++++++++++++++++++++++----------------------------------
 app/egl_android.go | 12 ++++++++++++
 app/egl_wayland.go | 53 ++++++++++++++++++++++++++++++++++++-----------------
 app/egl_win.go     | 20 --------------------
 app/egl_windows.go | 12 ++++++++++++
 app/os_android.go  |  8 ++------
 app/os_wayland.go  |  8 ++++----
 app/os_windows.go  |  8 ++++----
 8 files changed, 97 insertions(+), 85 deletions(-)

commit 32bda106e7ff00f33ba9cfda9fa9637d14bed74a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 2 22:51:02 2019 +0200

    app: (android,ios) fix build
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/os_android.go | 8 ++++----
 app/os_ios.go     | 8 ++++----
 2 files changed, 8 insertions(+), 8 deletions(-)

commit cf00c89c9f7493e84d78a3d12efab78f7d290ac5
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 2 19:51:09 2019 +0200

    apps/hello: rename context to gtx for consistency
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/hello/hello.go | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 1673600ac641a3d09acf204cab26a20081d5c6ba
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 2 15:36:36 2019 +0200

    apps: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod               | 2 +-
 apps/go.sum               | 4 ++--
 apps/gophers/main.go      | 2 +-
 apps/gophers/main_test.go | 2 +-
 apps/hello/hello.go       | 2 +-
 5 files changed, 6 insertions(+), 6 deletions(-)

commit e0313081720e4a6fa8ec8c4252876648de314927
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 2 15:31:52 2019 +0200

    layout: take a size, not constraints in Context.Reset
    
    Taking a constraint in Reset smells too much of a layout operation,
    whereas a size is simpler and only serves to set the context constraints
    to something sensible.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 layout/layout.go      |  7 ++++---
 layout/layout_test.go | 19 +++++++------------
 2 files changed, 11 insertions(+), 15 deletions(-)

commit b0e7b165b6fc03aa234a01537bcbe7ad6a00d4e8
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 2 15:26:32 2019 +0200

    apps/gophers: fix test build failure
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/gophers/main_test.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2a1c203863c3933a1d19f343e2429f9c5c29c842
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Oct 2 10:11:34 2019 +0200

    README.md: link to Gophercon UK presentation recording
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 6bc5ff247938a7c1a8ce199f5b4a7841282242a5
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Sep 30 15:20:02 2019 +0200

    apps: updates for renamed and moved packages
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod               |  2 +-
 apps/go.sum               |  4 ++--
 apps/gophers/main.go      | 16 ++++++++--------
 apps/gophers/main_test.go |  5 +++--
 apps/gophers/ui.go        | 89 +++++++++++++++++++++++++++++++++++++++++++++--------------------------------------------
 apps/hello/hello.go       | 13 +++++++------
 cmd/go.mod                |  2 +-
 cmd/go.sum                |  4 ++--
 8 files changed, 69 insertions(+), 66 deletions(-)

commit 3784ece6dd6505d9f448b8754baa1de54c56d001
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Sep 30 16:42:12 2019 +0200

    all: rename package ui to unit
    
    Package ui is now only about units except for the Config.Now method.
    Remove Now and rename Config to Converter. Add layout.Config to
    replace the old ui.Config.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/app.go                  | 14 +++++++-------
 app/doc.go                  |  2 +-
 app/os_android.go           |  2 +-
 app/os_ios.go               |  2 +-
 app/os_wayland.go           |  3 +--
 app/window.go               | 12 ++++++------
 cmd/gogio/js_test.go        |  2 +-
 gesture/gesture.go          | 11 ++++++-----
 internal/fling/animation.go | 10 +++++-----
 layout/doc.go               |  2 +-
 layout/layout.go            | 20 +++++++++++++++-----
 layout/layout_test.go       |  6 +++---
 layout/list.go              |  2 +-
 op/op.go                    |  2 +-
 text/editor.go              | 16 ++++++++--------
 text/shape/measure.go       | 12 ++++++------
 ui/doc.go                   | 25 -------------------------
 ui/ui.go                    | 16 ----------------
 {ui => unit}/unit.go        | 33 +++++++++++++++++++++++++++++----
 widget/image.go             |  4 ++--
 20 files changed, 95 insertions(+), 101 deletions(-)

commit 1d3360699e06377458a11d0954dd86f01b1e0289
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Sep 30 16:09:22 2019 +0200

    text/shape: move package measure
    
    Text shaping is a common name for what package measure does. Rename
    it to "shape" and move it below the text package.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 {measure => text/shape}/measure.go  | 4 ++--
 {measure => text/shape}/opentype.go | 2 +-
 2 files changed, 3 insertions(+), 3 deletions(-)

commit beaec661d2a359f76fa117a297ad4489c0672f4b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Sep 30 15:51:24 2019 +0200

    op/paint: move paint package below the op package
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/gpu/gpu.go      | 2 +-
 cmd/gogio/testdata/red.go    | 3 ++-
 layout/list.go               | 2 +-
 measure/measure.go           | 2 +-
 op/op.go                     | 2 +-
 {paint => op/paint}/doc.go   | 0
 {paint => op/paint}/paint.go | 0
 {paint => op/paint}/path.go  | 0
 text/editor.go               | 2 +-
 text/label.go                | 2 +-
 widget/image.go              | 4 ++--
 11 files changed, 10 insertions(+), 9 deletions(-)

commit 8cf35a1f97ff455e4de964c544b753332c18d4c3
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Sep 30 15:41:15 2019 +0200

    op: add package op for operations
    
    Extract operation types from package ui into package op.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/gpu/gpu.go       |  12 +++++-----
 app/internal/input/key.go     |   4 ++--
 app/internal/input/pointer.go |  16 ++++++-------
 app/internal/input/router.go  |   8 +++----
 app/window.go                 |  11 +++++----
 cmd/gogio/testdata/red.go     |   3 +--
 gesture/gesture.go            |   7 +++---
 internal/ops/ops.go           |   6 ++---
 internal/ops/reader.go        |  16 ++++++-------
 io/event/event.go             |   2 +-
 io/key/key.go                 |   6 ++---
 io/pointer/doc.go             |   6 ++---
 io/pointer/pointer.go         |  14 +++++------
 io/profile/profile.go         |   4 ++--
 layout/flex.go                |  10 ++++----
 layout/layout.go              |  15 ++++++------
 layout/list.go                |  12 +++++-----
 layout/stack.go               |  10 ++++----
 measure/measure.go            |  13 +++++-----
 ui/ops.go => op/op.go         | 116 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-
 paint/paint.go                |   8 +++----
 paint/path.go                 |   8 +++----
 text/editor.go                |  13 +++++-----
 text/label.go                 |   8 +++----
 text/measure.go               |   4 ++--
 ui/doc.go                     |  58 --------------------------------------------
 ui/ui.go                      |  62 -----------------------------------------------
 27 files changed, 225 insertions(+), 227 deletions(-)

commit eba1b3a95fabbcdf0092cbaf8b743782c2f21816
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Sep 30 15:24:09 2019 +0200

    app,ui: move instructions link to package app documentation
    
    We're about the split up and finally delete package ui. Move the
    instructions link to the second most "top-level" package in Gio,
    package app.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/doc.go | 2 ++
 ui/doc.go  | 2 --
 2 files changed, 2 insertions(+), 2 deletions(-)

commit e7a97bf176d181807e31a6ec5ad623d39664d936
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Sep 30 15:13:25 2019 +0200

    io/event: move event types from package ui to its own package
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/doc.go                    |  2 +-
 app/internal/input/key.go     | 17 +++++++++--------
 app/internal/input/pointer.go | 19 ++++++++++---------
 app/internal/input/router.go  | 19 ++++++++++---------
 app/window.go                 | 21 +++++++++++----------
 gesture/gesture.go            |  5 +++--
 io/event/event.go             | 48 ++++++++++++++++++++++++++++++++++++++++++++++++
 io/key/key.go                 |  5 +++--
 io/pointer/doc.go             |  2 +-
 io/pointer/pointer.go         |  5 +++--
 io/profile/profile.go         |  3 ++-
 layout/layout.go              |  3 ++-
 layout/layout_test.go         |  3 ++-
 text/editor.go                |  3 ++-
 ui/doc.go                     | 26 --------------------------
 ui/input.go                   | 20 --------------------
 16 files changed, 107 insertions(+), 94 deletions(-)

commit 7a259e68f77c974fc05a4d779effe98a01eae9d3
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Sep 30 14:50:03 2019 +0200

    io: give event packages a common prefix
    
    Packages that provide support for external events such as pointer, key and
    system are only the beginning. Future packages are expected for clipboard
    access, drag and drop, gps positions and so on.
    
    To keep the number of top-level packages under control, move such I/O packages
    to the new `io` directory.
    
    The `system` package name was the previous solution to keeping the number of
    top-level packages under control: I named it `system` instead of the narrower
    `profile` because I expected to put all the less common events into it, turning
    `system` into a "package util" smell.
    
    With `io`, package system can be renamed to `profile`.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 app/internal/input/key.go          |  4 ++--
 app/internal/input/pointer.go      |  4 ++--
 app/internal/input/router.go       | 14 +++++++-------
 app/os_android.go                  |  6 +++---
 app/os_ios.go                      |  6 +++---
 app/os_js.go                       |  4 ++--
 app/os_macos.go                    |  4 ++--
 app/os_wayland.go                  |  4 ++--
 app/os_windows.go                  |  4 ++--
 app/window.go                      |  6 +++---
 app/xkb_linux.go                   |  2 +-
 gesture/gesture.go                 |  4 ++--
 {key => io/key}/key.go             |  0
 {pointer => io/pointer}/doc.go     |  0
 {pointer => io/pointer}/pointer.go |  0
 io/profile/profile.go              | 31 +++++++++++++++++++++++++++++++
 layout/list.go                     |  4 ++--
 system/system.go                   | 31 -------------------------------
 text/editor.go                     |  6 +++---
 ui/doc.go                          |  2 +-
 20 files changed, 68 insertions(+), 68 deletions(-)

commit a175f38d1911552231988d173f01a5f05a8259a5
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Sep 30 13:38:33 2019 +0200

    COPYING: delete
    
    It is redundant with the existence of LICENSE. I don't remember why I added
    COPYING in the first place.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 COPYING | 3 ---
 1 file changed, 3 deletions(-)

commit 3c65aa61f64ecdd71fc3203b4acf27c225a96cd0
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Sep 30 13:04:10 2019 +0200

    cmd/gogio,ui: fixups after gioui.org module rename
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gogio/gio.go | 2 +-
 ui/doc.go        | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 049c0b4dcda3dfbd8e3d57169fe39aea3a634a42
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Sep 30 12:49:19 2019 +0200

    website: redirect unknown patsh to godoc
    
    With the renamed gioui.org module, any path could be a Gio package.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 website/main.go | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 962bc36daccb5a6b78ed76d3987be17045f82f2d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Sep 30 12:41:29 2019 +0200

    apps,cmd: update to renamed gioui.org module
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod               |  2 +-
 apps/go.sum               |  4 ++--
 apps/gophers/main.go      |  8 ++++----
 apps/gophers/main_test.go |  2 +-
 apps/gophers/ui.go        | 20 ++++++++++----------
 apps/hello/hello.go       | 10 +++++-----
 cmd/go.mod                |  2 +-
 cmd/go.sum                |  4 ++--
 cmd/gogio/androidbuild.go |  2 +-
 cmd/gogio/iosbuild.go     |  2 +-
 cmd/gogio/testdata/red.go |  6 +++---
 11 files changed, 31 insertions(+), 31 deletions(-)

commit 22cd88df9f7fd9e138a07f802e269d0e2e7ee4ae
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Sep 30 12:27:55 2019 +0200

    all: rename the gioui.org/ui module to gioui.org
    
    The "ui" is redundant and stutters.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 {ui/app => app}/GioActivity.java                      |  0
 {ui/app => app}/GioView.java                          |  0
 {ui/app => app}/app.go                                |  0
 {ui/app => app}/datadir.go                            |  0
 {ui/app => app}/datadir_android.go                    |  0
 {ui/app => app}/datadir_go112.go                      |  0
 {ui/app => app}/doc.go                                |  2 +-
 {ui/app => app}/egl.go                                |  2 +-
 {ui/app => app}/egl_android.go                        |  0
 {ui/app => app}/egl_linux.go                          |  0
 {ui/app => app}/egl_wayland.go                        |  0
 {ui/app => app}/egl_win.go                            |  0
 {ui/app => app}/egl_windows.go                        |  2 +-
 {ui/app => app}/framework_ios.h                       |  0
 {ui/app => app}/gl_ios.go                             |  2 +-
 {ui/app => app}/gl_ios.h                              |  0
 {ui/app => app}/gl_ios.m                              |  0
 {ui/app => app}/gl_js.go                              |  2 +-
 {ui/app => app}/gl_macos.go                           |  2 +-
 {ui/app => app}/gl_macos.h                            |  0
 {ui/app => app}/gl_macos.m                            |  0
 {ui/app => app}/internal/gl/functions.go              |  0
 {ui/app => app}/internal/gl/gl.go                     |  0
 {ui/app => app}/internal/gl/gl_js.go                  |  0
 {ui/app => app}/internal/gl/gl_windows.go             |  0
 {ui/app => app}/internal/gl/srgb.go                   |  0
 {ui/app => app}/internal/gl/types.go                  |  0
 {ui/app => app}/internal/gl/types_js.go               |  0
 {ui/app => app}/internal/gl/util.go                   |  0
 {ui/app => app}/internal/gl/util_test.go              |  0
 {ui/app => app}/internal/gpu/caches.go                |  2 +-
 {ui/app => app}/internal/gpu/context.go               |  2 +-
 {ui/app => app}/internal/gpu/gpu.go                   | 10 +++++-----
 {ui/app => app}/internal/gpu/pack.go                  |  0
 {ui/app => app}/internal/gpu/path.go                  |  6 +++---
 {ui/app => app}/internal/gpu/timer.go                 |  2 +-
 {ui/app => app}/internal/input/key.go                 |  6 +++---
 {ui/app => app}/internal/input/pointer.go             |  8 ++++----
 {ui/app => app}/internal/input/router.go              | 10 +++++-----
 {ui/app => app}/log_android.go                        |  0
 {ui/app => app}/log_ios.go                            |  0
 {ui/app => app}/log_ios.h                             |  0
 {ui/app => app}/log_ios.m                             |  0
 {ui/app => app}/os_android.c                          |  0
 {ui/app => app}/os_android.go                         |  6 +++---
 {ui/app => app}/os_android.h                          |  0
 {ui/app => app}/os_ios.go                             |  6 +++---
 {ui/app => app}/os_ios.h                              |  0
 {ui/app => app}/os_ios.m                              |  0
 {ui/app => app}/os_js.go                              |  6 +++---
 {ui/app => app}/os_macos.go                           |  6 +++---
 {ui/app => app}/os_macos.h                            |  0
 {ui/app => app}/os_macos.m                            |  0
 {ui/app => app}/os_wayland.c                          |  0
 {ui/app => app}/os_wayland.go                         |  8 ++++----
 {ui/app => app}/os_wayland.h                          |  0
 {ui/app => app}/os_windows.go                         |  6 +++---
 {ui/app => app}/runmain.go                            |  0
 {ui/app => app}/runmain_ios.go                        |  0
 {ui/app => app}/sigpipe_darwin.go                     |  0
 {ui/app => app}/wayland_text_input.c                  |  0
 {ui/app => app}/wayland_text_input.h                  |  0
 {ui/app => app}/wayland_xdg_decoration.c              |  0
 {ui/app => app}/wayland_xdg_decoration.h              |  0
 {ui/app => app}/wayland_xdg_shell.c                   |  0
 {ui/app => app}/wayland_xdg_shell.h                   |  0
 {ui/app => app}/window.go                             |  6 +++---
 {ui/app => app}/xkb_linux.go                          |  2 +-
 {ui/f32 => f32}/f32.go                                |  0
 {ui/gesture => gesture}/gesture.go                    |  6 +++---
 ui/go.mod => go.mod                                   |  2 +-
 ui/go.sum => go.sum                                   |  0
 {ui/internal => internal}/fling/animation.go          |  0
 {ui/internal => internal}/fling/extrapolation.go      |  0
 {ui/internal => internal}/fling/extrapolation_test.go |  0
 {ui/internal => internal}/opconst/ops.go              |  0
 {ui/internal => internal}/ops/ops.go                  |  4 ++--
 {ui/internal => internal}/ops/reader.go               |  2 +-
 {ui/internal => internal}/path/path.go                |  0
 {ui/key => key}/key.go                                |  2 +-
 {ui/layout => layout}/doc.go                          |  0
 {ui/layout => layout}/flex.go                         |  2 +-
 {ui/layout => layout}/layout.go                       |  0
 {ui/layout => layout}/layout_test.go                  |  2 +-
 {ui/layout => layout}/list.go                         |  6 +++---
 {ui/layout => layout}/stack.go                        |  0
 {ui/measure => measure}/measure.go                    |  6 +++---
 {ui/measure => measure}/opentype.go                   |  0
 {ui/paint => paint}/doc.go                            |  0
 {ui/paint => paint}/paint.go                          |  4 ++--
 {ui/paint => paint}/path.go                           |  6 +++---
 {ui/pointer => pointer}/doc.go                        |  0
 {ui/pointer => pointer}/pointer.go                    |  4 ++--
 {ui/system => system}/system.go                       |  2 +-
 {ui/text => text}/buffer.go                           |  0
 {ui/text => text}/editor.go                           | 10 +++++-----
 {ui/text => text}/label.go                            |  6 +++---
 {ui/text => text}/measure.go                          |  2 +-
 ui/doc.go                                             |  4 ++--
 ui/ops.go                                             |  2 +-
 ui/ui.go                                              |  4 ++--
 {ui/widget => widget}/image.go                        |  6 +++---
 102 files changed, 93 insertions(+), 93 deletions(-)

commit ce74bc0cbaea2539a6c5b558c693958642775fe9
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Sep 26 19:15:58 2019 +0200

    ui/layout,ui/app: fix tests, go fmt, update comments
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_wayland.go     | 20 ++++++++++----------
 ui/gesture/gesture.go    |  2 +-
 ui/layout/layout_test.go |  4 ++--
 ui/layout/list.go        |  2 +-
 4 files changed, 14 insertions(+), 14 deletions(-)

commit bdd6b32711df95e279d497d617b3ad083bc99957
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Sep 26 18:58:25 2019 +0200

    ui/app/internal/input: schedule an extra frame after event delivery
    
    A program might choose to process events that affect UI state already laid out.
    For example, a button click might switch to a completely different UI page, but
    the click might be processed during the drawing of the current page.
    
    Avoiding that require either processing events very early during layout or
    adding InvalidateOps whenever events are handled late.
    
    Early event processing is awkward and InvalidateOps are easy to forget and
    their absence masked by any other cause of redraw.
    
    This change adds an implicit InvalidateOp for each frame where events have been
    delivered to the program, allowing late event handling without use of
    InvalidateOps.
    
    In the worst case we waste a frame, increasing power use. I hope that future
    optimizations will detect and discard the duplicate frame before it reaches
    the GPU.
    
    A similar situation applies to the delayed delivery of Editor events, but
    since Editor.Layout flushes remaining events, extra InvalidateOps are not
    required. Add a comment.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/input/router.go | 32 ++++++++++++++++++++++----------
 ui/text/editor.go               |  1 +
 2 files changed, 23 insertions(+), 10 deletions(-)

commit 90e2a119c04b0dd76f9d195a6b5b8d0b9c32d937
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Sep 26 18:43:21 2019 +0200

    apps/gophers: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod               | 2 +-
 apps/go.sum               | 4 ++--
 apps/gophers/main_test.go | 4 ++--
 apps/gophers/ui.go        | 4 ++--
 4 files changed, 7 insertions(+), 7 deletions(-)

commit dc6fedc163d55806e9fce73709d2bdbf0852e7a4
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Sep 26 15:50:51 2019 +0200

    ui: change Queue to return all events at once
    
    The Queue interface was changed from
    
            type Queue interface {
                    Events(k Key) []Event
            }
    
    to the more complex single-step protocol
    
            type Queue interface {
                    Next(k Key) (Event, bool)
            }
    
    to cater for a particular use case: Editor's SubmitEvent. When a
    SubmitEvent is passed to a caller of Editor.Next, the Editor state,
    in particular the current text, must not have changed by edits
    later in the command stream. For example, pressing the keys <E>,
    <Enter>, <E> should result in a SubmitEvent where the Editor has
    a single 'e' in Text(), not two.
    
    However, there is no reason to push the more complex Queue to every user.
    Rather, store remaining input events inside Editor and process them as
    Editor.Event (or Layout) is called.
    
    Finally, revert the Queue interface to the simpler Events method.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/input/router.go | 16 +++++++---------
 ui/app/window.go                |  4 ++--
 ui/doc.go                       |  2 +-
 ui/gesture/gesture.go           | 13 +++++++------
 ui/input.go                     |  6 +++---
 ui/text/editor.go               | 25 ++++++++++++++++++-------
 6 files changed, 38 insertions(+), 28 deletions(-)

commit 578b169279c251c4b87d880520ca39ac43a01120
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Sep 26 13:42:09 2019 +0200

    ui/app: (wayland) pack related field in structs
    
    No functional changes.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_wayland.go | 184 ++++++++++++++++++++++++++++++++++++++++++++++++++-----------------------------------------------
 1 file changed, 95 insertions(+), 89 deletions(-)

commit 51cfb4e5c299f5c35994f1c907f62e24eaa95457
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Sep 26 13:01:51 2019 +0200

    ui/app: (linux) separate xkb logic from wayland backend
    
    Makes the Wayland backend more clean, and X11 might be able to reuse
    the xkb code.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_wayland.go | 244 ++++++++++++++++++-------------------------------------------------------------------------------
 ui/app/xkb_linux.go  | 219 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 263 insertions(+), 200 deletions(-)

commit bbc0cebacf45229261d6e8332a60b5b4da03491d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Sep 25 10:37:19 2019 +0200

    ui/layout: reset Dimensions in Context.Reset
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/layout.go | 1 +
 1 file changed, 1 insertion(+)

commit 9c33550644a708e6fac90197faa94ed09c949540
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Sep 25 09:43:15 2019 +0200

    all: rename more *layout.Context names to `gtx`
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/gophers/main.go      |  8 ++++----
 apps/gophers/main_test.go |  6 +++---
 ui/layout/doc.go          | 14 +++++++-------
 ui/layout/layout_test.go  | 58 +++++++++++++++++++++++++++++-----------------------------
 4 files changed, 43 insertions(+), 43 deletions(-)

commit a89c6d1c33a345747faa7bfc5a9747f481efba2c
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Sep 25 09:31:24 2019 +0200

    all: rename `c` to `gtx` for *layout.Context parameters
    
    Short like `ctx` but not as easily confused with context.Context
    values.
    
    Suggested by Larry Clapp.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/gophers/ui.go  | 192 +++++++++++++++++++++++++++++++++++++++++++++++++-------------------------------------------------
 ui/layout/flex.go   |   4 +--
 ui/layout/layout.go |  38 ++++++++++----------
 ui/layout/list.go   |  14 ++++----
 ui/layout/stack.go  |   4 +--
 ui/text/editor.go   |  70 ++++++++++++++++++------------------
 ui/text/label.go    |  18 +++++-----
 ui/widget/image.go  |  12 +++----
 8 files changed, 176 insertions(+), 176 deletions(-)

commit 4d84f46edbb1cd8575c4e13d688eac47ea98b8fc
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Sep 24 21:47:58 2019 +0200

    apps: replace separate layout state with layout.Context fields
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod               |   2 +-
 apps/go.sum               |   4 +-
 apps/gophers/main.go      |  14 +++----
 apps/gophers/main_test.go |  16 ++++----
 apps/gophers/ui.go        | 185 ++++++++++++++++++++++++++++++++++++++++++++++----------------------------------------------
 apps/hello/hello.go       |  20 +++++-----
 6 files changed, 117 insertions(+), 124 deletions(-)

commit 3944ef4b2e468f38bcc5d1f5631f9cc4218da72e
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Sep 24 22:11:44 2019 +0200

    ui: merge package input
    
    Event handling is as fundamental as operations, so move the input
    package declarations to package ui.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/doc.go                    |  6 +++---
 ui/app/internal/input/key.go     | 17 ++++++++---------
 ui/app/internal/input/pointer.go | 19 +++++++++----------
 ui/app/internal/input/router.go  | 19 +++++++++----------
 ui/app/window.go                 | 32 +++++++++++++++-----------------
 ui/doc.go                        | 27 +++++++++++++++++++++++++++
 ui/gesture/gesture.go            |  7 +++----
 ui/input.go                      | 20 ++++++++++++++++++++
 ui/input/input.go                | 48 ------------------------------------------------
 ui/key/key.go                    | 12 +++++-------
 ui/layout/layout.go              |  5 ++---
 ui/layout/layout_test.go         |  3 +--
 ui/pointer/doc.go                |  7 +++----
 ui/pointer/pointer.go            |  5 ++---
 ui/system/system.go              |  3 +--
 15 files changed, 108 insertions(+), 122 deletions(-)

commit 2782436ffc1348249baa41f54229b1826fed4e80
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Sep 24 21:10:35 2019 +0200

    ui/layout: add common state to Context
    
    Almost every layout and widget need the ui.Config for its environment,
    an ui.Ops to store operations. Stateful widgets need an input.Queue
    for events.
    
    Add all these common objects to Context, greatly simplifying the
    function signatures for Gio programs.
    
    Fixes gio#33
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/doc.go         | 14 +++++++-------
 ui/layout/flex.go        | 14 ++++++--------
 ui/layout/layout.go      | 54 ++++++++++++++++++++++++++++++++++++------------------
 ui/layout/layout_test.go | 76 ++++++++++++++++++++++++++++++++++++----------------------------------------
 ui/layout/list.go        | 38 +++++++++++++++-----------------------
 ui/layout/stack.go       | 14 ++++++--------
 ui/text/editor.go        | 75 +++++++++++++++++++++++++++++++++++++--------------------------------------
 ui/text/label.go         | 18 +++++++++---------
 ui/widget/image.go       | 10 +++++-----
 9 files changed, 157 insertions(+), 156 deletions(-)

commit b928ee65f7a29f1f6f3bd5a175ae43c3811f1991
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Sep 24 20:35:32 2019 +0200

    apps/gophers: update to new layout.Align
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod        |  2 +-
 apps/go.sum        |  4 ++--
 apps/gophers/ui.go | 14 +++++---------
 3 files changed, 8 insertions(+), 12 deletions(-)

commit 2f878fe154d1ff947e4492b665269b472e66ccf3
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Sep 24 20:29:39 2019 +0200

    ui/layout: make Align a Direction
    
    Removes the stutter by simplifying
    
            layout.Align{Alignment: layout.NE}
    
    to
    
            layout.Align(layout.NE)
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/doc.go         | 2 +-
 ui/layout/layout.go      | 8 +++-----
 ui/layout/layout_test.go | 2 +-
 3 files changed, 5 insertions(+), 7 deletions(-)

commit ec307008db58ec6f0d7e788978a930f61c6bd1bf
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Sep 24 19:14:58 2019 +0200

    all: update layouts to use layout.Context
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod               |   2 +-
 apps/go.sum               |   4 +-
 apps/gophers/main.go      |   5 ++-
 apps/gophers/main_test.go |   5 ++-
 apps/gophers/ui.go        | 214 +++++++++++++++++++++++++++++++++++++++++++++-----------------------------------------------
 apps/hello/hello.go       |   5 ++-
 6 files changed, 116 insertions(+), 119 deletions(-)

commit ce9bcee62baa42c29fe37ca011bdd5ee1d902e39
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Sep 24 19:06:07 2019 +0200

    ui/layout: introduce Context
    
    Context keeps the current Constraints and Dimensions so the layout
    function scopes don't have to.
    
    With
    
            ctx := new(layout.Context)
    
    a label with margins and alignment goes from
    
            return al.Layout(ops, cs, func(cs layout.Constraints) layout.Dimensions {
                    in := layout.Inset{...}
                    return in.Layout(c, ops, cs, func(cs layout.Constraints) layout.Dimensions {
                            return text.Label{...}.Layout(ops, cs)
                    })
            })
    
    to
    
            al.Layout(ops, ctx, func() {
                    in := layout.Inset{...}
                    in.Layout(c, ops, ctx, func() {
                           text.Label{...}.Layout(ops, ctx)
                    })
            })
    
    It was a difficult trade-off between the verbose functional approach
    and the shorter but more complex Context.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/doc.go         | 28 +++++++++++++++-------------
 ui/layout/flex.go        | 31 ++++++++++++++++++-------------
 ui/layout/layout.go      | 43 +++++++++++++++++++++++++++++++------------
 ui/layout/layout_test.go | 70 ++++++++++++++++++++++++++++++++++++----------------------------------
 ui/layout/list.go        | 12 ++++++++----
 ui/layout/stack.go       | 16 +++++++++-------
 ui/text/editor.go        |  5 +++--
 ui/text/label.go         |  5 +++--
 ui/widget/image.go       |  5 +++--
 9 files changed, 126 insertions(+), 89 deletions(-)

commit 64add13d28f1d6e26b3090e1086afaa57d888eaa
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Sep 24 17:26:34 2019 +0200

    ui/app: (wayland) wait for xdg_shell configure event before drawing
    
    According to the xdg_shell documentation, the xdg_surface must be
    configured before use.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_wayland.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 687ea833a3afeea7f57f6d18c0c9f6e5e67e6134
Author: Daniel Martí <mvdan@mvdan.cc>
Date:   Sun Sep 22 21:05:15 2019 +0100

    cmd/gogio: add the first end-to-end test for js via chrome
    
    This commit adds the first fully end-to-end test. It builds a very
    simple Gio app, loads it on Chrome, and checks that it works.
    
    To control Chrome, we use chromedp, a library in pure Go that takes care
    of starting the browser and talking to it via the devtools protocol.
    
    We add the test directly in the cmd module, since it mainly interacts
    with the gogio tool, and also because the code might turn into some sort
    of 'gogio test' command in the future. This does add chromedp and ui as
    test dependencies to go.mod, but GOPROXY should allow a 'go get' of
    gogio to not download their entire source code archives.
    
    We don't replace ui with ../../ui in the go.mod, to ensure that testing
    the cmd module works from anywhere without unintended differences.
    
    The test app being used is inside a testdata directory, to ensure it's
    not go-gettable, and that it doesn't otherwise affect the cmd module.
    
    Finally, the test itself is pretty simple. The app just paints a red
    background, and the test verifies that, once loaded, the background of
    the browser viewport is indeed red.
    
    The test does currently require Chrome or Chromium to be installed,
    which is fine for now. It may also require a GPU, though I don't have a
    headless machine to check for sure. The test uses Chrome in headless
    mode though, so it doesn't open up any visible browser window.
    
    All in all, the test succeeds in just over a second on my laptop with
    Chromium 77.0.3865.75.
    
    Signed-off-by: Daniel Martí <mvdan@mvdan.cc>

 cmd/go.mod                |   2 ++
 cmd/go.sum                |  19 +++++++++++++++++
 cmd/gogio/js_test.go      | 104 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 cmd/gogio/testdata/red.go |  44 +++++++++++++++++++++++++++++++++++++++
 4 files changed, 169 insertions(+)

commit 736692a7253b5f027a658bb77d4df335fe63dd57
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Sep 23 20:49:51 2019 +0100

    ui/app: (windows) process all events before redrawing
    
    While here, make sure the DestroyEvent is sent after exiting the
    event loop.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_windows.go | 44 ++++++++++++++++----------------------------
 1 file changed, 16 insertions(+), 28 deletions(-)

commit 5c9d35c1861d7d528cd918718c29c4b5da9d53e5
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Sep 23 20:26:52 2019 +0100

    ui/app,ui/app/internal/gl: work around golang.org/issue/34474
    
    Apparently, the (*syscall.LazyProc).Call does not keep its arguments
    alive across calls.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/egl_windows.go            | 12 +++++++++---
 ui/app/internal/gl/gl_windows.go | 35 ++++++++++++++++++++++++++++-------
 ui/app/os_windows.go             | 19 ++++++++++++++++++-
 3 files changed, 55 insertions(+), 11 deletions(-)

commit 5c87437542eb0c87a552c2d0689092d9adb09813
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Sep 23 19:17:14 2019 +0100

    ui/app: (windows) don't unregister window class
    
    It silently fails because the Gio window is using it.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_windows.go | 1 -
 1 file changed, 1 deletion(-)

commit 8e41c8a0bef2cb40747450ee27e2ca211a9f0e12
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Sep 23 10:25:11 2019 +0200

    ui/app: (windows) don't cast syscall.Handle to unsafe.Pointer
    
    The cast is not necessary and a syscall.Handle is not a pointer.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_windows.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2d8072fbbbc658ab190a65dc734f3c41a9fa325c
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Sep 22 16:19:07 2019 +0200

    ui/layout: replace "interface element" with "widget" in documentation
    
    Now that we have a Widget type, use it in the documentation.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/layout.go | 14 ++++++--------
 1 file changed, 6 insertions(+), 8 deletions(-)

commit 4a1e0a30cbf00c546a1fcce6d9d9f4e84b160e3f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Sep 19 18:53:45 2019 +0200

    ui/layout: fix typo
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/layout.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3817b19bbe6aab800725b988b3943f0add03f411
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Sep 18 22:57:14 2019 +0200

    ui/layout: update documentation to reflect the function scope changes
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/doc.go | 24 ++++++++++++------------
 1 file changed, 12 insertions(+), 12 deletions(-)

commit a12912c944314f5549200b90d5f2b5ec265fbb89
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Sep 18 22:42:31 2019 +0200

    cmd/gogio: rename the gio too to gogio
    
    The `gio` name clashes with a widely deployed GNOME tool.
    Rename our tool to `gogio`, "the go tool for gio programs".
    
    Fixes gio#20
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md                          | 16 ++++++++--------
 cmd/gio/doc.go                     | 10 ----------
 cmd/{gio => gogio}/androidbuild.go |  0
 cmd/gogio/doc.go                   | 10 ++++++++++
 cmd/{gio => gogio}/gio.go          | 10 +++++-----
 cmd/{gio => gogio}/gio_test.go     |  0
 cmd/{gio => gogio}/help.go         | 10 +++++-----
 cmd/{gio => gogio}/iosbuild.go     |  0
 cmd/{gio => gogio}/jsbuild.go      |  0
 9 files changed, 28 insertions(+), 28 deletions(-)

commit 31f7f0418108fcd462dd4149f17a472f135b261a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Sep 18 22:03:08 2019 +0200

    ui/layout: clean up after function scope change
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/list.go  | 8 ++------
 ui/layout/stack.go | 6 ------
 2 files changed, 2 insertions(+), 12 deletions(-)

commit 1767588028e461a8f1eec13dcfdaeb0179c69419
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Sep 18 12:22:02 2019 +0200

    apps/gophers: update to function scoped layouts
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod        |   2 +-
 apps/go.sum        |   4 +-
 apps/gophers/ui.go | 286 ++++++++++++++++++++++++++++++++++++++++++++++++---------------------------------------------------
 3 files changed, 141 insertions(+), 151 deletions(-)

commit 29639565cd3480bc24e4270cad4112e96e895fa1
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Sep 16 17:56:27 2019 +0200

    ui/layout: replace implicit begin/end scopes with explicit function scopes
    
    Before this change, layout objects followed a pattern where a
    begin method would set up the layout and return a tweaked set
    of constraints, and a end method would take the widget dimensions
    and return the tweaked dimensions.
    
    As has been pointed out, this process is error prone, because the
    scope of the layout objects are not clear and because it is easy
    to swap two begins or two ends.
    
    It turns out that it is possible to implement layout with function
    scopes in garbage free way. A typical layout changes from
    
            al := layout.Align{Alignment: layout.NE}
            cs = al.Begin(ops, cs)
            in := layout.Inset{Top: ui.Dp(16)}
            cs = in.Begin(c, ops, cs)
            txt := fmt.Sprintf("m: %d %s", mallocs, u.profile.Timings)
            dims := text.Label{Material: theme.text, Face: u.face(fonts.mono, 10), Text: txt}.Layout(ops, cs)
            dims = in.End(dims)
            return al.End(dims)
    
    to
    
            al := layout.Align{Alignment: layout.NE}
            return al.Layout(ops, cs, func(cs layout.Constraints) layout.Dimensions {
                   in := layout.Inset{Top: ui.Dp(16)}
                   return in.Layout(c, ops, cs, func(cs layout.Constraints) layout.Dimensions {
                           txt := fmt.Sprintf("m: %d %s", mallocs, u.profile.Timings)
                           return text.Label{Material: theme.text, Face: u.face(fonts.mono, 10), Text: txt}.Layout(ops, cs)
                   })
            })
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/flex.go        |  20 ++++++++++--------
 ui/layout/layout.go      | 104 +++++++++++++++++++++++++++++++--------------------------------------------------------------
 ui/layout/layout_test.go |  69 +++++++++++++++++++++++++++++---------------------------------
 ui/layout/list.go        |  50 ++++++++++++++++++++++++++++-----------------
 ui/layout/stack.go       |  15 +++++++-------
 5 files changed, 117 insertions(+), 141 deletions(-)

commit 816f0e901fc63244fcfd130e1345406963b542d8
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Sep 18 19:28:08 2019 +0200

    ui/app: scale touch events by surface scale
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_wayland.go | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit dcddd9a84a63065bd45f2a143cf56748c5edb150
Author: Drew DeVault <sir@cmpwn.com>
Date:   Wed Sep 18 12:37:38 2019 -0400

    os_wayland: transform pointer events by scale
    
    Fixes #37

 ui/app/os_wayland.go | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit c5a6ca2aba7615e0d80e3027d142e6e9686f48d8
Author: Drew DeVault <sir@cmpwn.com>
Date:   Wed Sep 18 12:35:19 2019 -0400

    ui/app/egl.go: on failure, try again without sRGB
    
    Signed-off-by: Drew DeVault <sir@cmpwn.com>

 ui/app/egl.go | 6 ++++++
 1 file changed, 6 insertions(+)

commit ee89d643ccf062e9cab1c71fa1440304a73d4f62
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Sep 17 11:55:45 2019 +0200

    ui: panic if a StackOp does not Pop in the same macro as Push
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/ops.go | 19 +++++++++++++------
 1 file changed, 13 insertions(+), 6 deletions(-)

commit bae2e0ecf254b990d3d720beb056baef59bb9f16
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Sep 16 15:39:31 2019 +0200

    ui/app: (wayland) restore discrete scrolling behaviour
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_wayland.go | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit 37d5b947eb574da0688d6203f2dcd78b08dc0c9e
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Sep 13 21:13:02 2019 +0200

    ui/app: (wayland) reset fling emulation on key press
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_wayland.go | 1 +
 1 file changed, 1 insertion(+)

commit 2ea9fd99834684a0a38ed1e715d5bc41007f7ff7
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Sep 13 20:11:14 2019 +0200

    ui/app: (wayland) reset fling emulation of pointer motion
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_wayland.go | 1 +
 1 file changed, 1 insertion(+)

commit 81f935f69b24b0dda109acaad2b53613a66848a0
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Sep 13 19:09:05 2019 +0200

    ui/app: go fmt
    
    Sigh.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_wayland.go | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit a223b36c25d2896399f7bbe9f90251cc0b358fac
Author: Daniel Martí <mvdan@mvdan.cc>
Date:   Fri Sep 13 17:02:01 2019 +0100

    cmd/gio: avoid a trailing newline in -target errors
    
    I was seeing an extra newline when some errors were printed, like:
    
            $ gio foo
            please specify target
    
            $
    
    The source of the little bug was a trailing newline in the error
    messages. Printing the messages already adds a newline.
    
    Signed-off-by: Daniel Martí <mvdan@mvdan.cc>

 cmd/gio/gio.go | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 5bdb1d9e54ae54cc089e928458866ed541bfa7be
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Sep 13 18:14:17 2019 +0200

    ui/app: (wayland) emulate fling behaviour for touchpads
    
    Unlike macOS, Wayland leaves it up to the client to animate the
    implied fling gesture when scrolling on a touchpad.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_wayland.go | 82 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++--------------
 1 file changed, 68 insertions(+), 14 deletions(-)

commit e6f0e0582d2959c480e817e59b076a246f5d5f9f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Sep 13 18:04:10 2019 +0200

    ui/gesture,ui/internal/fling: extract fling logic into its own package
    
    We're going to re-use fling extrapolation and animation for Wayland touchpads.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/gesture/gesture.go                                                  | 93 ++++-----------------------------------------
 ui/internal/fling/animation.go                                         | 98 ++++++++++++++++++++++++++++++++++++++++++++++++
 ui/{gesture/estimator.go => internal/fling/extrapolation.go}           | 32 ++++++++++------
 ui/{gesture/estimator_test.go => internal/fling/extrapolation_test.go} |  2 +-
 4 files changed, 127 insertions(+), 98 deletions(-)

commit a68d97f9476ecfb6ec0c4041b3c8681d1136d5bf
Author: Greg Pomerantz <gmp.gio@wow.st>
Date:   Tue Sep 10 18:28:43 2019 -0400

    cmd/gio: generate appID if not specified
    
    Use the Go import path to create an appID based on the domain name
    plus the last directory location in the import path.
    
    Signed-off-by: Greg Pomerantz <gmp.gio@wow.st>

 cmd/gio/androidbuild.go |  7 ++-----
 cmd/gio/gio.go          | 44 ++++++++++++++++++++++++++++++++++++++++----
 cmd/gio/gio_test.go     | 32 ++++++++++++++++++++++++++++++++
 3 files changed, 74 insertions(+), 9 deletions(-)

commit 86b231ca287a08b75745f2dcc47e90c768397b72
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Sep 8 22:45:39 2019 +0200

    ui: add Max, Add for Values
    
    Finding the maximum or adding Values are particularly for adjusting
    margins for the safe area insets returned in app.UpdateEvent.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/unit.go | 37 +++++++++++++++++++++++++++++++++++++
 1 file changed, 37 insertions(+)

commit 5eef85f5cd1be18c1308f6726886bb9c61ff9601
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Sep 9 14:47:35 2019 +0200

    ui/app: note that Window.Invalidate is safe for concurrent use
    
    Invalidate is intended to be called as a result of external events,
    which might very well be from a different goroutine than the one
    driving the window.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/window.go | 1 +
 1 file changed, 1 insertion(+)

commit 93409a784d7c687a9883e2d9bb18c57ce563b3fc
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Sep 8 21:22:09 2019 +0200

    ui: fill out the MacroOp opcode in Record to support unfinished macros
    
    Before this change MacroOp.Record simply reserved enough space for Stop to fill
    out. If a user Record but never Stop'ed a MacroOp, the resulting Ops buffer
    would end up with a zero, invalid opcode and panic at decode.
    
    Fill out an empty MacroOp at Record, ensuring the Ops remains valid.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/ops.go | 7 ++++++-
 1 file changed, 6 insertions(+), 1 deletion(-)

commit 85843f1f296d1e6f452567da17c891904921ec88
Author: Daniel Martí <mvdan@mvdan.cc>
Date:   Sat Sep 7 00:30:00 2019 +0200

    all: update go.mod files to target Go 1.13
    
    Since the main README recommends Go 1.13 or later, let's make the go.mod
    files reflect that. This will enable starting to use new language
    features.
    
    Modules that still build on 1.12 will continue to work on that version
    just fine; this line is just a hint to enable new language features for
    versions of Go new enough.
    
    Signed-off-by: Daniel Martí <mvdan@mvdan.cc>

 apps/go.mod    | 2 +-
 cmd/go.mod     | 2 +-
 ui/go.mod      | 2 +-
 website/go.mod | 2 +-
 4 files changed, 4 insertions(+), 4 deletions(-)

commit b4433da21b03fe4cb5cbf0b7055d45a8aa4f1b74
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Sep 6 13:09:59 2019 +0200

    ui/app: (iOS) use UIView's safeAreaInsets for window insets if available
    
    Unlike UIView's layoutMargins, safeAreaInsets only includes the space
    actually taken up by system UI.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_ios.m | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 6ad154419b2dd9b1c311527fd2787db6275cb9fc
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Sep 5 21:15:37 2019 +0200

    ui/layout: rename List.Invert to ScrollToEnd
    
    Much clearer.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/list.go | 15 +++++++--------
 1 file changed, 7 insertions(+), 8 deletions(-)

commit 7d93a2790c60475f7fb381050fde6131959078fd
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Sep 5 20:41:09 2019 +0200

    ui/layout: delete List.Distance field
    
    Distance was meant to be used for implementing nested scrollers, but
    I don't think the API is right. For example, Distance doesn't report
    residual fling scrolling.
    
    Delete the field while we wait for a better approach.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/list.go | 6 ------
 1 file changed, 6 deletions(-)

commit 1529f20eb7741acf81887adc2388a49d0f446991
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Sep 5 16:39:56 2019 +0200

    ui/layout: rewrite List
    
    Inverted lists used to behave as if its top and bottom edges were
    flipped. That was easy but also wrong: when the underlying children
    changed size, they would move relative to the top edge of the list.
    
    As illustrated by issue gio#34, Invert should only do two things:
    
    - End lign lists smaller than the containing area.
    - Scroll to end, but only as long as the user hasn't scrolled away.
    
    List also had a bug where it didn't handle shrinking lists, so
    this change rewrites List to fix that bug, fix Invert behaviour and
    hopefully be a little simpler.
    
    Fixes gio#34

 ui/layout/list.go | 162 ++++++++++++++++++++++++++++++++++++++++++++++++++++++----------------------------------------------
 1 file changed, 88 insertions(+), 74 deletions(-)

commit 063b4a5659f98c187a8fca699dd9d14f8d7216b5
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Sep 3 22:52:26 2019 +0200

    README.md: suggest Go 1.13 now that it is released
    
    Some platforms run on previous Go versions, but let's nudge people to use Go
    1.13. Go 1.13 is required to build for WebAssembly and for running Go
    binaries on the latest versions of Android, iOS, tvOS.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 82b0563c8b6d8a5e4ff5e5400e45c6759550622d
Author: Kenshi Kamata <kenshi.kamata@gmail.com>
Date:   Wed Sep 4 02:12:27 2019 +0900

    README, ui/layout: fix typos
    
    Signed-off-by: Kenshi Kamata <kenshi.kamata@gmail.com>

 README.md           | 2 +-
 ui/layout/doc.go    | 2 +-
 ui/layout/layout.go | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit b74f2d2d1cb74406f8a2f5a6aad9c9fdb16f2cea
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Sep 3 19:11:52 2019 +0200

    LICENSE: merge UNLICENSE and LICENSE-MIT to please license identifiers
    
    Apparently github.com/google/licenseclassifier/tools/identify_license
    doesn't like that LICENSE is missing.
    
    Merging the two separate license files makes one less file, and by adding the
    SPDX identifier at the top I believe there is even less ambiguity that Gio
    is covered by the UNLICENSE as well as the MIT license, as described in
    the README.md file.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 UNLICENSE => LICENSE | 26 ++++++++++++++++++++++++++
 LICENSE-MIT          | 21 ---------------------
 2 files changed, 26 insertions(+), 21 deletions(-)

commit ff657fb47694648b09d4cd88874d26412eed5364
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Sep 3 12:34:07 2019 +0200

    README.md: fix link
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a06d8a39f5343bcf673198e99a6758b99a0d56e8
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Sep 2 15:18:56 2019 +0200

    apps: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 apps/go.sum | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 7ad60e08787b2a09fad65657b52c50a6ad7a3caf
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Sep 2 15:17:29 2019 +0200

    ui/app: print sRGB flag for eglCreateWindowSurface failure
    
    For gio#35
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/egl.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ef64cd7326c2ca5b4cd3f26fc74c1147c8335254
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Sep 2 15:14:58 2019 +0200

    apps: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 apps/go.sum | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 52dd762405a38a00809d1b08bac00dec829f4538
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Sep 2 15:11:20 2019 +0200

    ui/app: (wayland) define WL_EGL_PLATFORM=1 to force EGL in Wayland mode
    
    Including wayland-egl.h will also set WL_EGL_PLATFORM, but generic
    egl code in egl_linux.go cannot do that.
    
    For gio#35
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/egl_wayland.go | 1 +
 1 file changed, 1 insertion(+)

commit dc62058bcefc51bd138d12668bba5a11dfed3e3f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Sep 1 14:33:33 2019 +0200

    ui/app: (wayland) ensure DestroyEvent is the last event
    
    A ToplevelClose event could end in the same batch of events as
    another event, which will result in the other event being sent
    after a DestroyEvent. Window assumes no event will arrive after
    DestroyEvent, so ensure that property for the Wayland backend.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_wayland.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5766a8d226628574a160e57b90d733cb40ebd3a3
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Aug 30 21:13:31 2019 +0200

    ui/layout: avoid accumulating rounding errors from Flexible
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/flex.go | 25 +++++++++++++++----------
 1 file changed, 15 insertions(+), 10 deletions(-)

commit 7bca7de017e87f1211b6c1bd12401bc61e6a5d32
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Aug 30 15:03:49 2019 +0200

    apps/gophers: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod        |  2 +-
 apps/go.sum        |  4 ++--
 apps/gophers/ui.go | 32 ++++++++++++++++----------------
 3 files changed, 19 insertions(+), 19 deletions(-)

commit 12089ea62a8430e497edd4184bad7ae7dc6ba3f5
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Aug 30 15:00:17 2019 +0200

    all: rename layout.Dimens to layout.Dimensions
    
    Dimens is only 4 characters shorter and not worth the abbreviation.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/doc.go         |  4 ++--
 ui/layout/flex.go        |  8 ++++----
 ui/layout/layout.go      | 12 ++++++------
 ui/layout/layout_test.go |  4 ++--
 ui/layout/list.go        |  6 +++---
 ui/layout/stack.go       |  8 ++++----
 ui/text/editor.go        |  6 +++---
 ui/text/label.go         |  2 +-
 ui/text/measure.go       |  4 ++--
 ui/widget/image.go       |  4 ++--
 10 files changed, 29 insertions(+), 29 deletions(-)

commit 7f29293f164999d8df19b409c421b3be57d36e73
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Aug 30 14:39:21 2019 +0200

    README.md: add donations section
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 5 +++++
 1 file changed, 5 insertions(+)

commit 110da804a0114a9fc18c40fa5f435ec2c30fa283
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Aug 30 13:38:58 2019 +0200

    ui/app: (wayland) expand comments for double server roundtrip
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_wayland.go | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit ea2ee1abcc23abc1c72dd7a9849f991af5b0817d
Author: Kenshi Kamata <kenshi.kamata@gmail.com>
Date:   Fri Aug 30 00:38:14 2019 +0900

    ui/app: fix example code in document
    
    Signed-off-by: Kenshi Kamata <kenshi.kamata@gmail.com>

 ui/app/doc.go | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 41ea609d8efd9425b09919c758f1bcdd8d27d17d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Aug 27 15:59:09 2019 +0100

    README.md: add link to Gophercon 2019 recording
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 026468a5f7d5756a093beb1b014409e8f91c1e10
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Aug 27 11:08:24 2019 +0100

    website: require Go 1.12
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 website/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a40de565dcdc443f011cc612f0382b48fff0574f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Aug 27 09:38:40 2019 +0100

    website: add shortcuts for issues, commits and patches
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 website/main.go | 30 ++++++++++++++++++++++++++++++
 1 file changed, 30 insertions(+)

commit 069bb0e7cd1d70493520c547f01d14799d5d3e0d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Aug 26 21:19:58 2019 +0100

    ui/app: merge goString implementations and add test
    
    Fixes gio#30
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/egl_windows.go            | 25 +------------------------
 ui/app/internal/gl/gl_windows.go | 25 +------------------------
 ui/app/internal/gl/util.go       | 25 +++++++++++++++++++++++++
 ui/app/internal/gl/util_test.go  | 18 ++++++++++++++++++
 4 files changed, 45 insertions(+), 48 deletions(-)

commit 7d47fe0fc9753ba50624daa3de6ee31c8638e6e4
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Aug 26 20:35:16 2019 +0100

    ui/internal/ops: go fmt
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/internal/ops/reader.go | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 8700a8ffc331afb7154757b3570ae5a527172e15
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Aug 26 18:05:04 2019 +0100

    ui/key,ui/pointer: rename HandlerOp to InputOp
    
    "Input" is more specific and reads better than "handler".
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/input/key.go     | 10 +++++-----
 ui/app/internal/input/pointer.go | 10 +++++-----
 ui/gesture/gesture.go            |  4 ++--
 ui/input/input.go                |  2 +-
 ui/internal/opconst/ops.go       | 46 +++++++++++++++++++++++-----------------------
 ui/key/key.go                    | 12 ++++++------
 ui/pointer/doc.go                | 16 ++++++++--------
 ui/pointer/pointer.go            | 10 +++++-----
 ui/text/editor.go                |  2 +-
 9 files changed, 56 insertions(+), 56 deletions(-)

commit a112a580a7b28bcda62973311a6de5686e38108a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Aug 25 23:58:19 2019 +0100

    ui/app(internal/gpu: remove unused parameters
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/gpu.go | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit e8ba5b6affa73008bb6ae8dd133f6d4a570a7bd0
Author: Daniel Martí <mvdan@mvdan.cc>
Date:   Sun Aug 25 16:30:21 2019 +0100

    all: remove a couple of unused parameters
    
    Both from unexported functions, to keep the change low-risk. Found via
    unparam.
    
    Signed-off-by: Daniel Martí <mvdan@mvdan.cc>

 apps/gophers/ui.go  | 4 ++--
 cmd/gio/iosbuild.go | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 2542c55e9d4863a7d220ecea7f82d7764e45abf2
Author: Daniel Martí <mvdan@mvdan.cc>
Date:   Sun Aug 25 16:26:59 2019 +0100

    all: fix some issues spotted by static analysis
    
    First, vet was upset by two incorrect fmt verbs. One was an extra %x,
    when there was just one argument, so remove it. Another was a %p with a
    non-pointer. It's a struct, so for now simply use %#v.
    
    Second, staticcheck found some unused or unnecessary bits of code;
    remove the obvious ones.
    
    Finally, staticcheck also complained about some error strings which were
    capitalized or had periods. Adjust those, which also makes all error
    messages more consistent.
    
    Signed-off-by: Daniel Martí <mvdan@mvdan.cc>

 apps/gophers/ui.go            |  1 -
 cmd/gio/androidbuild.go       | 10 +++++-----
 ui/app/egl.go                 |  2 +-
 ui/app/internal/gpu/caches.go |  2 +-
 ui/app/internal/gpu/gpu.go    |  2 +-
 ui/app/window.go              |  2 +-
 ui/internal/ops/reader.go     |  1 -
 7 files changed, 9 insertions(+), 11 deletions(-)

commit 9136c72425ff4072952299e765622f8976c2e94c
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Aug 25 22:27:27 2019 +0100

    README.md: add Gophercon UK 2019 talk
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit eae9b6f8acec6c0ba78568e15ceccce7457884b2
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Aug 25 09:22:51 2019 +0100

    website: specify Go 1.11 and use default godoc repository root
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 website/go.mod  | 2 +-
 website/main.go | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 44c7be6750e6de233bd2e96fc4a640f2d37276e0
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Aug 24 22:48:00 2019 +0100

    cmd/gio: expand usage document
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/gio.go  | 10 +++++-----
 cmd/gio/help.go | 51 +++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 56 insertions(+), 5 deletions(-)

commit 470478e574a4358d587ea8adad7918f11fa0f9dd
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Aug 24 21:44:21 2019 +0100

    cmd/gio: replace errorf with a main function returning errors
    
    While we're here, split the usage print out to its own function and
    don't display the usage when a package is missing.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/gio.go | 36 ++++++++++++++++++------------------
 1 file changed, 18 insertions(+), 18 deletions(-)

commit 32a348b1ab52cdd99441b7ebc218245811ee18ae
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Aug 24 19:00:32 2019 +0100

    go.*: drop -replace for gioui.org/ui
    
    As pointed out by Daniel Martí, the replace line is convenient for
    development but results in build differences depending on whether
    you're inside or outside the gioui.org/apps module.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 4 +---
 apps/go.sum | 2 ++
 2 files changed, 3 insertions(+), 3 deletions(-)

commit c3f30188a573d73e7d4cfea6dd969e902422779d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Aug 24 18:25:37 2019 +0100

    all: delete unused variables
    
    Found by Daniel Martí.
    
    Fixes gio#24
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/gpu.go | 5 ++---
 ui/text/label.go           | 2 +-
 2 files changed, 3 insertions(+), 4 deletions(-)

commit 7780cf1353368250e045ffb82ab81450a6c235d5
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Aug 24 17:44:51 2019 +0100

    cmd/gio: use path.Base for Go import paths
    
    Go import paths always use forward slashes as separators.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/gio.go | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 6433cb2d883ac3011a5fb483fe59911b51f692ee
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Aug 24 17:44:14 2019 +0100

    cmd/gio: change all occurences of *appID with the buildInfo field
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/androidbuild.go |  4 ++--
 cmd/gio/iosbuild.go     | 10 +++++-----
 2 files changed, 7 insertions(+), 7 deletions(-)

commit b34389ac2cf947e029407b3e16e2e5d9dd411dce
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Aug 22 17:19:04 2019 +0200

    apps/gophers: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod        | 2 +-
 apps/gophers/ui.go | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit a6483a421ff651b1362cfa53d6300ac01a316a4c
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Aug 22 17:16:06 2019 +0200

    ui/gesture: replace Click.Events with Click.Next
    
    Everything else was converted to use the Next
    style event API, but Click was forgotten.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/gesture/gesture.go | 11 +++++------
 ui/text/editor.go     |  2 +-
 2 files changed, 6 insertions(+), 7 deletions(-)

commit 9520a9278f4f757bda3bbed8c524404f3f6d4bc6
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Aug 22 11:23:38 2019 +0200

    ui/app/internal/gpu: set the default material to black
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/gpu.go | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit c427597fde548b16b92863d6793dde3096815773
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Aug 21 15:01:24 2019 +0200

    apps: update go latest gioui.org/ui version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          |  2 +-
 apps/gophers/main.go | 10 +++++-----
 apps/hello/hello.go  |  2 +-
 3 files changed, 7 insertions(+), 7 deletions(-)

commit 6a7e38eb329f4aa115cc9dfa168e70bafb4b12cb
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Aug 21 14:59:35 2019 +0200

    ui/app: go fmt
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/window.go | 13 ++++++-------
 1 file changed, 6 insertions(+), 7 deletions(-)

commit bff8b64e5aeb45d7d1218197f09ff17764a49768
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Aug 21 10:27:48 2019 +0200

    ui/app: replace WindowOptions with WindowOption
    
    Thanks to Larry Clapp for noticing the opportunity for improvement.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/app.go        |  2 +-
 ui/app/os_android.go |  2 +-
 ui/app/os_ios.go     |  2 +-
 ui/app/os_js.go      |  2 +-
 ui/app/os_macos.go   |  2 +-
 ui/app/os_wayland.go |  4 ++--
 ui/app/os_windows.go |  4 ++--
 ui/app/window.go     | 68 +++++++++++++++++++++++++++++++++++++++++++++++++-------------------
 8 files changed, 58 insertions(+), 28 deletions(-)

commit e140f2a1c0a978316e3b9e1d70fc5408ed710910
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Aug 20 17:30:19 2019 +0200

    ui/app: (iOS) check for first responder status before changing focus
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_ios.m | 26 ++++++++++++++++++++------
 1 file changed, 20 insertions(+), 6 deletions(-)

commit ac6f0c3f18b551181783c8857bb5cb7ed10c3e7c
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Aug 20 16:50:35 2019 +0200

    ui/app: (iOS) move memory pressure callback to view controller
    
    With multiple GioViewControllers we might invoke the garbage collector
    more than once, but in return we simplify the GioAppDelegate which will
    become the interface to native widgets.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_ios.m | 15 +++++----------
 1 file changed, 5 insertions(+), 10 deletions(-)

commit e6a68db4c0650c62ee97e5581c9cef02b228bbfe
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Aug 20 14:33:19 2019 +0200

    ui/app: (iOS) resize window when the software keyboard is shown
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_ios.m | 67 +++++++++++++++++++++++++++++++++++++++++++++++++++++--------------
 1 file changed, 53 insertions(+), 14 deletions(-)

commit 46ecbb86d296b75229f2ea93914fc75e06b789f2
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Aug 20 12:57:35 2019 +0200

    ui/app: remove unused method
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_ios.m | 5 -----
 1 file changed, 5 deletions(-)

commit 9c9656e7297ed37b045e8e811dc4996ce21728cc
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Aug 20 12:51:13 2019 +0200

    ui/app: fix indent
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_ios.m | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit d2132fce3bf26ee16d0084403d7a23e2d7632221
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Aug 20 11:14:48 2019 +0200

    ui/app: remove debug line
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/gl_ios.m | 1 -
 1 file changed, 1 deletion(-)

commit 1f918c751e9f376ed39973f95924b8b6328a4189
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Aug 20 11:10:59 2019 +0200

    cmd/gio: use package name for iOS binaries
    
    To make it easier to locate the app in the Console app.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/iosbuild.go | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 4b3b8fa413c18931f4ddc5b79a748c688f24cd47
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Aug 20 09:04:00 2019 +0200

    ui/app: (iOS) move UIWindow notifications to GioView
    
    Simplifies GioAppDelegate and allows for proper deregistering of
    listener.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_ios.m | 27 +++++++++++++++++----------
 1 file changed, 17 insertions(+), 10 deletions(-)

commit 3099e7474f59db7d42f1a9d1c461477c4f6ff31b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Aug 18 21:25:13 2019 +0200

    README.md: fix link
    
    Thanks to Antonio D'souza for noticing.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c52376065e563f92fb4b72315759ad2b7ffd90c7
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Aug 16 14:24:58 2019 +0200

    cmd/gio: list available bundle ids when no match was found
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/iosbuild.go | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 9d9051d46888f846901e638aab0de57cc8e0ae98
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Aug 16 13:13:13 2019 +0200

    cmd/gio: provide DT* fields in iOS Info.plists
    
    Required by App Store.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/iosbuild.go | 14 +++++++++++++-
 1 file changed, 13 insertions(+), 1 deletion(-)

commit 6007a8c90e8638d7ffc5c9fe6fc6dbb464f28fec
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Aug 16 12:53:09 2019 +0200

    cmd/gio: specify CFBundleSupportedPlatforms in iOS ipa bundles
    
    Required by App Store.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/iosbuild.go | 13 ++++++++++++-
 1 file changed, 12 insertions(+), 1 deletion(-)

commit c4e46e034821bcf021023e16d8305ad21a5f4fc0
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Aug 16 12:32:53 2019 +0200

    cmd/gio: add support for iOS App Store icons
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/androidbuild.go | 8 ++++----
 cmd/gio/gio.go          | 9 ++++++++-
 cmd/gio/iosbuild.go     | 8 +++++---
 3 files changed, 17 insertions(+), 8 deletions(-)

commit 50599bc65d6afa03495c6938a32bb928071aca63
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Aug 15 10:15:03 2019 +0200

    cmd/gio: support app icons
    
    If there is an appicon.png file in the main package the gio tool
    will use it for Android and iOS apps in buildmode exe.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/androidbuild.go | 18 ++++++++++++++++--
 cmd/gio/gio.go          | 51 +++++++++++++++++++++++++++++++++++++++++++++++++
 cmd/gio/iosbuild.go     | 98 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++----------
 cmd/go.mod              |  5 ++++-
 cmd/go.sum              |  3 +++
 5 files changed, 162 insertions(+), 13 deletions(-)

commit c57804397076436b8a6c82b80716d3823bae2455
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Aug 15 17:50:12 2019 +0200

    cmd/gio: handle subdirectories in apk files
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/androidbuild.go | 30 +++++++++++++++++++-----------
 1 file changed, 19 insertions(+), 11 deletions(-)

commit 2440e1880ee7ef5c2cb0c1373702c5375be2000a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Aug 15 09:43:31 2019 +0200

    cmd/gio: specify UISupportedInterfaceOrientations
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/iosbuild.go | 6 ++++++
 1 file changed, 6 insertions(+)

commit b10175b2336ba057fff8b5fb2f9e8ae7487e5d3a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Aug 14 17:07:16 2019 +0200

    cmd/gio: add -version flag
    
    For Android and iOS.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/androidbuild.go |  6 +++---
 cmd/gio/gio.go          | 11 +++++++----
 cmd/gio/iosbuild.go     |  6 +++---
 3 files changed, 13 insertions(+), 10 deletions(-)

commit 105d09403094e28f70e311931f08ab6e68d425de
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Aug 14 17:02:36 2019 +0200

    cmd/gio: drop appDir function
    
    It's not worth its weight.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/androidbuild.go | 2 +-
 cmd/gio/gio.go          | 5 -----
 cmd/gio/iosbuild.go     | 2 +-
 3 files changed, 2 insertions(+), 7 deletions(-)

commit 632e4e3ae65eed853982f11f9e2a86a596f979cc
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Aug 14 16:50:10 2019 +0200

    cmd/gio: specify UIDeviceFamily
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/iosbuild.go | 4 ++++
 1 file changed, 4 insertions(+)

commit ed0bbe9dd2e30af44c14aff1d086e2cd96b9ad3a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Aug 14 16:43:44 2019 +0200

    cmd/gio: filter out unsupported architectures, specify MinimumOSVersion
    
    For the App Store.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/iosbuild.go | 31 ++++++++++++++++++++++++-------
 1 file changed, 24 insertions(+), 7 deletions(-)

commit 5ac1b6ea3c1f32456481e4df7902b0cbc345204f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Aug 14 14:58:28 2019 +0200

    cmd/gio: set DTPlatformName, DTPlatformVersion, UIRequiredDeviceCapabilities
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/gio.go      |  8 ++++++--
 cmd/gio/iosbuild.go | 37 +++++++++++++++++++++++++++----------
 2 files changed, 33 insertions(+), 12 deletions(-)

commit 564f30ca0f77c95f2911f59e85fef8301f390f65
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Aug 14 14:24:51 2019 +0200

    cmd/gio: use the package name for app directories inside ipa files
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/iosbuild.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2a0789008624d769459b7b423e9eee235b3f4c99
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Aug 14 12:49:11 2019 +0200

    cmd/gio: add provisioning file to ipa apps
    
    Required by App Store.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/iosbuild.go | 5 +++++
 1 file changed, 5 insertions(+)

commit 74295d5b778ba03cb95df046eefa607c18b135f4
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Aug 14 10:46:28 2019 +0200

    ui/go.*: update golang.org/x/sys
    
    In particular to get the ptrace fix for iOS from
    
    https://go-review.googlesource.com/c/sys/+/182317
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.sum | 4 ++--
 ui/go.mod   | 2 +-
 ui/go.sum   | 4 ++--
 3 files changed, 5 insertions(+), 5 deletions(-)

commit bf991992877b6f1f3f074c98fed5cadf455adde5
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Aug 14 10:43:44 2019 +0200

    apps/go.mod: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 56926a04499058f64b8bb58783bc233149e199b6
Author: Larry Clapp <larry@theclapp.org>
Date:   Tue Aug 13 20:16:19 2019 -0400

    ui/app: fix init() appending '' to os.Args
    
    init() says
    
      args := strings.Split(extraArgs, "|")
      os.Args = append(os.Args, args...)
    
    strings.Split says
    
      If s does not contain sep and sep is not empty, Split returns a slice
      of length 1 whose only element is s.
    
    which means init() adds a blank arg to the end of os.Args when extraArgs
    is empty.  This fixes that.
    
    Signed-off-by: Larry Clapp <larry@theclapp.org>

 ui/app/app.go | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 7c197cc666ab8f170ed9691c13cf65fb48973b78
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Aug 12 00:29:18 2019 +0200

    ui/app: support EGL versions >= 2.0
    
    Versions with major > 1 don't exists, but let's handle the version
    correctly in any case.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/egl.go | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 560591955538a49a352d36e59780928be3889e73
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Aug 12 00:05:57 2019 +0200

    ui/app: (windows) don't fail eglChooseConfig just because no configs were found
    
    The resulting eglGetError will return a confusing EGL_SUCCESS.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/egl_windows.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8c121374b190eaee1907a93bc7bd472120e6b8d7
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Aug 11 23:56:19 2019 +0200

    apps/hello: fix build
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/hello/hello.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 3c69c81401e78ab9c8705717bb819856a26da062
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Aug 11 20:03:39 2019 +0200

    cmd/gio: add package documentation
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/doc.go | 10 ++++++++++
 1 file changed, 10 insertions(+)

commit a296903c76776fc1fca7fc09c53d5ca9c8059c03
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Aug 11 19:48:16 2019 +0200

    ui: documentation fixes
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/f32/f32.go     | 2 +-
 ui/layout/doc.go  | 2 +-
 ui/pointer/doc.go | 4 ++--
 3 files changed, 4 insertions(+), 4 deletions(-)

commit c4c75d42ef809d5be0297008afc7354629a7f391
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Aug 11 19:43:20 2019 +0200

    ui/f32: add space between licence header and package documentation
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/f32/f32.go | 1 +
 1 file changed, 1 insertion(+)

commit 6deb8f007d0e37e9a53130539b4c8ef383c037fd
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Aug 11 19:41:28 2019 +0200

    ui/widget: add package documentation
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/widget/image.go | 2 ++
 1 file changed, 2 insertions(+)

commit 2bcac7dfbe80217b54ab834c693627765b887ea6
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Aug 11 19:39:35 2019 +0200

    ui/text: document Editor
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/text/editor.go | 56 +++++++++++++++++++++++++++++++++++++-------------------
 1 file changed, 37 insertions(+), 19 deletions(-)

commit 842d29373fb2910f1eefd0d1e7b8d57efb4b671b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Aug 11 19:35:29 2019 +0200

    ui: documentation tweaks
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/app.go         | 4 ++--
 ui/input/input.go     | 2 ++
 ui/key/key.go         | 6 +++---
 ui/pointer/pointer.go | 4 ++--
 4 files changed, 9 insertions(+), 7 deletions(-)

commit 2f9ac5aebbe911de327f9043a7ad1452607f3843
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Aug 11 19:25:50 2019 +0200

    ui/text: rename Center Alignment to Middle and drop IsNewline
    
    Middle matches the similar layout.Middle constant, and IsNewline is
    too simple to export.
    
    Add documentation while we're here.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/measure/measure.go |  2 +-
 ui/text/editor.go     |  2 +-
 ui/text/label.go      | 17 +++++++++++++----
 ui/text/measure.go    | 39 +++++++++++++++++++++++++++++----------
 4 files changed, 44 insertions(+), 16 deletions(-)

commit 628a97cd712e306c4748ed0ece977e7785e22421
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Aug 11 19:14:53 2019 +0200

    ui/measure: document and export Face
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/measure/measure.go | 24 ++++++++++++++++--------
 1 file changed, 16 insertions(+), 8 deletions(-)

commit 5c3dcc6f9a07dc22a26319616adc2c63e33da966
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Aug 11 18:57:12 2019 +0200

    ui/gesture: typo
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/gesture/gesture.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e2ab54a896f822fa85f785f5426dd69186185f55
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Aug 11 18:53:44 2019 +0200

    ui/f32: document
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/f32/f32.go | 22 ++++++++++++++++++++++
 1 file changed, 22 insertions(+)

commit b25af47c45adcaef27ae241623f40208c53a1866
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Aug 11 18:39:46 2019 +0200

    ui/paint: expand documentation and add package description
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/paint/doc.go   | 15 +++++++++++++++
 ui/paint/paint.go | 13 ++++++++++---
 ui/paint/path.go  | 12 ++++++++++--
 3 files changed, 35 insertions(+), 5 deletions(-)

commit 40091c5918910a4d0493a610fc71acc605d5ed3e
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Aug 11 18:15:59 2019 +0200

    ui/gesture: add Scroll.State method
    
    And move Click.State to a method.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/gesture/gesture.go | 74 +++++++++++++++++++++++++++++++++++++++++++++++++++++++-------------------
 ui/layout/list.go     |  2 +-
 ui/text/editor.go     |  2 +-
 3 files changed, 57 insertions(+), 21 deletions(-)

commit 5d28f9e690946f0eb870177c077039d5a72b1a0d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Aug 11 18:02:48 2019 +0200

    ui/gesture: add documentation
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/gesture/{gestures.go => gesture.go} | 39 ++++++++++++++++++++++++++++++++++-----
 1 file changed, 34 insertions(+), 5 deletions(-)

commit 9cc6757da99a7abd6f6c91c43b14833126c52911
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Aug 11 13:46:27 2019 +0200

    ui/pointer: expand documentation
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/doc.go             |   6 ++---
 ui/input/input.go     |   2 +-
 ui/key/key.go         |   5 +++--
 ui/pointer/doc.go     | 118 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 ui/pointer/pointer.go |  64 +++++++++++++++++++++++++++++++++++++++++++---------
 5 files changed, 179 insertions(+), 16 deletions(-)

commit 1a9e03bf68dc38df757f26d84b10bb2398b1602a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Aug 11 13:09:55 2019 +0200

    ui/key: expand documentation
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/key/key.go | 18 +++++++++++++++++-
 1 file changed, 17 insertions(+), 1 deletion(-)

commit dce7ad2f58a8cf814f08f73b9aac1e92f57a0fd4
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Aug 11 12:54:19 2019 +0200

    apps/gophers: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          | 2 +-
 apps/gophers/main.go | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 340fff9814fcda3b5a42cd76713aea105d37694a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Aug 11 12:49:23 2019 +0200

    ui/key: rename ChordEvent to just Event
    
    Event is like pointer.Event and we don't want the stuttering of
    key.KeyEvent.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/input/router.go | 2 +-
 ui/app/os_android.go            | 2 +-
 ui/app/os_ios.go                | 2 +-
 ui/app/os_js.go                 | 2 +-
 ui/app/os_macos.go              | 2 +-
 ui/app/os_wayland.go            | 2 +-
 ui/app/os_windows.go            | 2 +-
 ui/key/key.go                   | 4 ++--
 ui/text/editor.go               | 6 +++---
 9 files changed, 12 insertions(+), 12 deletions(-)

commit 2a41ff9a59a8ebb1f2a0e150c8cf777aafe470c8
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Aug 11 12:41:24 2019 +0200

    ui/key: expand documentation
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/key/key.go | 15 +++++++++++++++
 1 file changed, 15 insertions(+)

commit b68c9c23c81c124b8517e5ae070e15cab52d6c50
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Aug 11 12:31:39 2019 +0200

    ui/input: expand package documentation
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/input/input.go | 30 ++++++++++++++++++++++++++++--
 1 file changed, 28 insertions(+), 2 deletions(-)

commit e3ae277841ca9f4d3f65886a5264613ac271164a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Aug 10 18:54:18 2019 +0200

    ui/layout: add List example
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/layout_test.go | 34 ++++++++++++++++++++++++++++++++++
 1 file changed, 34 insertions(+)

commit b3e8f5953e7765d72f2a93ac9a105d1684c4a469
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Aug 10 18:46:18 2019 +0200

    ui/layout: add Stack example
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/layout_test.go | 25 +++++++++++++++++++++++++
 1 file changed, 25 insertions(+)

commit 44d16d04e9e76cc6b75e6394830a99a8906a7053
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Aug 10 18:41:01 2019 +0200

    ui/layout: add Flex example
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/layout_test.go | 29 +++++++++++++++++++++++++++++
 1 file changed, 29 insertions(+)

commit 94f275288571009dcf32fe59b302fcf617879c42
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Aug 10 18:28:19 2019 +0200

    ui/layout: add Align example
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/layout_test.go | 39 +++++++++++++++++++++++++++++----------
 1 file changed, 29 insertions(+), 10 deletions(-)

commit 4ce8f4ea51fb00a58f4b91a2aa4be5b9f35d3968
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Aug 10 18:18:18 2019 +0200

    ui/layout: add Inset example
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/layout_test.go | 55 +++++++++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 55 insertions(+)

commit 3c941e938fab9470f5f2dd262a3d0bc75d885e82
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Aug 10 17:56:16 2019 +0200

    ui/layout: expand package documentation
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/doc.go    | 49 +++++++++++++++++++++++++++++++++++++++++++++++++
 ui/layout/layout.go |  7 +++++++
 2 files changed, 56 insertions(+)

commit 8f37a565b9520441b077f68d61cb12bc0aa4239c
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Aug 10 17:09:35 2019 +0200

    ui/layout: document layout types and helpers
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/layout.go | 35 ++++++++++++++++++++++++-----------
 1 file changed, 24 insertions(+), 11 deletions(-)

commit 79233a35656686c1db1758ff8908cce7114234fd
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Aug 10 16:50:44 2019 +0200

    apps/gophers: update gioui.org/ui version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod        | 2 +-
 apps/gophers/ui.go | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit ba3a952af2b90016153300b37412175a66bc96ad
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Aug 10 16:35:51 2019 +0200

    ui/layout: document List, Stack
    
    Tweak Flex documentation.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/flex.go  |  4 ++--
 ui/layout/list.go  |  9 +++++++--
 ui/layout/stack.go | 13 +++++++++++++
 3 files changed, 22 insertions(+), 4 deletions(-)

commit 8f17163a13a0da73271e256b9e31aa6e8e08c232
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Aug 10 16:26:39 2019 +0200

    ui/layout: rename List.Elem to End to match Stack and Flex
    
    Add more documentation while we're here.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/flex.go | 19 +++++++++++++++----
 ui/layout/list.go | 21 ++++++++++++---------
 2 files changed, 27 insertions(+), 13 deletions(-)

commit 6d1339733a1d81d3b94d42fb5690b79f1b10e322
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Aug 10 12:34:58 2019 +0200

    apps: update gioui.org/ui
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod        |  2 +-
 apps/gophers/ui.go | 16 ++++++++--------
 ui/layout/flex.go  |  2 +-
 3 files changed, 10 insertions(+), 10 deletions(-)

commit 1a15d7241ac4e58bfc6eb063d267cc692822ec10
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Aug 10 12:03:53 2019 +0200

    ui/layout: rename and sanitize enums
    
    Rename MainAxisAlignment to Spacing and CrossAxisAlignment to just
    Alignment.
    
    Drop the untyped Start, End, Center values and add them as Spacing
    and Direction values. Center is both a Direction and Alignment, so
    use the synonym "Middle" for the alignment.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/flex.go   | 72 +++++++++++++++++++++++++++++++++++++++++++++++++++---------------------
 ui/layout/layout.go | 72 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 ui/layout/list.go   | 12 ++++++------
 ui/layout/stack.go  | 13 -------------
 4 files changed, 129 insertions(+), 40 deletions(-)

commit 2a0b0077da6f4065b5ec1e0989e07975ec1614bc
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Aug 10 00:49:28 2019 +0200

    ui/app: (wasm) add checks for required extensions
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/gl_js.go             |  6 +++++-
 ui/app/internal/gl/gl_js.go | 26 ++++++++++++++++----------
 2 files changed, 21 insertions(+), 11 deletions(-)

commit 7bc18c0139a854e6b7646d5760019d43a41d56cc
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Aug 9 22:20:52 2019 +0200

    ui/app: more documentation
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/doc.go    | 8 +++++++-
 ui/app/window.go | 2 +-
 2 files changed, 8 insertions(+), 2 deletions(-)

commit a8f42cd567a4703aed100e89e348685ea3bee1de
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Aug 9 22:16:52 2019 +0200

    ui/app: expand package documentation
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/app.go |  6 ++++--
 ui/app/doc.go | 51 +++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 55 insertions(+), 2 deletions(-)

commit 657c40e4bbede8c75de5bb7a0b03b1980bead27a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Aug 9 22:01:25 2019 +0200

    ui/app: support 0 for window width and height
    
    The zero value means that the client don't care and a sensible
    default is chosen.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/window.go | 26 ++++++++++++++++++--------
 1 file changed, 18 insertions(+), 8 deletions(-)

commit e5738481f8787940f9986dada64fa1646dc3b358
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Aug 9 21:34:29 2019 +0200

    ui/app: add package documentation and document Main
    
    Split Main into the common Main function and platform specific
    main functions.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/app.go        | 8 ++++++++
 ui/app/doc.go        | 8 ++++++++
 ui/app/os_android.go | 2 +-
 ui/app/os_ios.go     | 2 +-
 ui/app/os_js.go      | 2 +-
 ui/app/os_macos.go   | 2 +-
 ui/app/os_wayland.go | 2 +-
 ui/app/os_windows.go | 2 +-
 8 files changed, 22 insertions(+), 6 deletions(-)

commit 87f8fd41527cfc8708d443e0decc6dd07f07e9a1
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Aug 9 21:17:33 2019 +0200

    ui/app: update documentation
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/app.go    | 12 +++++++++++-
 ui/app/window.go | 21 ++++++++++++++++-----
 2 files changed, 27 insertions(+), 6 deletions(-)

commit a2baffdbfd94ebe3194264524c40f3a986d0af4b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Aug 9 20:32:39 2019 +0200

    ui: expand package documentation
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/doc.go | 81 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++---
 ui/ops.go |  7 ++++++-
 ui/ui.go  |  6 +++---
 3 files changed, 87 insertions(+), 7 deletions(-)

commit a6c262c1e11789cbabf3305360c97e39617a5b72
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Aug 8 15:20:58 2019 +0200

    ui: expose internal Ops fields as methods
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/internal/ops/reader.go | 28 +++++++++++++++-------------
 ui/ops.go                 | 51 ++++++++++++++++++++++++++++++++++-----------------
 2 files changed, 49 insertions(+), 30 deletions(-)

commit 3c924e2a180fb75c13e9ee1f9f219db61fdee648
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Aug 8 14:54:51 2019 +0200

    ui: document types and methods
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/ops.go  | 16 ++++++++++++----
 ui/unit.go |  4 ++++
 2 files changed, 16 insertions(+), 4 deletions(-)

commit aa703dfc3e334a269ddf004fde0f43cdfacfb016
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Aug 7 20:38:16 2019 +0200

    apps/gophers: update to latest gio
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          | 2 +-
 apps/gophers/main.go | 4 ++--
 apps/hello/hello.go  | 4 ++--
 ui/go.sum            | 1 -
 4 files changed, 5 insertions(+), 6 deletions(-)

commit 4e005f2bfa1c306040e1ab1de826148db5d52b4b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Aug 7 20:35:37 2019 +0200

    ui/app: rename DrawEvent to UpdateEvent and Window.Draw to Window.Update
    
    Window.Draw is not the right name for a method that does more than
    just drawing. Rename to Update instead, and rename the DrawEvent
    accordingly for symmetry.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/app.go        | 6 +++---
 ui/app/os_android.go | 2 +-
 ui/app/os_ios.go     | 2 +-
 ui/app/os_js.go      | 2 +-
 ui/app/os_macos.go   | 2 +-
 ui/app/os_wayland.go | 2 +-
 ui/app/os_windows.go | 2 +-
 ui/app/window.go     | 8 ++++----
 8 files changed, 13 insertions(+), 13 deletions(-)

commit 3d519c5a37cdbca3b00883e495e62a4d8f610684
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Aug 7 20:29:39 2019 +0200

    apps/gophers: delete unused fields and arguments
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/gophers/main.go      | 2 +-
 apps/gophers/main_test.go | 3 +--
 apps/gophers/ui.go        | 8 ++------
 3 files changed, 4 insertions(+), 9 deletions(-)

commit 20f9a72c1571f384fce3e09f937d00b6ce8f98e4
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Aug 7 20:15:25 2019 +0200

    apps: update gioui.org/ui version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod         |  2 +-
 apps/gophers/ui.go  | 14 +++++++-------
 apps/hello/hello.go |  4 ++--
 3 files changed, 10 insertions(+), 10 deletions(-)

commit dd35a48a61ab51f0e55d2485798a3db3d7daa5e4
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Aug 7 20:11:53 2019 +0200

    ui/paint: rename the draw package
    
    The draw package name clashes with the standard library draw package.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/gpu.go          | 20 ++++++++++----------
 ui/go.sum                           |  1 +
 ui/internal/opconst/ops.go          |  6 +++---
 ui/layout/list.go                   |  4 ++--
 ui/measure/measure.go               |  4 ++--
 ui/{draw/draw.go => paint/paint.go} | 10 +++++-----
 ui/{draw => paint}/path.go          |  2 +-
 ui/text/editor.go                   | 12 ++++++------
 ui/text/label.go                    |  6 +++---
 ui/widget/image.go                  |  6 +++---
 10 files changed, 36 insertions(+), 35 deletions(-)

commit 6e26c92c75530df7ee57cbb41b5191573aa40e2a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Aug 7 15:52:22 2019 +0200

    all: remove exported Decode methods on operations
    
    Add decode functions to the packages that need them instead. For
    TransformOp that is used in multiple packages, add the decode
    function to the internal ops package.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/gpu.go       | 69 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++---------
 ui/app/internal/input/key.go     | 13 +++++++++++--
 ui/app/internal/input/pointer.go | 30 +++++++++++++++++++++++-------
 ui/app/internal/input/router.go  | 28 ++++++++++++++++++++++++----
 ui/draw/draw.go                  | 55 -------------------------------------------------------
 ui/internal/ops/ops.go           | 23 +++++++++++++++++++++++
 ui/key/key.go                    | 10 ----------
 ui/pointer/pointer.go            | 19 -------------------
 ui/system/system.go              |  9 ---------
 ui/ui.go                         | 21 ---------------------
 10 files changed, 141 insertions(+), 136 deletions(-)

commit 4d66669a9e06defe86de6b25c7bd38d23947e72a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Aug 7 16:21:50 2019 +0200

    app/internal/gpu: rename opClip to clipOp
    
    To better match ClipOp, which was renamed from OpClip.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/gpu.go | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit eaa4efe5afd8c9c22f56d2fcc6ef5800abc0b561
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Aug 7 15:59:36 2019 +0200

    all: add missing licence headers
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/gophers/main_test.go      | 2 ++
 ui/app/gl_js.go                | 2 ++
 ui/app/internal/gl/types_js.go | 2 ++
 ui/app/internal/gpu/caches.go  | 2 ++
 ui/app/internal/gpu/context.go | 2 ++
 ui/app/os_js.go                | 2 ++
 ui/internal/opconst/ops.go     | 2 ++
 ui/internal/ops/reader.go      | 2 ++
 ui/ops.go                      | 2 ++
 9 files changed, 18 insertions(+)

commit b3517a365e8c1e6b81aa9164657b2dde84e08f0c
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Aug 7 14:55:20 2019 +0200

    ui,internal/ops,internal/opconst: move OpsReader to internal ops package
    
    To avoid import cycles, move the op constants to its own package,
    internal/opconst.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/caches.go       |  16 +++----
 ui/app/internal/gpu/gpu.go          |  33 ++++++-------
 ui/app/internal/input/key.go        |  13 ++---
 ui/app/internal/input/pointer.go    |  21 ++++----
 ui/app/internal/input/router.go     |   9 ++--
 ui/draw/draw.go                     |  20 ++++----
 ui/draw/path.go                     |   8 ++--
 ui/internal/{ops => opconst}/ops.go |   2 +-
 ui/internal/ops/reader.go           | 177 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 ui/key/key.go                       |  12 ++---
 ui/ops.go                           | 214 +++++++++++-----------------------------------------------------------------------
 ui/pointer/pointer.go               |  18 +++----
 ui/system/system.go                 |   8 ++--
 ui/ui.go                            |  14 +++---
 14 files changed, 295 insertions(+), 270 deletions(-)

commit fe20cde393f696f949f1f7dfde0a18c6c4307ac1
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Aug 7 14:47:14 2019 +0200

    ui: rename TransformOp.Mul to Multiply and split InvTransform
    
    Multiply is a bit longer but more clear. InvTransform was really
    two operations: Invert and Transform.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/gpu.go       |  2 +-
 ui/app/internal/input/pointer.go |  6 +++---
 ui/ui.go                         | 12 ++++++++----
 3 files changed, 12 insertions(+), 8 deletions(-)

commit 9be695cc2426a690ae12a723399f654626e7c17a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Aug 7 14:20:40 2019 +0200

    ui: fix TransformOp.Offset
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/ui.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f223c7b0c9d9be26d3b43a624a087ad63a467a2d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Aug 7 14:01:32 2019 +0200

    cmd/gio: clarify usage summary
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/gio.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ddcbccf041d979716c2e1f7eb0490728434085ce
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Aug 7 12:37:44 2019 +0200

    cmd/gio: simplify -o flag description
    
    Only mention the special case for iOS simulators.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/gio.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a14e818299b24abbc2de121d4af5e35782af78e5
Author: Larry Clapp <larry@theclapp.org>
Date:   Mon Aug 5 11:22:10 2019 -0400

    draw: Fix spelling of Bezier
    
    Sometimes it was "bezier", sometimes "beziér".  Capitalize and put
    accent on first e.  https://en.wikipedia.org/wiki/Bézier_curve
    
    Signed-off-by: Larry Clapp <larry@theclapp.org>

 ui/app/internal/gpu/path.go |  2 +-
 ui/draw/path.go             | 10 +++++-----
 2 files changed, 6 insertions(+), 6 deletions(-)

commit 276cb104adbecc10ecff213e41608c0fbeea0c82
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Aug 5 18:10:32 2019 +0200

    apps/go.mod: update gioui.org/ui version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8c3305e88b0d6afde2485de3de0df30858147052
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Aug 5 16:13:54 2019 +0200

    README.md: add link to FAQ
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 1 +
 1 file changed, 1 insertion(+)

commit a27f12faf38eff6e4cda6bf9af4644f304774344
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Aug 5 15:55:47 2019 +0200

    README.md: move license last, tweak text
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

commit 9babb1389d906da42fc7bca45cf570cde4d6f6f6
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Aug 5 15:50:39 2019 +0200

    README.md: split out installation, integration, contributing sections
    
    Add them to the wiki so README.md ends up less overwhelming.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 128 ++++++++++++++++++++++++++++++++++++------------------------------------------------------------------------
 1 file changed, 42 insertions(+), 86 deletions(-)

commit 8472bbc78b576f6a99606c76d6da2a263051cc1b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Aug 5 15:38:34 2019 +0200

    ui/app,cmd/gio: move running of main from driver to GioAppDelegate
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/iosbuild.go |  3 ---
 ui/app/os_ios.m     |  2 ++
 ui/app/runmain.go   | 13 +++++++++----
 3 files changed, 11 insertions(+), 7 deletions(-)

commit 2d6111e31a210620c587d419ad89522db9dda808
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Aug 5 13:34:36 2019 +0200

    website: add godoc.org redirects for the ui, cmd, apps modules
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 website/main.go | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit 7f82b5d637263d82325fca4f1701128221e557c6
Author: Larry Clapp <larry@theclapp.org>
Date:   Sun Aug 4 12:32:16 2019 -0400

    README.md: add backticks to giowindow div tag
    
    Wrap backticks around the "div" tag mentioned in the README, so it looks
    like this:
    
        `<div id="giowindow">`
    
    Without the backticks, the markdown renderer renders it as an actual
    <div> tag in the output html (without an ID, either).
    
    Signed-off-by: Larry Clapp <larry@theclapp.org>

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 15dc714d4052a3576527c6519905bddf894f1e2f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Aug 3 21:25:34 2019 +0200

    ui/app: add darwin build tag to ios files
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/log_ios.go | 2 +-
 ui/app/log_ios.m  | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 38eb23cc311b0fc0b5f3316a64781929dbb3c28e
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Aug 2 23:16:39 2019 +0200

    apps/go.mod: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e2df2f394a89eb39febe17b0c71f87fcf5bd1038
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Aug 2 18:53:46 2019 +0200

    apps/gophers: split main into App and UI and add BenchmarkUI
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/gophers/main.go      | 592 ++++----------------------------------------------------------------------------------------
 apps/gophers/main_test.go |  41 +++++++
 apps/gophers/ui.go        | 583 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 3 files changed, 649 insertions(+), 567 deletions(-)

commit 6ce224b89fc30a1061f6aca2f6e6216fa9730e09
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Aug 2 15:48:27 2019 +0200

    cmd/gio: don't strip debug info for webassembly builds
    
    The space savings are minimal and we lose function names in the
    browser debuggers.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/jsbuild.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1c5ceab9c1d2a1cfa706f54128ecc6e89eed9561
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Aug 2 09:05:34 2019 +0200

    cmd/gio: don't add a container div for -target js
    
    THe webassembly backend can create and add it itself.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/jsbuild.go | 1 -
 1 file changed, 1 deletion(-)

commit eee497f22a3d738e954a83052bcd24c3bdfd6c17
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Aug 2 09:04:00 2019 +0200

    ui/app: (wasm) create and add container div if one is not provided
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_js.go | 20 +++++++++++++-------
 1 file changed, 13 insertions(+), 7 deletions(-)

commit 28bd97f87753c7e94c78cfc7dd31d4ebd5c11761
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Aug 2 08:59:54 2019 +0200

    ui/app: delete unused field
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_js.go | 1 -
 1 file changed, 1 deletion(-)

commit e309fb42d48f185acebce8160ae48d9d88cbf515
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Aug 2 08:57:31 2019 +0200

    apps/go.mod: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 0be3492e071551d49cbe4a10e098384b55382c4a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Aug 2 08:54:21 2019 +0200

    ui/app: (wasm) avoid deadlock from focus changes
    
    showTextInput is called from the window loop in window.go, but
    could result in an immediate event which then deadlocks waiting for
    the window loop to handle it.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_js.go | 14 +++++++++-----
 1 file changed, 9 insertions(+), 5 deletions(-)

commit 10792f0a0004c017dba4658c791fac6d54d180ae
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Aug 1 19:00:30 2019 +0200

    apps/gophers: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          | 2 +-
 apps/gophers/main.go | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 73b1e642098cc91ee9c8028365c1990982b6fe78
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Aug 1 18:56:49 2019 +0200

    ui/input: change Queue to return Events one at a time
    
    By returning all events, widgets that might return early from its
    event loop might throw away subsequent events. Instead of requiring
    those widgets to store the event list, convert input.Queue to step
    through the available events one at a time.
    
    Functional revert of 1735d5ced8937ff6f853aa8b01fed3140738c744.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/input/router.go | 14 +++++++++-----
 ui/app/window.go                |  4 ++--
 ui/gesture/gestures.go          |  4 ++--
 ui/input/input.go               |  2 +-
 ui/text/editor.go               |  2 +-
 5 files changed, 15 insertions(+), 11 deletions(-)

commit b15a32065f552046e8da502f8318ca1b8c8f8033
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Aug 1 17:48:53 2019 +0200

    ui/app: (wasm) fix typo
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_js.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit eefe3d146d79a8e16121975bc52da0dd178e7254
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Aug 1 15:31:10 2019 +0200

    apps/go.mod: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cb312c8d3219d0d3e745128006b184d9c7c4d4df
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Aug 1 15:27:14 2019 +0200

    ui/app: drop Event
    
    input.Event is enough if we stretch "input" to mean both input
    devices and other events such as profiling events and system
    commands.
    
    The pointer and key packages are separate already, so I don't
    expanding the meaning is unreasonable.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/app.go         |  4 ----
 ui/app/window.go      | 26 +++++++++++++-------------
 ui/input/input.go     |  4 ++--
 ui/key/key.go         |  9 +++------
 ui/pointer/pointer.go |  3 +--
 ui/system/system.go   |  2 +-
 6 files changed, 20 insertions(+), 28 deletions(-)

commit 69bba3aa4b3f2db7c2888966c83a27848ba2d3c9
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Aug 1 10:43:17 2019 +0200

    ui,ui/draw: fix decoding of negative integers
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/draw/draw.go |  8 ++++----
 ui/ops.go       | 12 ++++++------
 2 files changed, 10 insertions(+), 10 deletions(-)

commit 06cee16c89036cbf38cccb002292f9caab09373d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Aug 1 10:09:56 2019 +0200

    apps/gophers: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          | 2 +-
 apps/gophers/main.go | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit bfece0bebacb5cec4fdf5682b886333e03b6549b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Aug 1 10:06:19 2019 +0200

    ui: change area ops to use rectangles, not sizes
    
    And then use the more general rectangles to add a buffer around
    text.Editor click and scroll area.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/input/pointer.go | 30 +++++++++++++++++++++---------
 ui/internal/ops/ops.go           |  2 +-
 ui/layout/list.go                |  2 +-
 ui/pointer/pointer.go            | 16 +++++++++-------
 ui/text/editor.go                |  8 +++++++-
 5 files changed, 39 insertions(+), 19 deletions(-)

commit d3df90887ed734bc872bf05d10d03f10f2534e94
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Jul 31 22:54:49 2019 +0200

    apps/go.mod: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 46b9e7b9ab44c852c274807072082eeb1bcf89d6
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Jul 31 22:52:37 2019 +0200

    ui/app: (macOS, iOS) ignore SIGPIPE
    
    Work around golang.org/issue/33384
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/sigpipe_darwin.go | 14 ++++++++++++++
 1 file changed, 14 insertions(+)

commit 3d9861011e24132d4b366017f21452346c6a7de9
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Jul 30 15:25:23 2019 +0200

    ui/layout: restore Flex.Rigid behaviour
    
    Broken by 5f2adf9b2f2290e1ed82e96ca864ede354c25b43.
    
    Clamp to 0 while we're here.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/flex.go | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 5bf5f1e64d91af49c20d2a5da90557ae42d3824c
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jul 29 13:36:12 2019 +0200

    cmd/gio: (wasm) support command line flags
    
    Strip also DWARF and the symbol table while here.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/jsbuild.go | 1 +
 1 file changed, 1 insertion(+)

commit 7182e29d28cbed3eb3cae8cee2cbf4a7a729a2c9
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jul 29 12:15:27 2019 +0200

    apps: update gio
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          | 2 +-
 apps/gophers/main.go | 6 ------
 2 files changed, 1 insertion(+), 7 deletions(-)

commit 5f2adf9b2f2290e1ed82e96ca864ede354c25b43
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jul 29 12:12:51 2019 +0200

    ui: get rid of Inf
    
    It's not worth the special cases. Use a large value where needed
    (layout.List, text.Editor...) instead.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/app.go              |  3 ---
 ui/app/internal/gpu/gpu.go | 18 ++----------------
 ui/draw/draw.go            | 15 ++-------------
 ui/layout/flex.go          |  5 +----
 ui/layout/layout.go        | 34 +++++++++++++++-------------------
 ui/layout/list.go          |  8 +++++---
 ui/measure/measure.go      |  4 +---
 ui/text/editor.go          |  4 ++--
 ui/text/label.go           | 22 ++++++----------------
 ui/ui.go                   |  3 ---
 10 files changed, 34 insertions(+), 82 deletions(-)

commit 1b684ffab6fba7baf31bf1e85e2c4b267969b080
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jul 29 02:53:51 2019 -0700

    apps/go.mod: update gio
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 5e1f078b12aeaa9c5c0dc9c6736b57123add22bf
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jul 29 01:02:26 2019 -0700

    ui: merge Transform into TransformOp
    
    The separate Transform type is not worth its weight.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/gpu.go       |  4 ++--
 ui/app/internal/input/pointer.go | 10 +++++-----
 ui/layout/flex.go                |  4 +---
 ui/layout/layout.go              |  4 ++--
 ui/layout/list.go                |  4 +---
 ui/layout/stack.go               |  2 +-
 ui/text/editor.go                |  2 +-
 ui/text/label.go                 |  2 +-
 ui/ui.go                         | 36 +++++++++++++++---------------------
 9 files changed, 29 insertions(+), 39 deletions(-)

commit d178167c3bc41305ab57b43fb029099b8ce69fb6
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 28 13:25:00 2019 -0700

    ui/app/internal/gpu: add workaround for render corruption
    
    Fixes gio#13
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/path.go | 4 ++++
 1 file changed, 4 insertions(+)

commit d93925c0c26289490a2024cde9f4ced0d7e89056
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 26 08:58:01 2019 -0700

    apps/go.mod: upgrade gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a0d1d93ccf58e04e49cf62f385af1ec81abf4b34
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jul 25 17:27:10 2019 -0700

    ui/app: (linux) don't deadlock when failing to create window
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/window.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a2e485b56d2249fca033e4838283963e7f59fa03
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jul 25 13:10:49 2019 -0700

    README.md: add link to Gophercon 2019 talk
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 5 +++++
 1 file changed, 5 insertions(+)

commit c1128e7f8ab888c60b1b7657332720f72843c206
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Jul 24 20:16:38 2019 -0700

    ui/app/internal/gpu: only apply clear optimization for rect clips
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/gpu.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b45222b457004d3c4ed38424e69a2ee4399b5524
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jul 22 11:39:34 2019 +0200

    apps: drop init funcs
    
    Now that Gio runs main functions everywhere, init func are no longer
    necessary.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          |  2 +-
 apps/gophers/main.go | 27 ++++++++++++---------------
 apps/hello/hello.go  |  7 +------
 3 files changed, 14 insertions(+), 22 deletions(-)

commit c080a54038a6eb00e5a6800b0eb74eb3c8df4327
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jul 22 11:17:09 2019 +0200

    ui/app: call main from Android and iOS
    
    Android can only run c-shared libraries which means that every
    Gio program must create its window and event loop from an init
    function.
    
    The same applies to iOS but for a more benign reason: the gio tool
    builds programs in c-archive mode for iOS and links the binary with
    a Objective-C driver.
    
    Allow Gio programs to run off its main function by linking to and
    invoking main even from Android libraries and iOS ditto.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod               |  2 +-
 cmd/gio/iosbuild.go       |  9 ++++++---
 ui/app/GioView.java       | 19 +++++++++----------
 ui/app/datadir_android.go |  4 +---
 ui/app/gl_ios.go          |  2 +-
 ui/app/gl_ios.m           |  2 +-
 ui/app/gl_macos.m         |  2 +-
 ui/app/os_android.c       | 36 +++++++++++++++++++-----------------
 ui/app/os_android.go      | 15 +++++++++++++--
 ui/app/os_android.h       |  3 +++
 ui/app/os_ios.go          |  2 --
 ui/app/runmain.go         | 22 ++++++++++++++++++++++
 ui/app/runmain_ios.go     | 10 ++++++++++
 13 files changed, 87 insertions(+), 41 deletions(-)

commit 4e0d820a5ba822409954617c869dba15aad55676
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jul 22 09:33:53 2019 +0200

    ui/app: (android) block until DataDir is ready
    
    The app data dir is not set until after Go's init functions have
    run, which means that DataDir is inherently racy. Avoid that race
    by blocking in DataDir until it is set from Java.
    In other words, trade a race condition with a deadlock.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/app.go             |  3 +++
 ui/app/datadir_android.go | 18 ++++++++++++++----
 2 files changed, 17 insertions(+), 4 deletions(-)

commit 1ee8c08f3bf94a897d393a95c85cba899a52a551
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 21 22:02:30 2019 +0200

    ui/app: make the default window title "Gio", not "Gio program"
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/window.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f47a38844b9047bc52bc16e0154db175e3d83077
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 21 22:01:29 2019 +0200

    apps: update to newest gio
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dd081c78b96dabbc451cf6634b064d1041cd9f18
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 21 21:58:54 2019 +0200

    ui/app: make DrawEvent optional
    
    It is never a good idea not to draw in response to a DrawEvent, but
    let's not hang the program if it doesn't call Window.Draw.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/window.go | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit 4724666ba072259820360528f15d5e47720515bf
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 21 20:04:59 2019 +0200

    apps/go.mod: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2f9e29d87850873405bf7dbedb1595f689c29c03
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 21 19:19:34 2019 +0200

    ui/app: (macOS) avoid double-drawing in NSOpenGLView update
    
    Instead of drwaing twice when updated, schedule a redraw.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/gl_macos.m | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2cb3832c161ab3bdaf7a1fd513f773722e1950f9
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 21 17:39:14 2019 +0200

    apps/go.mod: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 21ad48b7dee6f4cd10761e7c2b6c791309a63a57
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 21 17:34:12 2019 +0200

    ui/app: (macOS) use consistent scale for pointer events
    
    Instead of querying the backing store scale for every pointer event,
    use the scale from the last window draw. It might not make any visible
    difference because we redraw on scale changes, but it is more correct.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/gl_macos.m  |  3 +--
 ui/app/os_macos.go | 20 ++++++++++++--------
 2 files changed, 13 insertions(+), 10 deletions(-)

commit 71f6df9352c4d62bf9bd2ecbf7718bd8a31229db
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 21 17:20:44 2019 +0200

    ui/app: (macOS) redraw when NSOpenGLView update is called
    
    When moving a window to another monitor, update is called when the
    opengl backing store updates its internal size.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/gl_macos.m  | 4 ++++
 ui/app/os_macos.go | 5 +++--
 2 files changed, 7 insertions(+), 2 deletions(-)

commit 8eea6b80f3e7bc0cb625ca54ff0bb6e8e88c9781
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 21 16:53:44 2019 +0200

    ui/app: (macOS) use a consistent and constant backing store constant
    
    Compute and keep constant the pixel density, to avoid window content
    changes when moving to another monitor with a different density.
    
    Use backing store scale, not content scale for input events.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/gl_macos.m  |  2 +-
 ui/app/os_macos.go | 28 ++++++++++++++++++++++------
 ui/app/os_macos.h  |  2 ++
 ui/app/os_macos.m  | 32 ++++++++++++++++++--------------
 4 files changed, 43 insertions(+), 21 deletions(-)

commit cb59594b5b5f1340eac670cc99901a78754e8e7d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 21 15:36:02 2019 +0200

    Revert "ui/app: make window event queue buffered"
    
    Breaks the ack mechanism of sending a dummy ack event to ensure
    the previous event has been processed.
    
    This reverts commit 7582b835bcd02d36e827f5fd119c466364d719ec.

 ui/app/window.go | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

commit 2cf2f211cb00852b5fafd73987bc07a4067de138
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 21 13:14:57 2019 +0200

    apps/go.mod: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 9e0e4af8c6020ddb299c93b761cdddb4e4b9b20f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 21 13:12:24 2019 +0200

    ui/app,ui/key: move TextInputState from key to internal package
    
    Clients have no need for the TextInputState type.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/input/key.go    | 21 +++++++++++++--------
 ui/app/internal/input/router.go |  2 +-
 ui/app/os_android.go            | 15 ++++++---------
 ui/app/os_ios.go                |  7 +++----
 ui/app/os_js.go                 |  7 +++----
 ui/app/os_macos.go              |  2 +-
 ui/app/os_wayland.go            |  2 +-
 ui/app/os_windows.go            |  2 +-
 ui/app/window.go                | 28 ++++++++++++----------------
 ui/key/key.go                   |  9 ---------
 10 files changed, 41 insertions(+), 54 deletions(-)

commit b46bad09bd8623033e45cc9c3eabe5d81f465aad
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 21 12:53:28 2019 +0200

    ui/app: remove redundant redraw check
    
    Now that the input router triggers a redraw when a focus event is
    added, it is no longer necessary to check for that condition in
    Window.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/window.go | 4 ----
 1 file changed, 4 deletions(-)

commit 3f7735ccdf2611e8d081b9e0d24ccd623387fbae
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 21 12:50:53 2019 +0200

    ui/app/internal/input: redraw if focus events was added
    
    The key queue might generate focus events. Schedule a redraw if so.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/input/router.go | 4 ++++
 1 file changed, 4 insertions(+)

commit 7582b835bcd02d36e827f5fd119c466364d719ec
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 21 12:43:42 2019 +0200

    ui/app: make window event queue buffered
    
    Input events are asynchronous, so add buffered to the event queue
    so that a slow client does not stall the native window.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/window.go | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit 5f0047567e6be49c2effed70f32b5ba41740ef0e
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 21 11:50:43 2019 +0200

    apps: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          |  2 +-
 apps/gophers/main.go | 77 +++++++++++++++++++++++++++++------------------------------------------------
 apps/hello/hello.go  |  4 ++--
 3 files changed, 32 insertions(+), 51 deletions(-)

commit b6290990ad93a2971ac9e3a0135c0ecbf4fcc2e7
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 21 11:44:48 2019 +0200

    ui/text,ui/layout: move ui.Config and input.Queue to parameters
    
    I too often forget to initialize widgets' config and queue. Moving
    them from fields to parameters fix that. The change results in a
    little more verbosity but cleaner code.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/list.go     | 12 +++++++-----
 ui/measure/measure.go |  9 +++++----
 ui/text/editor.go     | 40 +++++++++++++++++++---------------------
 3 files changed, 31 insertions(+), 30 deletions(-)

commit 6c0850ce604aceb443596f38203db878ebb5d4e2
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Jul 20 16:26:24 2019 +0200

    apps/go.mod: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cd244f21ab23048a4af6bd0e12ae4a75c74e564d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Jul 20 16:22:41 2019 +0200

    ui/app: (macOS) don't release opengl context
    
    I haven't found a reliable way to re-create the context and redraw
    after deminiaturization or app unhide.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/gl_macos.go | 2 --
 ui/app/gl_macos.h  | 1 -
 ui/app/gl_macos.m  | 5 -----
 3 files changed, 8 deletions(-)

commit 05f0c3e22a4c4773651a05b3e80ea3889e419a97
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Jul 20 15:47:02 2019 +0200

    ui/app: (macOS) destroy the GL context correctly
    
    The NSOpenGLView owns the NSOpenGLContext so we can't just CFRelease
    the context. Use [NSOpenGLView releaseGLContext] instead.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/gl_macos.go | 15 +++++++++------
 ui/app/gl_macos.h  |  1 +
 ui/app/gl_macos.m  |  5 +++++
 3 files changed, 15 insertions(+), 6 deletions(-)

commit 0b6e6c58dd7d2a676061bbbb9a61a08bdbe27f2a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Jul 20 14:20:59 2019 +0200

    ui/app: return a concrete Queue from Window.Queue
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/window.go | 31 +++++++++++++++++++++----------
 1 file changed, 21 insertions(+), 10 deletions(-)

commit 4a9b6f30071c6221cf8e5833f5d55a738d374867
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 19 13:20:54 2019 +0200

    apps/go.mod: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6b5714d15d6baa900138668bdd5c041dd0c5bd32
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 19 13:19:35 2019 +0200

    ui/app: (macOS) ignore asynchronous redraws to deleted windows
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_macos.go | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 7f5393f9bed6c4e9b099c360c764aeec5b6025b6
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 19 01:22:50 2019 +0200

    apps: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit a140527b08c9f49aab7ca1d741cd981f354fe699
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 19 01:18:48 2019 +0200

    ui/app: (macOS) serialize access to the views map
    
    The CVDisplayLink used for synchronizing rendering to the display
    refresh rate runs on a separate thread from the main thread.
    View callbacks must therefore be serialized. Implement that by
    introducing a singleton goroutine that owns the view map and runs
    incoming commands.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_macos.go | 127 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++----------------------------
 1 file changed, 92 insertions(+), 35 deletions(-)

commit a36372a2430bccc7fc5b97d1291fb1a68bb3518d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jul 18 21:14:22 2019 +0200

    apps: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c94315119b0b8dd6ed71801c02fc9b7767280473
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jul 18 21:06:06 2019 +0200

    ui/app/internal/input: only drop handlers completely when inactive
    
    Delete a redundant loop; dropHandlers already does the required work.
    
    Fixes pointer event issues found after pointer events with no side
    effects no longer trigger redraws.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/input/pointer.go | 12 +-----------
 1 file changed, 1 insertion(+), 11 deletions(-)

commit 75891f024c008430b797386416e29e37f3b11949
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jul 18 18:46:34 2019 +0200

    apps/gophers: update to rename Window.Invalidate method
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          |  2 +-
 apps/gophers/main.go | 14 ++++++--------
 2 files changed, 7 insertions(+), 9 deletions(-)

commit d9d8df989d4cd80212b0af382b453621c707f45f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jul 18 18:41:39 2019 +0200

    ui/app: rename Window.Redraw to Invalidate to match ui.InvalidateOp
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/input/router.go | 16 ++++++++--------
 ui/app/window.go                | 31 +++++++++++++++++--------------
 2 files changed, 25 insertions(+), 22 deletions(-)

commit 8fc7a316cc7725ad36909076fc2530e158f6296a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jul 18 16:00:24 2019 +0200

    apps/gophers: update to renamed ImageOp.Src field
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          | 2 +-
 apps/gophers/main.go | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 84fb7279eb3bc6dbd083151e7dbe2bd3dcc76f80
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jul 18 15:58:11 2019 +0200

    ui/draw: rename ImageOp.Img to Src
    
    To match widget.Image.Src field name.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/gpu.go | 2 +-
 ui/draw/draw.go            | 6 +++---
 ui/widget/image.go         | 2 +-
 3 files changed, 5 insertions(+), 5 deletions(-)

commit 934aa4fe8d61b6c6b0113cc7fd1508aafd4fa6f6
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Jul 16 18:56:22 2019 +0200

    README.md: add shameless plug to Scatter
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 4 ++++
 1 file changed, 4 insertions(+)

commit fd096e8838357de63fef1825e29c8019036fad0e
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Jul 16 14:30:59 2019 +0200

    ui/input,ui/layout: update comments
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/input/input.go   | 4 ++--
 ui/layout/layout.go | 4 ++++
 2 files changed, 6 insertions(+), 2 deletions(-)

commit b4441a8728e5ee704fcaf8173ffdbc7d104c611e
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Jul 16 13:53:57 2019 +0200

    ui: reset StackOp in Pop
    
    To enable re-use.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/ops.go | 1 +
 1 file changed, 1 insertion(+)

commit 8f0d741d9f2f14fd73d018300389fa0e71f11ad4
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Jul 16 13:51:20 2019 +0200

    apps/gophers: update to StackOp
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          | 2 +-
 apps/gophers/main.go | 5 +++--
 2 files changed, 4 insertions(+), 3 deletions(-)

commit 586d33c26e58b076f5f11bd842ca50a82be21f9c
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Jul 16 13:41:10 2019 +0200

    ui: replace PushOp, PopOp with a StackOp
    
    Before this change, there was no guarantee that a PopOp matched
    the intended PushOp. With a single stack operation, the client is
    forced to match pop with the right push.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/flex.go   |  5 +++--
 ui/layout/layout.go | 13 ++++++-------
 ui/layout/list.go   |  5 +++--
 ui/layout/stack.go  |  5 +++--
 ui/ops.go           | 32 ++++++++++++++++++++++++++------
 ui/text/editor.go   | 10 ++++++----
 ui/text/label.go    |  5 +++--
 7 files changed, 50 insertions(+), 25 deletions(-)

commit f9fda47d256f9d29a360d599ed38c2f2b6b51c31
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Jul 16 13:24:41 2019 +0200

    apps: update to newest macro api
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          |  2 +-
 apps/gophers/main.go | 13 ++++++++-----
 apps/hello/hello.go  |  5 +++--
 3 files changed, 12 insertions(+), 8 deletions(-)

commit 94a913a371c43b5df8ac688f7e8b58661fafb1cd
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Jul 16 13:00:56 2019 +0200

    ui: move macro recording from Ops to MacroOp
    
    Move the Record and Stop methods from Ops to MacroOp itself.
    
    Before this change, Ops.Stop stopped the recording of the most
    recent macro, which could be a different macro than intended.
    After this change, there is no such confusion.
    
    As a bonus, the Ops API becomes less cluttered.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/flex.go     |  7 ++++---
 ui/layout/layout.go   |  7 ++++---
 ui/layout/list.go     | 14 ++++++++------
 ui/layout/stack.go    |  7 ++++---
 ui/measure/measure.go |  6 ++++--
 ui/ops.go             | 88 +++++++++++++++++++++++++++++++++++++++++++---------------------------------------------
 6 files changed, 67 insertions(+), 62 deletions(-)

commit ba9ffe846e4724bddb966446cc039e39d4ba56da
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Jul 16 12:44:23 2019 +0200

    ui: merge opsData type with Ops
    
    opsData wasn't worth the complexity.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/ops.go | 66 +++++++++++++++++++++++++++++-------------------------------------
 1 file changed, 29 insertions(+), 37 deletions(-)

commit 6947ed9312ca4762aed5b0834515168f49e0dbd4
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Jul 16 12:32:39 2019 +0200

    ui/app: go fmt
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_windows.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit eb9c2896cd1f89a1590eac102f017317285dfc1f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jul 15 21:43:53 2019 +0200

    ui/layout: round, not truncate, flex sizes in Flex.Flexible
    
    Without proper rounding, a pixel could be left uncovered at the end
    of the flex layout.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/flex.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f32b5fef4351ce7dbf6966354a18149da9cfd6a1
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jul 15 21:12:53 2019 +0200

    apps/gophers: update to renamed layout.Inset and layout.UniformInset
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          |  2 +-
 apps/gophers/main.go | 24 ++++++++++++------------
 2 files changed, 13 insertions(+), 13 deletions(-)

commit 00b9ff603f381885c2a393ac84545a0d64069529
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jul 15 21:07:52 2019 +0200

    ui/layout: rename Insets to Inset and EqualInsets to UniformInset
    
    Rename Insets to the verb Inset for consistency with Align.
    
    Uniform is a better description than Equal for the result of
    UniformInset.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/layout.go | 12 +++++++-----
 1 file changed, 7 insertions(+), 5 deletions(-)

commit 5b7b1eb00146f2e1906c0ee8f7ad31d451171b75
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jul 15 20:39:15 2019 +0200

    apps: upgrade to the block to macro rename
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          |  2 +-
 apps/gophers/main.go | 24 ++++++++++++------------
 apps/hello/hello.go  |  4 ++--
 3 files changed, 15 insertions(+), 15 deletions(-)

commit 3b5fcfe2bb554542a217b82583108d458d9d3623
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jul 15 20:31:11 2019 +0200

    ui: rename block to macro
    
    It is a more precise name.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/internal/ops/ops.go | 14 +++++++-------
 ui/layout/flex.go      | 10 +++++-----
 ui/layout/layout.go    |  6 +++---
 ui/layout/list.go      | 16 ++++++++--------
 ui/layout/stack.go     |  8 ++++----
 ui/measure/measure.go  | 10 +++++-----
 ui/ops.go              | 81 +++++++++++++++++++++++++++++++++++++++++----------------------------------------
 ui/text/editor.go      |  4 ++--
 ui/text/label.go       |  2 +-
 ui/text/measure.go     |  2 +-
 10 files changed, 77 insertions(+), 76 deletions(-)

commit f36070f71656b3ccabaa62864311cbae4b6bffb0
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jul 15 19:29:42 2019 +0200

    ui/layout: delete Constraints.Expand and Constraints.Loose
    
    They're not (yet) shown their use.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/layout.go | 20 +++-----------------
 1 file changed, 3 insertions(+), 17 deletions(-)

commit a8aa1a9c7eac92da467979b8b755102af52672ce
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jul 15 19:17:14 2019 +0200

    apps: update to newest gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          | 2 +-
 apps/gophers/main.go | 9 +++++----
 apps/hello/hello.go  | 2 +-
 3 files changed, 7 insertions(+), 6 deletions(-)

commit 667670f9c65670bf48034962d4d02119f8ad402a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jul 15 19:12:35 2019 +0200

    ui/layout: delete Constraints.Exact and rename ExactConstraints
    
    Exact was too special and can be expressed with RigidConstraints.
    
    RigidConstraints is a better name ("rigid" was in the comment!)
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/layout.go | 26 +++-----------------------
 1 file changed, 3 insertions(+), 23 deletions(-)

commit 8eb58ff2ebb33d19789084e28828f8676fa8699c
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jul 15 11:42:47 2019 +0200

    ui: support Window.Draw(nil) in OpsReader
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/ops.go | 11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

commit 5b3090b128ef0cd9f5a5adccb7e1c3f69a048bf9
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jul 15 09:09:30 2019 +0200

    ui: don't keep references alive in Ops.Reset
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/ops.go | 4 ++++
 1 file changed, 4 insertions(+)

commit 09b5752659136857828aeb2df5c49dc314d5ca68
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 14 21:51:32 2019 +0200

    ui/app: use the delayed redraw timer directly in the Window run loop
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/window.go | 11 +++++++++--
 1 file changed, 9 insertions(+), 2 deletions(-)

commit 07622a295cb28edd887b242d470bf87e58a35d69
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 14 20:37:27 2019 +0200

    ui/app: replace locking with channels in Window implementation
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_wayland.go |   3 +-
 ui/app/window.go     | 265 ++++++++++++++++++++++++++++++++++++++++++++++++-------------------------------------------------
 2 files changed, 132 insertions(+), 136 deletions(-)

commit 619a90a6460267fecbe59f8a0e51ffbb7cac9e65
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 14 19:35:12 2019 +0200

    apps/go.mod: update gio dependency
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 587b88d346ee89af9cbe7a22da6286ce8a5a40a4
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 14 19:24:35 2019 +0200

    ui/app: don't draw or handle events if window is dead
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/window.go | 20 +++++++++++---------
 1 file changed, 11 insertions(+), 9 deletions(-)

commit 26543ba1a51bf731f3951ae28f0436912313c047
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 14 13:10:42 2019 +0200

    apps: use DrawEvent.Size instead of Window.Size
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          | 2 +-
 apps/gophers/main.go | 2 +-
 apps/hello/hello.go  | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 6e97d65af145a4697a8e5e515ac375d9fa0cb32b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 14 13:08:34 2019 +0200

    ui/app: delete Window.Size method
    
    Clients should use the size from DrawEvent instead.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/window.go | 6 ------
 1 file changed, 6 deletions(-)

commit cde040369cfca37e1acfc90f63d4d49928711a65
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Jul 13 20:19:25 2019 +0200

    cmd/gio: use the import path as basis for the output file
    
    Before this change `go list <pkg>` was used to sanitize the import
    path of the package argument. That doesn't work well for building
    Go source files directly:
    
    gio -target android helloworld.go
    
    where `go list helloworld.go` simply returns "command-line-arguments".
    
    A better way is to leave the package path alone, and compute the
    output file separately from the import path, as reported by
    `go list -f {{.ImportPath}} <pkg>`.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/androidbuild.go |  6 +++---
 cmd/gio/gio.go          | 10 +++++++---
 cmd/gio/iosbuild.go     |  4 ++--
 cmd/gio/jsbuild.go      |  2 +-
 4 files changed, 13 insertions(+), 9 deletions(-)

commit 41990e3275819f4092aa552da66f6dd25123170d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Jul 13 13:30:38 2019 +0200

    apps/go.mod: update
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 112368a2e39a89c4d3a3f4229a5b8b8bf91b17a7
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Jul 13 13:27:02 2019 +0200

    ui/app: add a DataDir fallback to Go 1.12
    
    o.UserConfigDir is introduced in Go 1.13, which is not released yet.
    Add a Go 1.12 stopgab until then.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/datadir.go       |  2 +-
 ui/app/datadir_go112.go | 12 ++++++++++++
 2 files changed, 13 insertions(+), 1 deletion(-)

commit 4cde5d57d7fafdf9c6861c878351bf04f14f70a8
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Jul 13 13:14:30 2019 +0200

    ui/app: remove two redundant assignments
    
    StagePaused is the zero value now that StateDead is gone.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_windows.go | 1 -
 ui/app/window.go     | 1 -
 2 files changed, 2 deletions(-)

commit e13b9a499082d638c3bf015b6f3390942c133dd8
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Jul 13 11:43:54 2019 +0200

    apps: support DestroyEvent
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          |  2 +-
 apps/gophers/main.go | 36 ++++++++++++++++--------------------
 apps/hello/hello.go  | 12 +++---------
 3 files changed, 20 insertions(+), 30 deletions(-)

commit 59e92e8233a48584c8e2c6833900678418b3ab82
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Jul 13 11:41:12 2019 +0200

    ui/app: introduce DestroyEvent for ending the event loop
    
    Replace the StageDead stage with DestroyEvent dedicated to ending
    the event loop and, for premature window closes, the error.
    
    Drop the error return from NewWindow; any errors in window creation
    will appear as an immediate DestroyEvent with its Err field set.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/app.go        | 24 ++++++++++++++++--------
 ui/app/os_ios.go     |  2 +-
 ui/app/os_macos.go   |  2 +-
 ui/app/os_wayland.go |  6 ++++--
 ui/app/os_windows.go |  6 ++++--
 ui/app/window.go     | 41 +++++++++++++++++++++++++----------------
 6 files changed, 51 insertions(+), 30 deletions(-)

commit 8e307b40a6f4989545089eba10a72c4342d86fb4
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 12 20:04:02 2019 +0200

    apps: update to new NewWindow API
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          |  2 +-
 apps/gophers/main.go | 25 ++++++++++---------------
 apps/hello/hello.go  | 18 +++++++-----------
 3 files changed, 18 insertions(+), 27 deletions(-)

commit a3b9c7818fa77861204c0d79e9e52896a2be3f65
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 12 19:21:02 2019 +0200

    ui/app: create windows directly
    
    Replace CreateWindow with NewWindow that immediately creates a Window
    ready to use.
    
    Drop the Windows channel of windows created by the system. For iOS
    and Android where the system creates the windows, let them rendezvous
    with the window created in the first NewWindow call.
    
    Android is further changed so that destroying and re-creating the
    Java Activity simply reconnects with the original Window.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/app.go        | 62 ++++++++++++++++++++++++++++++++++++++------------------------
 ui/app/os_android.go | 19 +++++++++++--------
 ui/app/os_ios.go     | 15 +++++++++------
 ui/app/os_js.go      |  6 +++---
 ui/app/os_macos.go   | 30 +++++++++---------------------
 ui/app/os_wayland.go | 10 ++++------
 ui/app/os_windows.go | 10 +++++-----
 ui/app/window.go     | 43 +++++++++++++++++++++++++++++++++++++------
 8 files changed, 116 insertions(+), 79 deletions(-)

commit 46cee54dd6b033277a203aa2913d8077539969a7
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 12 20:46:56 2019 +0200

    io/app/internal/input: go fmt
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/input/router.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 98e1ef177c78fd8d8b4f3bc06d5508215e6826f2
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 12 15:56:02 2019 +0200

    apps/gophers: update system package path
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          | 2 +-
 apps/gophers/main.go | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 2296393471aec887d9ea9549461134d9b540a38b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 12 15:54:41 2019 +0200

    ui/system: move package ui/input/system
    
    Just like the pointer and key packages.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/input/router.go | 2 +-
 ui/app/window.go                | 2 +-
 ui/{input => }/system/system.go | 0
 3 files changed, 2 insertions(+), 2 deletions(-)

commit 93368253ac506d3b2bfa9b46cbde58a83628f30c
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 12 15:44:19 2019 +0200

    ui/app: delete unused Input type
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/app.go | 4 ----
 1 file changed, 4 deletions(-)

commit 759fdb2efefffdbb3841966b9d8e14ef83bd58e1
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 12 15:41:10 2019 +0200

    apps/gophers: simplify type switch
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/gophers/main.go | 18 ++++++++----------
 1 file changed, 8 insertions(+), 10 deletions(-)

commit 1336ca109ade92a068e55d8c718f064f26eed73b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 12 15:36:38 2019 +0200

    apps/gophers: upgrade to new profiling api
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          |  2 +-
 apps/gophers/main.go | 47 +++++++++++++++++++++++++++++++----------------
 2 files changed, 32 insertions(+), 17 deletions(-)

commit 86533ae683e06627066e9d4ea1d3c9ede5a99784
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 12 15:31:29 2019 +0200

    ui/input/system: introduce package for system events
    
    And add ProfileOp and ProfileEvent for registering and receiving
    profile data.
    
    Remove the Profiling field and Timings method from app.Window.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/input/router.go | 20 ++++++++++++++++++++
 ui/app/window.go                | 15 +++++----------
 ui/input/system/system.go       | 41 +++++++++++++++++++++++++++++++++++++++++
 ui/internal/ops/ops.go          |  5 ++++-
 4 files changed, 70 insertions(+), 11 deletions(-)

commit 032e9a380edb5589afa1bc6746990b9fc714766c
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 12 15:11:20 2019 +0200

    ui/app,ui/internal/input: move InvalidateOp summary to Router
    
    In preparation for extracting more op types in Router.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/input/router.go | 30 ++++++++++++++++++++++++++++++
 ui/app/window.go                | 25 ++-----------------------
 2 files changed, 32 insertions(+), 23 deletions(-)

commit c7eb9be9f3ea9a0d7daf008885d53c3a590a8cb7
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 12 14:53:45 2019 +0200

    ui/key,ui/pointer: replace Key types with input.Key
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/key/key.go         | 7 +++----
 ui/pointer/pointer.go | 7 +++----
 2 files changed, 6 insertions(+), 8 deletions(-)

commit 25a20af2843d57abbfc0ece8b9ada44be7318112
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 12 14:37:30 2019 +0200

    ui/app: only schedule a redraw when events are available
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/window.go | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit ba1881740080d151f0554fe964163b4711f17428
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 12 14:34:24 2019 +0200

    ui/app/internal/input: add tracking up updates to handlerEvents
    
    In preparation for only redrawing when new events are available.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/input/key.go     | 17 ++++++++---------
 ui/app/internal/input/pointer.go | 10 +++++-----
 ui/app/internal/input/router.go  | 62 +++++++++++++++++++++++++++++++++++++++++++++-----------------
 3 files changed, 58 insertions(+), 31 deletions(-)

commit c7fda6d37d3c3d69d483e9f383d1cd605b5f820b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 12 14:08:59 2019 +0200

    apps/gophers: add explicit redraws
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          | 2 +-
 apps/gophers/main.go | 2 ++
 2 files changed, 3 insertions(+), 1 deletion(-)

commit 326f78c3413a018a52e027fff320b4d054a91083
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 12 14:05:18 2019 +0200

    ui/app: don't implicitly redraw for each CommandEvent
    
    Redrawing should only be scheduled when some UI state has changed.
    
    Window has no way to know whether a CommandEvent was ignored by
    the client, so push the onus to the client to schedule a redraw.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/window.go | 1 -
 1 file changed, 1 deletion(-)

commit 343934d3de1e988916babf4c8f7ec96b6189bd75
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 12 14:02:54 2019 +0200

    apps/gophers: replace own input router with the window's Queue
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          | 2 +-
 apps/gophers/main.go | 9 +++------
 2 files changed, 4 insertions(+), 7 deletions(-)

commit 46850653ef213668b57c00d1411f0281eab211bc
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 12 13:58:27 2019 +0200

    ui/app: unexport Window.SetTextInput
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/window.go | 11 +++--------
 1 file changed, 3 insertions(+), 8 deletions(-)

commit cbdda4e9c5c4531dc0bcdbc9706f5f34d45399ea
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 12 13:51:00 2019 +0200

    ui/input: move Router and input queues to internal package
    
    Now that only app.Window needs the Router, make it unavailable for
    clients.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/{ => app/internal}/input/key.go     | 15 ++++++++-------
 ui/{ => app/internal}/input/pointer.go | 17 +++++++++--------
 ui/{ => app/internal}/input/router.go  |  7 ++++---
 ui/app/window.go                       |  3 ++-
 4 files changed, 23 insertions(+), 19 deletions(-)

commit 0d924a1950f5f6faa8f8b908e12509a25efbfd5e
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 12 13:39:56 2019 +0200

    ui/app: add input queue to Window
    
    I see no point in forcing the client to manage input events. Let's
    put it on Window for now.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/window.go | 12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

commit b8eca3927729445e7399e2d4533b7b9adca86a19
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 12 13:32:16 2019 +0200

    ui/app: comment fix
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/window.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit fb9e5ca9022e9b698f64afcccf482490e749725e
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 12 12:24:31 2019 +0200

    ui/pointer: ignore hits to dropped handlers
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/input/pointer.go | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 3a6fda129a638467efe6ed5f06d6c603b88caf39
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 12 11:44:50 2019 +0200

    ui: shorten OpReader.Decode for loops
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/gpu.go | 6 +-----
 ui/app/window.go           | 6 +-----
 ui/input/key.go            | 6 +-----
 ui/input/pointer.go        | 6 +-----
 4 files changed, 4 insertions(+), 20 deletions(-)

commit 3c2c404fa9699806739e6f8a8bc754f39ad25a6c
Author: Dan Kortschak <dan@kortschak.io>
Date:   Fri Jul 12 08:01:59 2019 +0930

    apps/hello: fix loop variable captured by func literal
    
    Signed-off-by: Dan Kortschak <dan@kortschak.io>

 apps/hello/hello.go | 1 +
 1 file changed, 1 insertion(+)

commit 96b52d3493d3158e24ce0b329925c7fbca8240fa
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 12 00:07:18 2019 +0200

    apps/gophers: upgrade to changed input api
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          | 2 +-
 apps/gophers/main.go | 8 ++++----
 2 files changed, 5 insertions(+), 5 deletions(-)

commit a22bcfc88c893452b8308e4cdc92afd3b291658d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 12 00:03:52 2019 +0200

    ui/input: rename Queue to Router and Events to Queue
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/gesture/gestures.go           |  4 ++--
 ui/input/input.go                |  4 ++--
 ui/input/{queue.go => router.go} | 16 ++++++++--------
 ui/layout/list.go                |  2 +-
 ui/text/editor.go                |  2 +-
 5 files changed, 14 insertions(+), 14 deletions(-)

commit 6a4ba30c96e7d98a66aa2047e26510aab83d400e
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jul 11 23:46:11 2019 +0200

    ui/text: shorten event loop in Editor.Layout
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/text/editor.go | 5 +----
 1 file changed, 1 insertion(+), 4 deletions(-)

commit 37ac75f3bb4c01e02c9b35027f09c534b1bc3f77
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jul 11 23:43:42 2019 +0200

    ui/gesture: switch Click to return all events
    
    Simpler and more ergonomic for clients.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/gesture/gestures.go | 9 +++++----
 ui/text/editor.go      | 6 +-----
 2 files changed, 6 insertions(+), 9 deletions(-)

commit 1735d5ced8937ff6f853aa8b01fed3140738c744
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jul 11 23:39:25 2019 +0200

    ui/input: change Events to return all events at once
    
    Single stepping events only makes sense for widgets with complex
    state, e.g. the text.Editor. For the input.Events source, returning
    all events in a single Events call is sufficient and more natural
    for clients.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/gesture/gestures.go | 12 ++----------
 ui/input/input.go      |  2 +-
 ui/input/queue.go      | 10 +++-------
 ui/text/editor.go      |  6 +-----
 4 files changed, 7 insertions(+), 23 deletions(-)

commit a9d4186bef163dafaed6361c6a98d28f1a04b8c3
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jul 11 23:33:43 2019 +0200

    apps/gophers: move user list click handling earlier
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/gophers/main.go | 19 +++++++++----------
 1 file changed, 9 insertions(+), 10 deletions(-)

commit fc7bb79c36d38be417ee4bb9e49ddabd520daf72
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jul 11 20:15:11 2019 +0200

    apps/gophers: remove CrossAxisAlignment Stretch values
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          | 2 +-
 apps/gophers/main.go | 7 +++++--
 2 files changed, 6 insertions(+), 3 deletions(-)

commit 0d49eb3f4b31b9a91b23526bd0c2b0e67ea709b4
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jul 11 20:13:10 2019 +0200

    ui/layout: drop CrossAxisAlignment value Stretch
    
    It doesn't carry its own weight; client can just as easily adjust
    the Constraints themselves.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/flex.go | 16 ++--------------
 ui/layout/list.go | 10 +---------
 2 files changed, 3 insertions(+), 23 deletions(-)

commit 5c3398f33d8de025bb916c14a5835eecb183165f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jul 11 19:17:16 2019 +0200

    apps/gophers: drop MainAxisSize from Flex initializers
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          | 2 +-
 apps/gophers/main.go | 6 +++---
 2 files changed, 4 insertions(+), 4 deletions(-)

commit 10ef4576e7de31a3a16c66808b7461b15b965905
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jul 11 19:15:17 2019 +0200

    ui/layout: drop Flex.MainAxisSize setting and MainAxisSize type
    
    The setting doesn't bear its own weight; it's simpler for the client
    to adjust the constraints itself.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/flex.go | 14 +-------------
 1 file changed, 1 insertion(+), 13 deletions(-)

commit c7e85efc275f5beac7ebcc1d5bee7a7226dc9e82
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jul 11 19:03:45 2019 +0200

    ui/layout: ensure that flex weights add to 1
    
    Before this change, the weight applied to the space left, not the
    total space available after rigid children.
    
    While here, ensure that weight sums > 1 are capped to the available
    space.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/flex.go | 68 +++++++++++++++++++++++++++++++++++++++++++++-----------------------
 1 file changed, 45 insertions(+), 23 deletions(-)

commit 9f394109cb4b7eafb1353580d72779d33773901f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jul 11 18:46:58 2019 +0200

    apps/gophers: update to simpler Flex.Flexible method
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          |  2 +-
 apps/gophers/main.go | 10 +++++++---
 2 files changed, 8 insertions(+), 4 deletions(-)

commit 449c2b844a409d979d74b4b30ad54efc008bd43f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jul 11 18:44:44 2019 +0200

    ui/layout: drop FlexMode
    
    The type and argument to Flex.Flexible does not carry its weight;
    It is just as easy to expand the constraint directly.
    
    While we're here, rename the flex argument to weight which is clearer.

 ui/layout/flex.go | 13 ++-----------
 1 file changed, 2 insertions(+), 11 deletions(-)

commit 15505cd63586079101f5f84b8a0ea514e1f3d798
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jul 11 18:11:26 2019 +0200

    apps/gophers: upgrade to new layout.List API
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          |  2 +-
 apps/gophers/main.go | 23 ++++++-----------------
 2 files changed, 7 insertions(+), 18 deletions(-)

commit fe4a61ec890fbc0989c07f39803966765342e372
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jul 11 18:07:16 2019 +0200

    ui/layout: make List more friendly to for loops
    
    With this change, a List l can be iterated with
    
        for l.Init(...); l.More(); l.Next() {
            l.Elem(..., l.Constraints(), l.Index())
        }
    
    instead of
    
       l.Init(...)
       for {
           i, cs, ok := l.Next()
           if !ok {
                   break
           }
           l.End(..., cs, i))
        }
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/list.go | 53 +++++++++++++++++++++++++++++++++++++++++------------
 1 file changed, 41 insertions(+), 12 deletions(-)

commit 431fa218b2ba961cec040b9db8f525a80d1cafeb
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jul 11 16:56:56 2019 +0200

    apps/gophers: larger font sizes and a layout fix
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          |  2 +-
 apps/gophers/main.go | 14 +++++++-------
 2 files changed, 8 insertions(+), 8 deletions(-)

commit bcd5685e78c67423221716aaf52efc5bbe758521
Author: Dan Kortschak <dan@kortschak.io>
Date:   Thu Jul 11 22:46:25 2019 +0930

    apps/hello: use correct Config type
    
    Signed-off-by: Dan Kortschak <dan@kortschak.io>

 apps/hello/hello.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f4461721e3f715d36db5a9585c662a4d1fd64462
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jul 11 14:55:51 2019 +0200

    ui/app: tweak monitor scale
    
    Don't apply monitor scale to wayland font sizes, since it detects
    the user scale itself.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          | 2 +-
 ui/app/app.go        | 2 +-
 ui/app/os_android.go | 6 +++---
 ui/app/os_wayland.go | 9 +++++++--
 4 files changed, 12 insertions(+), 7 deletions(-)

commit 478d56102a83c662265c634701fdd10c45dc6de7
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jul 11 14:30:09 2019 +0200

    ui/app: introduce Insets for system decoration insets
    
    Insets is like image.Rectangle, but with properly named fields
    and ui.Value instead of raw ints to make use with the layout
    package easier.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/app.go        | 12 ++++++++----
 ui/app/os_android.go | 11 +++++++----
 ui/app/os_ios.go     |  9 ++++++---
 3 files changed, 21 insertions(+), 11 deletions(-)

commit 9d8d5da1069ac944c0d5d086eac8dbd96b9d8e00
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jul 11 13:22:42 2019 +0200

    cmd/gio: (android) don't compress resources.arsc in apks
    
    Compressing resources.arsc result in warnings such as
    
    "resources.arsc in APK '...' is compressed."
    
    in the adb logs.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/androidbuild.go | 26 ++++++++++++++++++++++++--
 1 file changed, 24 insertions(+), 2 deletions(-)

commit 15c4ce9e2232b454821515d45922bc48b7c269f3
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jul 11 13:03:31 2019 +0200

    ui/app,cmd/gio: support edge-to-edge layout on Android
    
    Implement recomendations from
    https://developer.android.com/preview/features/gesturalnav#java
    
    While here, give up on providing translucent top and bottom bars on
    Android 4.4 and below. It's simpler to use the app drawn system
    backgrounds from 5.0 and newer.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/androidbuild.go | 56 ++++++++++++++++++++++++++++++++++++++++++++++++++------
 cmd/gio/iosbuild.go     |  6 +++---
 ui/app/GioActivity.java |  6 +++---
 3 files changed, 56 insertions(+), 12 deletions(-)

commit 828a695086eac28359605b41a7cbf67510517e5b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jul 11 11:11:06 2019 +0200

    cmd/gio: rename -v to -x and add -work
    
    The verbose flag only triggered printing of commands, which is
    traditionally named -x by other Go tools.
    
    The -work flag will print and preserve the temporary directory.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/gio.go | 21 +++++++++++++--------
 1 file changed, 13 insertions(+), 8 deletions(-)

commit 896f5a77dd20d42f4bd6ec1044473d2fbadcbd1e
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jul 11 09:18:56 2019 +0200

    ui/layout: don't stretch Align child
    
    Let the caller decide whether the constraints should be stretched.
    
    Also unexport Constraint (not Constraints) methods, they weren't
    pulling their weight.
    
    Finally, don't force cross axis constraint minimum to 0 in List.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/layout.go | 24 ++++++++++++------------
 ui/layout/list.go   |  5 +----
 2 files changed, 13 insertions(+), 16 deletions(-)

commit dbe15b23a9d056e5500815f4a6282f9bbdce9c4d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Jul 10 23:00:42 2019 +0200

    apps/gophers: update to new split area ops
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          | 2 +-
 apps/gophers/main.go | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 4fadf71992ffd469b297c1994d05acb2c5716409
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Jul 10 22:55:16 2019 +0200

    ui/pointer: split AreaOp into RectAreaOp and EllipseAreaOp
    
    Now that the pass through mode is moved into its own PassOp op,
    it doesn't make sense to collect all area types into one exported
    type.
    
    Add RectAreaOp and EllipseAreaOp for clients; the internal
    representation is still a single op. It can be changed later without
    breaking clients.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/input/pointer.go   | 60 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++--
 ui/layout/list.go     |  2 +-
 ui/pointer/pointer.go | 71 ++++++++++++++++++++---------------------------------------------------
 ui/text/editor.go     |  2 +-
 4 files changed, 80 insertions(+), 55 deletions(-)

commit f44ccec04361f090a930ac7350c4641c3d0d1729
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Jul 10 22:34:24 2019 +0200

    ui/pointer: simplify pointer pass through
    
    Get rid of the confused LayerOp and the transparent property from
    AreaOp. Add an explicit PassOp to specify whether pointer events
    pass-through the current area.
    
    Let AreaOp swallow events even when no handlers are active for the
    area. That behaviour is less surprising and allow clients to disable
    a widget by keeping its areas but leave out its handlers.
    
    Simplify the pointer.HitResult enum to just a bool: hit or no hit.
    
    Finally, simplify the pointer queue by tracking parent areas and
    node with indices.

 ui/input/pointer.go    | 155 ++++++++++++++++++++++++++++++++++++++++++-----------------------------------------------------
 ui/internal/ops/ops.go |   3 ++
 ui/layout/flex.go      |   1 -
 ui/layout/list.go      |   1 -
 ui/layout/stack.go     |   1 -
 ui/pointer/pointer.go  |  48 ++++++++++++++++++------------
 ui/ui.go               |  23 ++------------
 7 files changed, 103 insertions(+), 129 deletions(-)

commit f90ef91b19dd5be4e6a6c7f39f11da77178c0387
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Jul 10 20:47:42 2019 +0200

    ui: fix comment for TransformOp

 ui/ui.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cadfc88be2787be3ecf37ca69d576a55a707ec77
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Jul 10 17:23:31 2019 +0200

    cmd/gophers: update to ui.Config as an interface
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          |  2 +-
 apps/gophers/main.go | 20 ++++++++++----------
 2 files changed, 11 insertions(+), 11 deletions(-)

commit 32aae1829371b64af6fddee84047495abc22e9ad
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Jul 10 16:40:53 2019 +0200

    ui,ui/app: convert Config to an interface
    
    To keep the interface slim, remove the helper methods and shorten
    the essential method, Pixels, to Px.
    
    Add and use unexported Config implementation in the app package.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/app.go          | 35 ++++++++++++++++++++++++++++++++++-
 ui/app/os_android.go   |  9 ++++-----
 ui/app/os_ios.go       |  9 ++++-----
 ui/app/os_js.go        | 13 ++++++-------
 ui/app/os_macos.go     | 15 +++++++--------
 ui/app/os_wayland.go   | 17 ++++++++---------
 ui/app/os_windows.go   | 15 +++++++--------
 ui/gesture/gestures.go | 14 +++++++-------
 ui/layout/layout.go    | 10 +++++-----
 ui/layout/list.go      |  2 +-
 ui/measure/measure.go  |  6 +++---
 ui/text/editor.go      | 19 ++++++++++---------
 ui/ui.go               | 40 ++++++----------------------------------
 ui/widget/image.go     |  4 ++--
 14 files changed, 104 insertions(+), 104 deletions(-)

commit 624ef78e1c8348d50a881bd90d4b9281f98fa556
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Jul 10 14:03:30 2019 +0200

    apps/gophers: update to renamed Config.Pixels method
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          | 2 +-
 apps/gophers/main.go | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 320579814f859836c2fcf141ea2ade1b5a1b01b4
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Jul 10 13:59:09 2019 +0200

    ui: rename Config.Val to Pixels
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_macos.go     | 4 ++--
 ui/app/os_wayland.go   | 4 ++--
 ui/app/os_windows.go   | 4 ++--
 ui/gesture/gestures.go | 8 ++++----
 ui/layout/layout.go    | 9 ++++-----
 ui/measure/measure.go  | 4 ++--
 ui/text/editor.go      | 4 ++--
 ui/ui.go               | 8 ++++----
 8 files changed, 22 insertions(+), 23 deletions(-)

commit e3ba84758c1c4709c8670cf20f44ba8524180a31
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Jul 10 13:50:41 2019 +0200

    cmd/gophers: use default scale for avatar images
    
    We don't know the DPI for random images from the internet.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/gophers/main.go | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 2aac09b3b286434790f8e4fe478526494f0d2b16
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Jul 10 13:36:26 2019 +0200

    cmd/gophers: update to integer ui.Config pixel values
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          |  2 +-
 apps/gophers/main.go | 23 +++++++++++------------
 2 files changed, 12 insertions(+), 13 deletions(-)

commit ad4215a7ebb19bf5063e01bb8f3162fa95c63696
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Jul 10 13:23:20 2019 +0200

    ui: use ints for unit conversions to pixels
    
    The dp and sp units are approximate and mostly used for layout
    dimensions that operate in whole pixels. This change alters the
    Config methods to return pixels in ints instead of floats, which
    results in smoother use for layout and emphasize the inexactness of
    the device independent units.
    
    Clients can still access to raw PxPrDp and PxPrSp factors from
    Config.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_wayland.go   |  4 ++--
 ui/gesture/gestures.go |  8 ++++----
 ui/measure/measure.go  |  4 ++--
 ui/text/editor.go      |  4 ++--
 ui/ui.go               | 18 ++++++++++--------
 ui/widget/image.go     | 10 ++++++----
 6 files changed, 26 insertions(+), 22 deletions(-)

commit bde04c68a251b4f77dfe30b02ccbbf5e0e24468e
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Jul 10 11:20:43 2019 +0200

    apps/gophers: update to Constraint.Exact method
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          | 2 +-
 apps/gophers/main.go | 9 +++++----
 2 files changed, 6 insertions(+), 5 deletions(-)

commit 25af3e3701deaa38aac55718e0865c18defd80de
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Jul 10 11:14:28 2019 +0200

    ui/layout: replace Sized struct with simpler Constraint.Exact method
    
    While here, add String methods to ui.Value and ui.Unit.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/layout.go | 47 ++++++++++++++++++++++-------------------------
 ui/unit.go          | 19 +++++++++++++++++++
 2 files changed, 41 insertions(+), 25 deletions(-)

commit 4ec352727ef664e9bcb014b64190eaaee0ace77a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Jul 9 17:05:38 2019 +0200

    ui/layout: remove unused isInf
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/layout.go | 6 +-----
 1 file changed, 1 insertion(+), 5 deletions(-)

commit 41626f5a6b50be0086b09e4983311cb73c427ffd
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Jul 9 16:02:19 2019 +0200

    apps/gophers: use the new Image.Scale for icons
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          | 2 +-
 apps/gophers/main.go | 6 ++++--
 2 files changed, 5 insertions(+), 3 deletions(-)

commit b1af8aa75e5e34e670fd89d02069cacf0cc6a5fc
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Jul 9 16:00:02 2019 +0200

    ui/widget: introduce Image.Scale
    
    And use a constant 72 DPI for the default scale, to ensure consistent
    image sizes across display densities.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/widget/image.go | 27 +++++++++++++++------------
 1 file changed, 15 insertions(+), 12 deletions(-)

commit ca24026ffd2cd5a93e8f74c659c471ebfa18d739
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Jul 9 14:39:08 2019 +0200

    ui/widget: preserve image aspect in Image.Layout
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/widget/image.go | 13 +++++++++++++
 1 file changed, 13 insertions(+)

commit f3164c9fce9627fb25828f0d305a748ddda8beaf
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Jul 9 11:33:28 2019 +0200

    apps/gophers: update to layout objects with ui.Value measurements
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          |  2 +-
 apps/gophers/main.go | 56 ++++++++++++++++++++++++++++----------------------------
 2 files changed, 29 insertions(+), 29 deletions(-)

commit 99be31bc2676c1a548e01142d2bc3516e35655df
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Jul 9 11:28:41 2019 +0200

    ui/layout: convert Sized and Insets to use ui.Value
    
    Layout objects are usually ephemereal, but when saved and re-used
    between frames their measurements are not updated with varying pixel
    density and font scaling.
    
    Go back to storing unconverted ui.Values instead of raw pixels,
    and convert them at each use.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/layout.go | 41 ++++++++++++++++++++++-------------------
 1 file changed, 22 insertions(+), 19 deletions(-)

commit 8a34469211edc61adf831470eb1b21aae1376ea5
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jul 8 19:04:57 2019 +0200

    Revert "ui/app: (iOS) treat the \n character as a return key chord"
    
    It's not the way of the soft keyboards.
    
    This reverts commit a0c04cb3b2f3d3bbcbb38701711662b6f1245b87.

 ui/app/os_ios.go | 13 ++++---------
 1 file changed, 4 insertions(+), 9 deletions(-)

commit da095a3e5d5a0f467b6562cb83fd8d00bf872439
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jul 8 16:18:36 2019 +0200

    apps/go.mod: update gio version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f7ea448256cdb9f3bbcd463a98b196051048c4a8
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jul 8 16:15:45 2019 +0200

    ui/app: (android) fix length of C string copy
    
    The data dir string is returned to Go as a byte array of the UTF-8
    encoded string, but it is not NUL terminated.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/datadir_android.go | 4 ++--
 ui/app/os_android.c       | 3 ++-
 2 files changed, 4 insertions(+), 3 deletions(-)

commit 5f15f4c7690c59dd1e19cb08d2fa1f1b36a0bf20
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jul 8 15:51:21 2019 +0200

    apps: remove use of app.Window.IsAlive
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/gophers/main.go |  6 ++++--
 apps/hello/hello.go  | 17 +++++++++++------
 2 files changed, 15 insertions(+), 8 deletions(-)

commit b494b3c8c04778fad721649fc6ff962aeca4f91b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jul 8 15:46:48 2019 +0200

    ui/app: remove IsAlive
    
    IsAlive races with the StageDead event: if the client checks IsAlive
    after the stage is updated to StageDead but before having received
    the StageDead it will exit the event loop, blocking the StageDead
    to ever arrive.
    
    Remove IsAlive and let the client rely only on the StageDead to exit
    its event loop.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/window.go | 13 +++++--------
 1 file changed, 5 insertions(+), 8 deletions(-)

commit 51905c0aad887163d329ecc88459d3ccd6244811
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jul 8 14:59:32 2019 +0200

    ui/text: ignore all newlines in single line editors
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/text/editor.go | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 84cd3fcdca23a02368a6d16f5b80ab62facba706
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jul 8 00:06:31 2019 +0200

    ui/text: handle stop and scroll immediately
    
    In case an event is returned, don't aggregate state changes in Next.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/gesture/gestures.go |  4 ++++
 ui/text/editor.go      | 23 ++++++++++-------------
 2 files changed, 14 insertions(+), 13 deletions(-)

commit 2292fd0c63fa4d0e24bb9d2c9134aa29336ab073
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 7 23:50:16 2019 +0200

    ui/app: implement window insets for iOS
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_ios.go | 6 +++++-
 ui/app/os_ios.m  | 5 +++--
 2 files changed, 8 insertions(+), 3 deletions(-)

commit c884b7d4f0c1724ac45ae9fae654efce1025b330
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 7 23:30:38 2019 +0200

    ui/app: introduce DrawEvent.Insets and add Android implementation
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/GioActivity.java   |  6 ++++--
 ui/app/GioView.java       |  8 ++++++++
 ui/app/app.go             |  4 ++++
 ui/app/datadir_android.go |  1 -
 ui/app/os_android.c       |  5 +++++
 ui/app/os_android.go      | 14 ++++++++++++++
 6 files changed, 35 insertions(+), 3 deletions(-)

commit 491d81e0c8a882b17008a092dd4c81cb1e580ed1
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 7 21:03:25 2019 +0200

    cmd/gio: set windowSoftInputMode=adjustResize in AndroidManifest.xml
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/androidbuild.go | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 389783284219b0098c31cf81a55de15c264ab465
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 7 19:32:26 2019 +0200

    ui/app: use log level info for stderr
    
    It's not given that output to stderr is caused by an error
    condition.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/log_android.go | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

commit ab13a2ee7360fc2bafdb60d13e85da120680cdf7
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 7 18:23:50 2019 +0200

    ui/text: add Editor.Focus method
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/text/editor.go | 4 ++++
 1 file changed, 4 insertions(+)

commit a0c04cb3b2f3d3bbcbb38701711662b6f1245b87
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 7 17:54:50 2019 +0200

    ui/app: (iOS) treat the \n character as a return key chord
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_ios.go | 13 +++++++++----
 1 file changed, 9 insertions(+), 4 deletions(-)

commit 47c6ea2dd2015c699c68f81e3a7631e6a83797b5
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 7 17:43:40 2019 +0200

    ui/app: (iOS) redirect standard Go logger to NSLog
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/log_ios.go | 45 +++++++++++++++++++++++++++++++++++++++++++++
 ui/app/log_ios.h  |  3 +++
 ui/app/log_ios.m  | 11 +++++++++++
 3 files changed, 59 insertions(+)

commit 5f42e2e804d54ef1312424f575809fc51cac0863
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 7 16:47:38 2019 +0200

    ui/app: (android) set close-on-exit flag on dup'ed log file descriptors
    
    The file descriptors are probably overwritten on exec anyway, but at
    least our intent is clear.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/log_android.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1a417d353ca2c77d2692649c2fd066ef1ef55f76
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 7 16:33:11 2019 +0200

    ui/app: fix a few C signatures and a comment typo
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/gl_ios.h       | 2 +-
 ui/app/gl_ios.m       | 2 +-
 ui/app/gl_macos.h     | 4 ++--
 ui/app/gl_macos.m     | 2 +-
 ui/app/log_android.go | 2 +-
 ui/app/os_macos.h     | 2 +-
 ui/app/os_macos.m     | 2 +-
 7 files changed, 8 insertions(+), 8 deletions(-)

commit f110c26e3f24935993a311f16feb3378c38f29b4
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 7 15:50:33 2019 +0200

    ui/input: hide soft keyboard when focus is lost
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/input/key.go | 3 +++
 1 file changed, 3 insertions(+)

commit 31418eefbecc6fe2f79fe84a3fe451c6175b33bc
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 7 15:39:04 2019 +0200

    ui/key: rename TextInputClosed to TextInputClose
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_android.go | 2 +-
 ui/app/os_ios.go     | 2 +-
 ui/app/os_js.go      | 2 +-
 ui/app/window.go     | 2 +-
 ui/input/key.go      | 2 +-
 ui/key/key.go        | 2 +-
 6 files changed, 6 insertions(+), 6 deletions(-)

commit 5b7a7334c8c43323e37afa4e259c033633e7ce37
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 7 11:41:39 2019 +0200

    README.md: update for -buildmode=exe default
    
    Also, move the exe section to the beginning of the mobile sections,
    leaving -buildmode=archive second.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 45 ++++++++++++++++++++++-----------------------
 1 file changed, 22 insertions(+), 23 deletions(-)

commit 2c5b7496d2636b64efd9f1157744264184ff4a04
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 7 00:48:00 2019 +0200

    ui/text: apply correct material for cursor
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/text/editor.go | 2 ++
 1 file changed, 2 insertions(+)

commit f56e082cc74b697afb38911ad9d81ceb0fcc018d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 7 00:00:54 2019 +0200

    ui/app: introduce DataDir for application-specific data files
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/GioActivity.java   |  6 ++----
 ui/app/GioView.java       | 28 ++++++++++++++++++++++++++++
 ui/app/app.go             |  9 +++++++++
 ui/app/datadir.go         | 11 +++++++++++
 ui/app/datadir_android.go | 18 ++++++++++++++++++
 ui/app/os_android.c       | 19 ++++++++++++++++++-
 6 files changed, 86 insertions(+), 5 deletions(-)

commit 48786bbd05ccb3d2839d00f4018e98ed5294c0f5
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jul 7 00:10:18 2019 +0200

    README.md: move the build line first in webassembly instructions
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 2d89a914e992b0b32a7d0b37381268fdf7a0342e
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Jul 6 16:09:01 2019 +0200

    ui/app: tweak comment
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/app.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8e46bea6dc6d07e7b32b8d97406a0fb36f4d1a90
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Jul 6 15:30:39 2019 +0200

    cmd/gio: use package name for app name in -buildmode=exe
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/androidbuild.go | 5 +++--
 cmd/gio/iosbuild.go     | 5 +++--
 2 files changed, 6 insertions(+), 4 deletions(-)

commit 07d99ab18259be0be9c9dd3854c7e416790a2833
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Jul 6 15:16:59 2019 +0200

    cmd/gio: set default buildmode to "exe"
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/gio.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6440fc35b7cc8ba9a5ced8f636f3bed8b8627365
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 5 17:17:02 2019 +0200

    apps: update to renamed ColorOp.Color field
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          | 2 +-
 apps/gophers/main.go | 2 +-
 apps/hello/hello.go  | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit 38ec6a8831bd48fd9d553636e07d8cd0bdab3f60
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 5 17:14:57 2019 +0200

    ui/draw: rename ColorOp.Col to Color

 ui/app/internal/gpu/gpu.go |  2 +-
 ui/draw/draw.go            | 12 ++++++------
 ui/text/editor.go          |  4 ++--
 ui/text/label.go           |  2 +-
 4 files changed, 10 insertions(+), 10 deletions(-)

commit 0f576cf6253bd4d1b7c054cbaf788925ef9dbf2d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 5 17:11:17 2019 +0200

    ui/text: use default colors to guard against empty materials
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/text/editor.go | 4 ++++
 ui/text/label.go  | 3 +++
 2 files changed, 7 insertions(+)

commit e3629cc0fbf028e33acbf1af9eead92631d70b05
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 5 16:59:45 2019 +0200

    apps: update to new material api
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          |  2 +-
 apps/gophers/main.go | 77 +++++++++++++++++++++++++++++++++++++++--------------------------------------
 apps/hello/hello.go  |  4 +++-
 3 files changed, 43 insertions(+), 40 deletions(-)

commit 86bc3e612d009c35b7858ccd72ed80fb3329b9bc
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jul 5 16:52:13 2019 +0200

    ui/text: use BlockOp as materials
    
    Before this change, clients were expected to set up the current
    material (color or image) before laying out Labels and Editors.
    This was done to avoid garbage from a hypothetical material
    interface covering both colors and images.
    
    However, some widgets need more than one material: the Editor had
    HintImage for the hint text material.
    
    This change implements generalized materials through blocks:
    anywhere a material is expected, a ui.BlockOp is is assumed to
    contain the operation(s) needed for setting the desired material.
    
    This way we avoid allocations (interfaces) and keep the
    abstraction over material types.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/ops.go         |  3 +++
 ui/text/editor.go | 13 ++++++++-----
 ui/text/label.go  |  2 ++
 3 files changed, 13 insertions(+), 5 deletions(-)

commit 30a558d10d369a61c14bde348993e1aa72b284f4
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jul 4 16:31:48 2019 +0200

    ui/app: fix race condition between Window.Redraw and Draw
    
    A Window.Redraw called after the client has completed building a
    frame and before Window.Draw resets the redraw flag is effectively
    ignored. Move the flag reset earlier to just before the client is
    asked to build the frame, to ensure that no state updates are lost.
    
    Tighten and simplify the locking while we're here.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/window.go | 53 +++++++++++++++++++++++++++--------------------------
 1 file changed, 27 insertions(+), 26 deletions(-)

commit f1dffa155c058e26a4079353a8559943cc9cab67
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jul 4 15:06:50 2019 +0200

    ui/text: add ChangeEvent and rename Submit to SubmitEvent
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/text/buffer.go | 13 +++++++++++++
 ui/text/editor.go | 11 ++++++++---
 2 files changed, 21 insertions(+), 3 deletions(-)

commit 252514af9d2365c8a927a640ee81252f9fc9904f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Jul 3 20:26:19 2019 +0200

    all: update dependencies
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod |  8 ++++----
 apps/go.sum | 16 ++++++++--------
 ui/go.mod   |  4 ++--
 ui/go.sum   |  8 ++++----
 4 files changed, 18 insertions(+), 18 deletions(-)

commit 475bccb722cac83b80ab35f37ca67d299daac8e3
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Jul 2 20:12:06 2019 +0200

    ui: add checks for unmatched Ops.Begin/End
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/ops.go | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 322a95adee683345164c887eb5db5bf86d46a13a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Jul 2 20:00:28 2019 +0200

    apps/hello: update to latest gio api
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/hello/hello.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit e862761e17affb4ad7642e9d65ce89a659e79e13
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Jul 2 19:33:21 2019 +0200

    ui/input: keep default focus on earliest focusable
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/input/key.go | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit 6fdab9dba66a2cdcd6a8cc78c5e523f4a5988b61
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Jul 2 14:58:00 2019 +0200

    apps/gophers: update to latest gio api
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          |  2 +-
 apps/gophers/main.go | 12 ++++++------
 2 files changed, 7 insertions(+), 7 deletions(-)

commit 33fc35f58db8b16b3180be12486776d9842f3a63
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Jul 2 14:56:48 2019 +0200

    ui/draw: switch to color.RGBA for colors
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/gpu.go | 2 +-
 ui/draw/draw.go            | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 683df6345b5caaa2259e55a04c8c6b414962e196
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jul 1 19:22:06 2019 +0200

    ui/layout: fix Flex spacing
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/flex.go | 20 ++++++++++++--------
 1 file changed, 12 insertions(+), 8 deletions(-)

commit 91de9acc4a3ef659da1cf4bada4aac7684d56c67
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jul 1 18:19:02 2019 +0200

    cmd/assets: delete
    
    It is unused.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/assets/assets.go | 57 ---------------------------------------------------------
 1 file changed, 57 deletions(-)

commit 0316a27a45609d71252a950edafde67ff524eec8
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jul 1 13:38:02 2019 +0200

    apps/gophers: add editor hint
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          | 2 +-
 apps/gophers/main.go | 2 ++
 2 files changed, 3 insertions(+), 1 deletion(-)

commit d720fa62331aac228941739ceb730124355e8bcf
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jul 1 13:36:54 2019 +0200

    ui/text: add Hint and HintImage to Editor
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/text/editor.go | 14 +++++++++++++-
 1 file changed, 13 insertions(+), 1 deletion(-)

commit 054668372093804f555c23890480b49a54207041
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jun 30 23:58:05 2019 +0200

    ui/text: add LayoutOptions
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/measure/measure.go | 30 ++++++++++++++----------------
 ui/text/editor.go     |  2 +-
 ui/text/label.go      |  2 +-
 ui/text/measure.go    |  7 ++++++-
 4 files changed, 22 insertions(+), 19 deletions(-)

commit 28f53d8708c5456efef3f51e886af0d564c31cef
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jun 30 23:51:11 2019 +0200

    ui/text: add Label.MaxLines
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/text/label.go | 4 ++++
 1 file changed, 4 insertions(+)

commit 3092a7208981cdad81f2d64bb01cfb450136592f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jun 27 12:47:33 2019 +0200

    apps/gophers: update to latest gioui.org/ui
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          | 2 +-
 apps/gophers/main.go | 9 +++------
 2 files changed, 4 insertions(+), 7 deletions(-)

commit ef9384ceee437c33700ae91df7fd459c1262ba82
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jun 27 12:44:15 2019 +0200

    ui/layout: allow one-line initialization of Flex and Stack
    
    Returning itself from the Init methods allows the client to
    initialize the layout instance on one line.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/flex.go  | 10 ++++------
 ui/layout/stack.go |  5 +++--
 2 files changed, 7 insertions(+), 8 deletions(-)

commit bf96bb8bddddafa92f24160f85f3796fad438893
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Jun 22 17:38:25 2019 +0200

    cmd: update to latest gioui.org/ui version
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          |  2 +-
 apps/gophers/main.go | 37 +++++++++++++++++--------------------
 2 files changed, 18 insertions(+), 21 deletions(-)

commit 4f94f1078a1e13674bf462a7f5198518034fd7eb
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Jun 22 17:36:57 2019 +0200

    ui/gesture: rename Scroller.Update to Scroller.Scroll
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/gesture/gestures.go | 2 +-
 ui/layout/list.go      | 2 +-
 ui/text/editor.go      | 2 +-
 3 files changed, 3 insertions(+), 3 deletions(-)

commit bebfd822d850cf9bbac9143c1cc18fab840a2ed9
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Jun 22 17:33:29 2019 +0200

    ui/gesture: convert Click to single step events for symmetry
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/gesture/gestures.go | 14 +++++++-------
 ui/text/editor.go      |  6 +++++-
 2 files changed, 12 insertions(+), 8 deletions(-)

commit b94119d0938be48c5ebd517ef8160eecf0c93c9e
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jun 21 17:15:44 2019 +0200

    cmd: update to latest API
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          | 2 +-
 apps/gophers/main.go | 8 ++++----
 apps/hello/hello.go  | 2 +-
 3 files changed, 6 insertions(+), 6 deletions(-)

commit 0b6dd4efd95ec108d42402cdec7eea905974dfd7
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jun 21 17:08:34 2019 +0200

    ui: change events to have "Event" suffixed, not prefixed
    
    Match the Go error naming convention (FooError).
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/app.go        | 14 +++++++-------
 ui/app/os_android.go | 12 ++++++------
 ui/app/os_ios.go     | 16 ++++++++--------
 ui/app/os_js.go      | 12 ++++++------
 ui/app/os_macos.go   | 10 +++++-----
 ui/app/os_wayland.go | 12 ++++++------
 ui/app/os_windows.go | 12 ++++++------
 ui/app/window.go     |  6 +++---
 ui/input/key.go      |  6 +++---
 ui/input/queue.go    |  2 +-
 ui/key/key.go        | 18 +++++++++---------
 ui/text/editor.go    |  8 ++++----
 12 files changed, 64 insertions(+), 64 deletions(-)

commit de5d5e19f53d166383a71e8760ab7ded0cc722e1
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jun 21 17:03:31 2019 +0200

    cmd: update to latest API
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          |  2 +-
 apps/gophers/main.go | 36 ++++++++++++++++++------------------
 apps/hello/hello.go  |  2 +-
 3 files changed, 20 insertions(+), 20 deletions(-)

commit 7aa7bb3be40858efe2a98f866fcc7db2026b02fd
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jun 21 16:59:26 2019 +0200

    ui: rename ops to have Op suffixed, not prefixed
    
    Match Go's FooError name pattern.
    
    While we're here, rename RedrawOp to InvalidateOp.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/gpu.go | 12 ++++++------
 ui/app/window.go           |  4 ++--
 ui/draw/draw.go            | 30 +++++++++++++++---------------
 ui/draw/path.go            |  8 ++++----
 ui/gesture/gestures.go     |  6 +++---
 ui/input/key.go            |  2 +-
 ui/input/pointer.go        | 10 +++++-----
 ui/internal/ops/ops.go     |  2 +-
 ui/key/key.go              | 12 ++++++------
 ui/layout/flex.go          | 10 +++++-----
 ui/layout/layout.go        | 12 ++++++------
 ui/layout/list.go          | 10 +++++-----
 ui/layout/stack.go         | 10 +++++-----
 ui/measure/measure.go      |  6 +++---
 ui/ops.go                  | 24 ++++++++++++------------
 ui/pointer/pointer.go      | 26 +++++++++++++-------------
 ui/text/editor.go          | 14 +++++++-------
 ui/text/label.go           |  8 ++++----
 ui/text/measure.go         |  2 +-
 ui/ui.go                   | 32 ++++++++++++++++----------------
 ui/widget/image.go         |  4 ++--
 21 files changed, 122 insertions(+), 122 deletions(-)

commit b981ccf9eda43816ae9d809466fe96c8e0c2475b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jun 21 16:30:20 2019 +0200

    ui/input: support single stepping through events
    
    Change input.Events interface to return one event at a time until
    the queue is empty.
    
    Change text.Editor and gestures to match.
    
    Re-add Editor.Submit while we're here; we don't want to enable
    submit mode always.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/gesture/gestures.go | 16 ++++++++++++----
 ui/input/input.go      |  2 +-
 ui/input/queue.go      | 10 ++++++++--
 ui/text/editor.go      |  9 +++++++--
 4 files changed, 28 insertions(+), 9 deletions(-)

commit 893b7f3c9f50b4160bd8691673634c5ce272673e
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jun 21 16:18:44 2019 +0200

    cmd/gophers,cmd/hello: update to latest API
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          |  2 +-
 apps/gophers/main.go | 80 +++++++++++++++++++++++++++++++++++++++-----------------------------------------
 apps/hello/hello.go  |  5 +++--
 3 files changed, 43 insertions(+), 44 deletions(-)

commit 898c3c5d7d7ce04331672488d190b1729c8a8316
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jun 21 16:00:24 2019 +0200

    ui/layout: unexport List.Update and move its parameters to state
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/list.go | 7 +++++--
 1 file changed, 5 insertions(+), 2 deletions(-)

commit d4eb86a9b57bf83bad11cf9e9d28fb38ea89d717
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jun 21 15:42:40 2019 +0200

    ui/text: replace Editor.Update with Next for stepping through events
    
    Before this change, the Editor cleared its content after each
    Submission event. If it didn't multiple submits for a frame would
    not result in the cleared text for clients that wants to clear the
    Editor between submits.
    
    However, for clients that do not want to clear the content or that
    wants to validate the text before accepting it were not supported.
    
    Instead, switch to a event stepping model, where the client can
    call Next to receive each EditorEvent (that is, Submit event) in
    turn.
    
    We can then delete the Submit flag on Editor and always report Submit
    events.
    
    We can also make Layout flush the pending events now that Editor
    always has access to its Config and input queue.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/text/editor.go | 23 +++++++++++------------
 1 file changed, 11 insertions(+), 12 deletions(-)

commit 98d4d926f6779fdbe0d9e759ec2ca6a7d12333e9
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jun 21 15:35:45 2019 +0200

    ui/text: move input.Events parameter from Update to Editor state
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/text/editor.go | 9 +++++----
 1 file changed, 5 insertions(+), 4 deletions(-)

commit dda9e3486df1a2b827a9f5ff42bce95784342dc4
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jun 21 15:27:57 2019 +0200

    ui/text: move Config parameter from Editor.Update to Editor state
    
    Assume the user will set a Config pointer once at init.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/text/editor.go | 21 +++++++++++----------
 1 file changed, 11 insertions(+), 10 deletions(-)

commit a695a115ce9edd68dd614630b5fa3cc3ca425647
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jun 21 15:22:30 2019 +0200

    ui/measure: rename Faces.Cfg to Config
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/measure/measure.go | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 47c5859d87fcd3f35a04ee7ead8dbd7dcf1d9530
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jun 21 15:02:37 2019 +0200

    ui/app: make Draw.Config a value, not a pointer
    
    We are going to encourage a model where pointers to a central
    (program global) Configs are passed to widgets at setup time, and
    not pass Configs at every frame.
    
    That way, the global Gonfig can change, but the pointers won't need
    updating.
    
    This change only switches the Draw event's Config pointer to a value
    to avoid tempting programs to use the event Config instead of
    updating their own central Configs.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/app.go        | 2 +-
 ui/app/os_android.go | 2 +-
 ui/app/os_ios.go     | 2 +-
 ui/app/os_js.go      | 2 +-
 ui/app/os_macos.go   | 2 +-
 ui/app/os_wayland.go | 2 +-
 ui/app/os_windows.go | 4 ++--
 7 files changed, 8 insertions(+), 8 deletions(-)

commit b10a6938cdb5b12b30fbc894ddd9dd45a7416164
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jun 21 14:51:45 2019 +0200

    ui/app: update comment and fix typo
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/app.go | 2 +-
 ui/ui.go      | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 173d56a67a600ec89568789f86f450e8f1f442b8
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jun 20 19:05:06 2019 +0200

    ui/app: (ios) relay system focus events
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_ios.go |  6 ++++++
 ui/app/os_ios.m  | 10 ++++++++++
 2 files changed, 16 insertions(+)

commit b9205d9965523cc45bf1f6b23ecc68d53aae5a89
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jun 20 18:45:46 2019 +0200

    uis/app: (macos) relay system focus events
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_macos.go |  6 ++++++
 ui/app/os_macos.m  | 14 ++++++++++----
 2 files changed, 16 insertions(+), 4 deletions(-)

commit a9199c6d23232cc2be6d467d33ad285e60557d5f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jun 20 16:07:19 2019 +0200

    ui/app: (android) relay system focus events
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/GioView.java  | 8 +++++++-
 ui/app/os_android.c  | 5 +++++
 ui/app/os_android.go | 6 ++++++
 3 files changed, 18 insertions(+), 1 deletion(-)

commit a92b97e236f2952400b1fcc04238c2aebf317e63
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jun 20 15:55:49 2019 +0200

    ui/app: (js) relay system focus events
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_js.go | 8 ++++++++
 1 file changed, 8 insertions(+)

commit 659419738cc70f735e2362f4d3f5ff8556a3ca1a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jun 20 15:53:04 2019 +0200

    ui/app: (windows) relay system focus events
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_windows.go | 6 ++++++
 1 file changed, 6 insertions(+)

commit c73d3b59e67d228176b11bb24c59dbbfb929f45f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Jun 20 15:49:29 2019 +0200

    ui/app: (wayland) relay system focus events
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_wayland.go | 3 +++
 1 file changed, 3 insertions(+)

commit c1e129a87d7c33731b011e88691f58a0d4bba15d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Jun 19 19:46:11 2019 +0200

    ui/layout: implement List.Invert for end aligned lists
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/list.go | 22 +++++++++++++++++-----
 1 file changed, 17 insertions(+), 5 deletions(-)

commit f474282a312b84ad84f34d28d6464b3ea0abfc41
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Jun 19 12:46:59 2019 +0200

    ui/app: (wayland) avoid excessive key repeats
    
    Wayland requires its clients to handle key repeating themselves.
    Our strategy is simple: start a timer on key down and fire key
    events at regular intervals until another key event arrives.
    
    However, if the program blocks the event loop while processing a
    synchronous event, key repeats might pile up before the stopping
    key event is processed.
    
    This change use the timestamp of the stopping key event to only
    dispatch the repeats queued up before the stop time.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_wayland.go | 135 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++---------------------------
 1 file changed, 98 insertions(+), 37 deletions(-)

commit 0e332f8d65676f879189e68fd553024b3af85415
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Jun 18 21:32:44 2019 +0200

    apps/gophers: update to latest gio version and use Modifiers.Contain
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          | 2 +-
 apps/gophers/main.go | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 7354874bb5bca7260023a6afd86fc072e8ce2300
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Jun 18 21:30:19 2019 +0200

    ui/text: add submit events to Editor
    
    Add Editor.Text() and fix a reset while here.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/text/editor.go | 33 +++++++++++++++++++++++++++++----
 1 file changed, 29 insertions(+), 4 deletions(-)

commit 474b1e8e178f630cadf0d3be15af5dfbdabc4721
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Jun 18 21:10:01 2019 +0200

    ui/key: add Modifiers.Contain
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/key/key.go | 4 ++++
 1 file changed, 4 insertions(+)

commit 3d1e16c4d2a69e1cafb0f6859b982f66e4c9a26e
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Jun 18 20:26:52 2019 +0200

    ui/text: unexport Editor.Command
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/text/editor.go | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit e24f19ecba58d92872370c80ca2fae4369afd6f6
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Jun 18 20:10:52 2019 +0200

    ui/key,ui/app: introduce ModShift modifier
    
    And add desktop implementations.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_js.go      |  3 +++
 ui/app/os_macos.go   |  3 +++
 ui/app/os_wayland.go | 18 +++++++++---------
 ui/app/os_windows.go |  4 ++++
 ui/key/key.go        |  1 +
 5 files changed, 20 insertions(+), 9 deletions(-)

commit 535f61fbeb44f6354afeeb52c9fd55fe14297274
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Jun 18 17:41:41 2019 +0200

    README.md: update mailing list name and fix todo address
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 10 +++++-----
 1 file changed, 5 insertions(+), 5 deletions(-)

commit c511858d30df57502dbfb6af95c2d8b88636eaba
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jun 17 17:35:54 2019 +0200

    ui/layout: add sanity checks to Insets/Align Begin/End
    
    Would have caught the invalid layout re-use fixed by a recent commit.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/layout.go | 27 +++++++++++++++++++++++----
 1 file changed, 23 insertions(+), 4 deletions(-)

commit d67b7eca6c52a7ab39140f187c250fe87b47f9f4
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jun 17 16:45:49 2019 +0200

    ui/draw,ui/layout: export OpClip
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/draw/draw.go   | 6 +++---
 ui/draw/path.go   | 9 +++++----
 ui/layout/list.go | 2 +-
 3 files changed, 9 insertions(+), 8 deletions(-)

commit 1765a66fd63b395a08349d250d0587c70128bc64
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jun 17 16:41:46 2019 +0200

    cmd/gophers: fix layout re-use
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/gophers/main.go | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 067d493e6044d39d6aa9d2b5063e85bf5d324821
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jun 17 16:39:35 2019 +0200

    apps/gophers/android: delete
    
    With gio -buildmode=exe, we don't need the Android scaffold anymore.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/gophers/android/build.gradle                             |  32 -----------
 apps/gophers/android/gradle/wrapper/gradle-wrapper.jar        | Bin 56177 -> 0 bytes
 apps/gophers/android/gradle/wrapper/gradle-wrapper.properties |   5 --
 apps/gophers/android/gradlew                                  | 172 --------------------------------------------------------
 apps/gophers/android/gradlew.bat                              |  84 ---------------------------
 apps/gophers/android/src/main/AndroidManifest.xml             |  20 -------
 apps/gophers/android/src/main/res/values/strings.xml          |   4 --
 7 files changed, 317 deletions(-)

commit 839faf2b7ef6d0e945fe8378aec67342cb8764ae
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Jun 12 14:38:33 2019 +0200

    website: force https and bump to Go 1.12 app engine runtime
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 website/app.yaml | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

commit d61a717ca8b350d07a6a5598c2e960fb47ddb38c
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Jun 11 16:46:24 2019 +0200

    apps: go get gioui.org/ui@latest
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 503c41754490e7d1ada04292a86e50ffd39c9ef1
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Jun 11 16:35:43 2019 +0200

    ui/app: (android) enable IME dummy mode
    
    We don't have full IME-aware editor yet. Fortunately, the BaseInputConnection
    has a "dummy mode" setting to allow us to receive input from the fancier keyboards
    without implementing the full IME interface.
    
    Fixes gio#7 (I hope; I tested with SwiftKey that had the same symptoms)
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/GioView.java | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 94162f8f2465e38022366d53e3404fe1abbcb44f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jun 10 01:27:12 2019 +0200

    apps/gophers: go get gioui.org/ui@latest
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1f809234b864e966c76725e9ae76929af2476323
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jun 10 01:11:19 2019 +0200

    ui/app/internal/gpu: replace look up texture with calculation
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/arealut.go | 76 ----------------------------------------------------------------------------
 ui/app/internal/gpu/path.go    | 52 +++++++++++++---------------------------------------
 2 files changed, 13 insertions(+), 115 deletions(-)

commit 8917cb33bcd650a3713d39802cfe103979412213
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jun 9 22:22:43 2019 +0200

    apps: go get gioui.org/ui@latest
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit eddc0c948e9d4a826a25a0056f4a9a4ee3694108
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jun 9 22:18:40 2019 +0200

    ui/app/internal/gpu: fix stenciling on the iOS simulator
    
    It seems that the iOS simulator can return NaN from texture2D, so
    even though width == 0, the resulting cover is not.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/path.go | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 01385442424befee4076bbda1f3c276615e145bb
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jun 9 21:18:41 2019 +0200

    ui/app/internal/gl: fix GetProgramInfoLog and GetShaderInfoLog
    
    I should read the manual more carefully.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gl/functions.go  | 26 ++++++++------------------
 ui/app/internal/gl/gl.go         |  1 +
 ui/app/internal/gl/gl_windows.go | 26 ++++++++------------------
 3 files changed, 17 insertions(+), 36 deletions(-)

commit d142a8c89d4f53a158385c90f883808cfd307e2e
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jun 9 16:37:15 2019 +0200

    README.md: use example.com instead of gmail.com for example
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit cf99b9b487fe6736e56e14161e73bebb8ea32fce
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jun 9 16:22:49 2019 +0200

    README.md: describe how to run programs on iOS simulators
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 18 ++++++++++++++----
 1 file changed, 14 insertions(+), 4 deletions(-)

commit 62419e05a4f8420b3d67c687e86b7546ec94934b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jun 9 15:59:00 2019 +0200

    cmd/gio: don't silently skip apk signing if no certificate is found
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/androidbuild.go | 20 +++++++++-----------
 1 file changed, 9 insertions(+), 11 deletions(-)

commit 6f9f07e860e02451c6e318131a4ff704e8a8c3d9
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jun 9 15:43:09 2019 +0200

    apps/gophers: delete support files
    
    Now that the gio tool can generate runnable mobile and webassembly
    apps, the support files are no longer needed.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/gophers/ios/gophers.xcodeproj/project.pbxproj                              | 309 ----------------------
 apps/gophers/ios/gophers.xcodeproj/project.xcworkspace/contents.xcworkspacedata |   7 -
 .../gophers.xcodeproj/project.xcworkspace/xcshareddata/IDEWorkspaceChecks.plist |   8 -
 .../project.xcworkspace/xcshareddata/WorkspaceSettings.xcsettings               |   5 -
 apps/gophers/ios/gophers/Info.plist                                             |  37 ---
 apps/gophers/ios/gophers/main.m                                                 |   8 -
 apps/gophers/web/index.html                                                     |  27 --
 apps/gophers/web/wasm_exec.js                                                   | 533 --------------------------------------
 8 files changed, 934 deletions(-)

commit 821862b4c6c1214468124e14aa9519c37c13c703
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jun 9 15:41:28 2019 +0200

    README.md: use the -buildmode=exe flag for running demos
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md      | 38 +++++++++++++++++++-------------------
 cmd/gio/gio.go |  2 +-
 2 files changed, 20 insertions(+), 20 deletions(-)

commit aad2fee36eb4046e222afdc9d2aef551aeb02a65
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jun 9 15:21:14 2019 +0200

    apps: go get gioui.org/ui@latest
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 19315826837a8cc4a7e55f8c95d327ded83b6606
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jun 9 15:11:02 2019 +0200

    ui/app: (wasm) switch from <textarea> to <input> to avoid double newline
    
    With a <textarea> DOM element pressing the enter key will result in
    a "Enter" key down event and a "\n" input event. We're only
    interested in the key event, so switching to a single line <input>
    avoids the extra "\n".
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_js.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 441ca835c301bac588c2a1c20c133862c2b62ae7
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jun 9 14:48:15 2019 +0200

    cmd/gio: add -target=js support for creating webassembly packages
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/gio.go     | 10 +++++++---
 cmd/gio/jsbuild.go | 76 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 83 insertions(+), 3 deletions(-)

commit 3c345a67b87040fdf2893e03de3ffc11b3287de3
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Jun 8 15:10:31 2019 +0200

    cmd/gio: add iOS/tvOS support for -buildmode=exe
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/gio.go      | 136 +++---------------------------------
 cmd/gio/iosbuild.go | 372 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 383 insertions(+), 125 deletions(-)

commit c3697fd1893279382def54351bd3eb0482da5a6a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jun 9 12:34:53 2019 +0200

    cmd/gio: change runCmd to return a trimmed string
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/gio.go | 24 ++++++++----------------
 1 file changed, 8 insertions(+), 16 deletions(-)

commit d458070d298e33a24a793495c6a6b404c320a722
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Jun 8 11:31:47 2019 +0200

    cmd/gio: add buildmode=exe for building gio programs ready to run
    
    And add Android implementation.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/androidbuild.go | 538 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 cmd/gio/gio.go          | 359 ++++++++-------------------------------------------------------
 2 files changed, 583 insertions(+), 314 deletions(-)

commit 886e9ba68d9d2c5898af7bba12b349d37f3fac3d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jun 9 10:54:02 2019 +0200

    apps/gophers: go get gioui.org/ui@latest
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit bd005a09e33f6d027c43ce8b5ea139713642e221
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Jun 8 18:28:36 2019 +0200

    ui/app/internal/gpu: upload path data to GPU before re-use
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/gpu.go | 25 ++++++++++++++++++-------
 1 file changed, 18 insertions(+), 7 deletions(-)

commit 108160f502c41d2b87af1c1629b12dc8bdb4bef3
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Jun 8 11:10:16 2019 +0200

    cmd/gio: update usage documentation
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/gio.go | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 52cea80bd494ba223f215c3fe453e8df0dcccce7
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Jun 8 10:56:50 2019 +0200

    ui: update doc comment
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/ops.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 820d26007a49d9636f97f17aa7626df2644cac34
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jun 7 22:54:09 2019 +0200

    apps/gophers: update to merged input queue API
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          |  2 +-
 apps/gophers/main.go | 35 ++++++++++++++++-------------------
 2 files changed, 17 insertions(+), 20 deletions(-)

commit a35118d5228eab171523f30e7c1ca5182421032c
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jun 7 21:41:09 2019 +0200

    ui: add package input for merged input
    
    To avoid passing a queue type for each kind of input (pointer, key),
    introduce package input for mapping a handler key to all input events.
    
    Future input sources can be added without changes to programs, and
    as an added bonus, event ordering is preserved across input sources.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/window.go                          |  6 ++----
 ui/gesture/gestures.go                    | 13 ++++++++++--
 ui/input/input.go                         | 20 ++++++++++++++++++
 ui/{key/queue.go => input/key.go}         | 63 +++++++++++++++++++++----------------------------------
 ui/{pointer/queue.go => input/pointer.go} | 88 ++++++++++++++++++++++++++++++++---------------------------------------------
 ui/input/queue.go                         | 53 ++++++++++++++++++++++++++++++++++++++++++++++
 ui/key/key.go                             | 20 ++++++------------
 ui/layout/list.go                         |  3 ++-
 ui/pointer/pointer.go                     | 27 +++++++++++-------------
 ui/text/editor.go                         |  9 ++++----
 10 files changed, 172 insertions(+), 130 deletions(-)

commit 28dd25736f35432850bf5c2df8187315587bcbaa
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jun 7 20:59:20 2019 +0200

    ui/key: make the computed text input state available as a method
    
    When merging the key and pointers input sources, we can't return
    the text input state as a side effect of the Frame method.
    
    Expose it as a method in the key event queue instead.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/key/queue.go | 17 ++++++++++++-----
 1 file changed, 12 insertions(+), 5 deletions(-)

commit bb6ee05d95a155095f88e6f55dffaad3614a5ff4
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jun 7 20:24:11 2019 +0200

    ui/key: don't drop handlers that haven't had their events read
    
    Similar to the previous change for pointers, only determine the
    activeness of a handler from its presence in the ops list.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/key/queue.go | 86 ++++++++++++++++++++++++++++++++++++++++++++++++++++++--------------------------------
 1 file changed, 54 insertions(+), 32 deletions(-)

commit a78f9c6eaa7d3ed305aad37c4e1302bce3299f35
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Jun 7 19:35:46 2019 +0200

    ui/pointer: don't drop handlers that whose events haven't been read
    
    We're about to merge the pointer and key event streams in a single
    input queue. To do that, we need to simplify Queue.For to just returning
    events for the given handler.
    
    First step is the handler active flag.
    
    Dropping handlers that haven't had their events read doesn't seem
    worth it. Drop that special case and only determine a handler's activeness
    from its presence in the ops list.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/pointer/queue.go | 37 +++++++++++++++++--------------------
 1 file changed, 17 insertions(+), 20 deletions(-)

commit 56bfc6e3481bd81351d77bc241f2bb1dfff2c12d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Jun 5 10:53:25 2019 +0200

    ui/pointer: unexport HitResult enum
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/pointer/pointer.go | 18 +++++++++---------
 ui/pointer/queue.go   | 12 ++++++------
 2 files changed, 15 insertions(+), 15 deletions(-)

commit f2679b202489afe5e155010f3e8c3a3f24cbf212
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Jun 5 10:51:45 2019 +0200

    ui/pointer: add Transparent to OpArea to allow events to pass through
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/pointer/pointer.go | 10 ++++++++--
 1 file changed, 8 insertions(+), 2 deletions(-)

commit b12430bab392f17b03aaa63c1bc0cc864b0c8cf1
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Jun 5 10:46:23 2019 +0200

    ui/pointer: unexport OpArea.Hit
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/pointer/pointer.go | 2 +-
 ui/pointer/queue.go   | 8 ++++----
 2 files changed, 5 insertions(+), 5 deletions(-)

commit 13f69a28ac2a98c480d6e3987135f6fa596edadd
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jun 3 16:12:43 2019 +0200

    apps/gophers: upgrade to simpler layout API
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          |   2 +-
 apps/gophers/main.go | 175 ++++++++++++++++++++++++++++++++++++++++++++++++++-----------------------------------------------
 2 files changed, 91 insertions(+), 86 deletions(-)

commit df791f2e9b17979b4e6f94417aee5a0f2f440e19
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jun 3 16:08:38 2019 +0200

    ui: remove ui.Ops parameters from layouts and path builder structs
    
    Layouts and path builders are transient and need an ops list for
    operation. However, instead of passing the ops list to every method,
    pass the list in an init method and store it for subsequent methods.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/draw/path.go       | 67 ++++++++++++++++++++++++++++++++++++-------------------------------
 ui/layout/flex.go     | 32 +++++++++++++++++---------------
 ui/layout/layout.go   | 12 +++++++++---
 ui/layout/list.go     | 31 +++++++++++++++----------------
 ui/layout/stack.go    | 32 +++++++++++++++++---------------
 ui/measure/measure.go | 13 +++++++------
 6 files changed, 101 insertions(+), 86 deletions(-)

commit 60fd129fdac4ae13d169610133e17bdfb53345ce
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jun 3 15:24:00 2019 +0200

    apps/gophers: upgrade to OpArea API
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          | 2 +-
 apps/gophers/main.go | 6 ++++--
 2 files changed, 5 insertions(+), 3 deletions(-)

commit 955fe1bc7705ccf907b082e0ef2894131cd5861b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jun 3 14:07:56 2019 +0200

    ui: make the reference list argument to Ops.Write variadic
    
    Makes the code nicer.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/draw/draw.go       |  6 +++---
 ui/draw/path.go       |  4 ++--
 ui/key/key.go         |  4 ++--
 ui/ops.go             | 22 +++++++++++++---------
 ui/pointer/pointer.go |  4 ++--
 ui/ui.go              |  6 +++---
 6 files changed, 25 insertions(+), 21 deletions(-)

commit 402837bbfaf5187160fe9746f86dfec5c3442d8a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jun 3 14:48:15 2019 +0200

    ui/pointer/queue: intersect hit areas of stacked OpAreas
    
    Instead of using the most recent area for hit testing a pointer handler,
    use the intersection of the areas up until the handler.
    
    Fixes a bug where layout.List children received pointer events in their
    clipped areas.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/pointer/queue.go | 72 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++---------
 1 file changed, 63 insertions(+), 9 deletions(-)

commit 40856a244ec184a95fd0e4973d30b0191ff34c05
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jun 3 13:09:07 2019 +0200

    ui/pointer: introduce OpArea for pointer hit testing
    
    Split out OpArea from OpHandler to allow stacked areas in a followup.
    
    Replace hit closures with static shapes (rectangles and ellipses) to
    avoid allocations. If needed, generic hit functions can be introduced
    again later.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/gesture/gestures.go | 40 ++++------------------------------------
 ui/internal/ops/ops.go |  7 ++++---
 ui/layout/list.go      | 10 +++++++---
 ui/pointer/pointer.go  | 87 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-------
 ui/pointer/queue.go    | 14 +++++++++-----
 ui/text/editor.go      |  6 +++---
 6 files changed, 107 insertions(+), 57 deletions(-)

commit 559db02035bc46b62afd9f870cb724d5e79faf77
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Jun 3 13:26:47 2019 +0200

    ui: simplify op size and reference count code
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/internal/ops/ops.go | 51 +++++++++++++++++++++++++++++++++------------------
 ui/ops.go              | 46 +++++-----------------------------------------
 2 files changed, 38 insertions(+), 59 deletions(-)

commit 86f6765e64ae25dd404347221e4bb219aa92c468
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jun 2 22:51:33 2019 +0200

    ui/app/internal/gl: avoid allocations when passing handles to C
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gl/functions.go | 45 ++++++++++++++++++++-------------------------
 1 file changed, 20 insertions(+), 25 deletions(-)

commit 659a85aae082ccecd6df46d9dde86be9f410dee0
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jun 2 22:45:44 2019 +0200

    ui/app/internal/gpu: add specialized path cache to avoid key allocations
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/caches.go | 107 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 ui/app/internal/gpu/gpu.go    |  63 ++++++++--------------------------------------------
 2 files changed, 116 insertions(+), 54 deletions(-)

commit 34fe8726355dee7921f353e442ca346add726e8d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jun 2 22:36:29 2019 +0200

    apps/gophers: upgrade to latest path clipping API
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          |  2 +-
 apps/gophers/main.go | 24 ++++++++++++------------
 2 files changed, 13 insertions(+), 13 deletions(-)

commit 1e38eec0abc1198e20d556f9f21345bf0114b211
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jun 2 16:43:28 2019 +0200

    ui: build paths as ops
    
    Instead of allocating and constructing a clip path, store path data
    directly in op lists. Use separate op lists for cached text layout
    paths.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/gpu.go  |  81 ++++++++++++++++++++++++++++++++++++-----------------
 ui/app/internal/gpu/path.go |   6 ++--
 ui/app/window.go            |   6 ++--
 ui/draw/draw.go             |  11 ++------
 ui/draw/path.go             | 138 ++++++++++++++++++++++++++++++++++++++++++++++--------------------------------------------
 ui/internal/ops/ops.go      |   9 ++++--
 ui/internal/path/path.go    |   7 -----
 ui/key/queue.go             |   6 ++--
 ui/layout/list.go           |   2 +-
 ui/measure/measure.go       |  21 ++++++++------
 ui/ops.go                   |  97 ++++++++++++++++++++++++++++++++++++++++++++++++++++++---------
 ui/pointer/queue.go         |   8 +++---
 ui/text/editor.go           |   9 +-----
 ui/text/label.go            |   3 +-
 ui/text/measure.go          |   4 +--
 15 files changed, 248 insertions(+), 160 deletions(-)

commit 9f58ed0fea4e7b1f8f69846d8f72bec19390d7ed
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jun 2 15:38:00 2019 +0200

    ui: add version to OpBlock to track invalidated blocks
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/internal/ops/ops.go |  2 +-
 ui/ops.go              | 15 ++++++++++++---
 2 files changed, 13 insertions(+), 4 deletions(-)

commit a4ccc861ac140b6a26789c13387259a4161a3785
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jun 2 15:14:13 2019 +0200

    apps/gophers: switch to explicit drawing state stack
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/gophers/main.go | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit 9142345fd41636140f6e1e24f838f50fff5b837f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jun 2 15:10:09 2019 +0200

    ui: make OpPush and OpPop explicit
    
    We're about to allow OpBlock for invoking ops from multiple (cached)
    Ops containers. To allow for drawing state changes to stick after
    invoking such a cached block, we can't let OpBlock perform an implicit
    save and restore of drawing state.
    
    Instead, introduce OpPush and OpPop for explicit drawing state stack
    management.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/flex.go   |  4 ++--
 ui/layout/layout.go |  8 ++++----
 ui/layout/list.go   |  4 ++--
 ui/layout/stack.go  |  4 ++--
 ui/ops.go           | 20 ++++++++++++++------
 ui/text/editor.go   |  4 ++--
 ui/text/label.go    |  4 ++--
 7 files changed, 28 insertions(+), 20 deletions(-)

commit bf5d083b8aa9be0a929fb23f138be61a5e732365
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Jun 1 21:41:32 2019 +0200

    ui,ui/internal/ops: store owner Ops in OpBlock
    
    Allows users to refer to other (cached) Ops from a main Ops.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/internal/ops/ops.go |  2 +-
 ui/ops.go              | 32 +++++++++++++++++++++-----------
 2 files changed, 22 insertions(+), 12 deletions(-)

commit 9d661277dae71d4759d3fdd6fb710916c712ffb0
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Jun 1 21:36:42 2019 +0200

    ui: encapsulate encoded ops in a new type, opsData
    
    Used for making OpBlock refer to other Ops.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/ops.go | 50 ++++++++++++++++++++++++++++++--------------------
 1 file changed, 30 insertions(+), 20 deletions(-)

commit 0d2cffe1968819bf84e3f3c88464e3e4d011ef7a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Jun 1 20:48:36 2019 +0200

    ui: let OpsReader keep track of references
    
    Instead of exposing the entire reference slice, return the relevant
    references from Next.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/gpu.go |  10 +++----
 ui/app/window.go           |   2 +-
 ui/draw/draw.go            |  27 ++++++++---------
 ui/draw/path.go            |  10 ++-----
 ui/internal/ops/ops.go     |  32 +++++++++++++++-----
 ui/key/key.go              |  12 ++------
 ui/key/queue.go            |   4 +--
 ui/ops.go                  | 148 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++-------------------------
 ui/pointer/pointer.go      |  13 ++------
 ui/pointer/queue.go        |   4 +--
 ui/ui.go                   |   6 ++--
 11 files changed, 165 insertions(+), 103 deletions(-)

commit 5966aab77e87d1d1b46f7fd21830511face44859
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Jun 1 19:46:46 2019 +0200

    ui: move ops reader to ui package
    
    To prepare support for cached OpBlock to refer to other Ops lists.
    
    The exposure of OpsReader is alleviated by the removal of the Refs
    and Data accessors for Ops.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/gpu.go |  6 +++---
 ui/app/window.go           |  6 +++---
 ui/internal/ops/ops.go     | 81 ---------------------------------------------------------------------------------
 ui/key/queue.go            |  6 +++---
 ui/ops.go                  | 87 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++---------
 ui/pointer/queue.go        |  6 +++---
 6 files changed, 90 insertions(+), 102 deletions(-)

commit 528a588f2e40fa443920767a80c47e8deb70f640
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jun 2 19:17:15 2019 +0200

    apps/hello: update to explicit API
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/hello/hello.go | 7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)

commit 1c880f2b9de5050997d4212077caa56482598063
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Jun 2 15:08:49 2019 +0200

    ui/layout: activate sanity checks for Stack
    
    Added by an earlier change, but not activated.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/stack.go | 10 ++++------
 1 file changed, 4 insertions(+), 6 deletions(-)

commit b55a02f5976bafa62cf3a5d83180b60d07b665ff
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Jun 1 18:45:35 2019 +0200

    apps: go get gioui.org/ui@latest
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7ae8fdaae7a3775c1f645f9d22bbc6c4a48db84d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Jun 1 18:43:51 2019 +0200

    ui/app/internal/gpu: track image and color in a state stack
    
    Just like the other drawing state, the current image or color must
    be tracked in a stack.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/gpu.go | 70 +++++++++++++++++++++++++++++++++++++---------------------------------
 1 file changed, 37 insertions(+), 33 deletions(-)

commit d752040f17eab2154eed391994d270f78b94a8d1
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Jun 1 18:21:58 2019 +0200

    ui/draw: typo
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/draw/path.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 16a55850cb56b4693c64ee38743b909478d8bb8a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Jun 1 13:05:32 2019 +0200

    apps/gophers: switch to new OpImage, OpColor, OpDraw API
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          |  2 +-
 apps/gophers/main.go | 63 ++++++++++++++++++++++++++++++++++++++++++---------------------
 2 files changed, 43 insertions(+), 22 deletions(-)

commit 00a87f542dcbc255d05a468b41d5c07a8e402386
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Jun 1 13:01:51 2019 +0200

    ui: introduce OpColor, a specialized OpImage for uniform colors
    
    To avoid allocating an image.Image for OpImage.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/gpu.go | 14 +++++++++++++-
 ui/draw/draw.go            | 29 +++++++++++++++++++++++++++++
 ui/internal/ops/ops.go     |  3 +++
 3 files changed, 45 insertions(+), 1 deletion(-)

commit 0061c73a89aa026b9c0dbe326c20ae8e08c0ca7b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Jun 1 12:43:33 2019 +0200

    ui: split OpImage into OpImage and OpDraw
    
    In preparation for an OpColor (and future OpGradient and similar).
    
    Label and Editor no longer take an explicit source image. They
    draw with the current image.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/gpu.go | 27 ++++++++++++++++++---------
 ui/draw/draw.go            | 83 +++++++++++++++++++++++++++++++++++++++++++++++++++--------------------------------
 ui/internal/ops/ops.go     |  5 ++++-
 ui/text/editor.go          |  6 ++----
 ui/text/label.go           |  3 +--
 ui/widget/image.go         |  3 ++-
 6 files changed, 78 insertions(+), 49 deletions(-)

commit 29993af4082c151c2c334a936c72b8e035e267d4
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri May 31 14:41:05 2019 +0200

    apps/gophers: add per-frame mallocs to profiling status line
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/gophers/main.go | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit bb0f80902fb9c7aa675010d5b9fc83b152063276
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu May 30 21:57:43 2019 +0200

    apps/gophers: update event method names
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          | 2 +-
 apps/gophers/main.go | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit a7874d70ef29b63bf7b77a5e1d33c77d316edda6
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu May 30 21:55:52 2019 +0200

    ui: rename event methods to Update
    
    For uniformity.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/gesture/gestures.go | 2 +-
 ui/layout/list.go      | 4 ++--
 ui/text/editor.go      | 2 +-
 3 files changed, 4 insertions(+), 4 deletions(-)

commit 67bfa38e02a058c96037e859b5105e836ab2a052
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu May 30 21:46:30 2019 +0200

    apps/gophers: switch to explicit layout methods
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          |   2 +-
 apps/gophers/main.go | 308 +++++++++++++++++++++++++++++++++++++++++++++++++++++++------------------------------------------
 2 files changed, 176 insertions(+), 134 deletions(-)

commit 9b3429d6da910239c8c8979ae1428dd9783d76a3
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu May 30 21:39:00 2019 +0200

    ui: switch to (more) explicit layout
    
    The layout package switched from interfaces to functions for
    composing layouts. The switch made sure that no garbage is
    generated for transient layouts such as Align, Inset, Stack, Flex.
    
    Unfortunately, that left the stateful widgets and layouts: as soon
    as their layout methods are embedded in a transient layout, a
    closure is generated that escapes to the heap.
    
    To avoid garbage for both transient as well as stateful widgets,
    replace the functional approach with explicit begin/end methods.
    
    A begin method generally starts an op block and returns the adjusted
    constraints. An end method takes computed dimensions, ends its op
    block and returns adjusted dimensions.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/flex.go   | 68 +++++++++++++++++++++++++++++++++++++++++++-------------------------
 ui/layout/layout.go | 44 +++++++++++++++++++++++++-------------------
 ui/layout/list.go   | 90 ++++++++++++++++++++++++++++++++++++++++++++++--------------------------------------------
 ui/layout/stack.go  | 59 ++++++++++++++++++++++++++++++++++++++---------------------
 ui/text/editor.go   |  2 +-
 ui/text/label.go    |  2 +-
 ui/widget/image.go  |  2 +-
 7 files changed, 155 insertions(+), 112 deletions(-)

commit 5cc9906eb824fe16317bdb2192f4e71d88aaa286
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon May 27 11:35:40 2019 +0200

    ui/app: (windows) use the new golang.org/x/sys/windows.MessageBox function
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.sum           | 4 ++--
 ui/app/egl_windows.go | 9 +--------
 ui/go.mod             | 2 +-
 ui/go.sum             | 4 ++--
 4 files changed, 6 insertions(+), 13 deletions(-)

commit e5ddb0b903c7287a0abfc64cf91fca5a0f9c4c53
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri May 24 14:05:30 2019 +0200

    ui/app: (macOS) use CFTypeRef for the view factory
    
    The os and gl packages were separate in the past, which required
    uintptr for cross-package CFTypeRefs. That's no longer needed.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/gl_macos.go | 4 ++--
 ui/app/os_macos.go | 4 ++--
 2 files changed, 4 insertions(+), 4 deletions(-)

commit a1c0693eeb163f015cf2e50e03e2b4f0c85c68f3
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri May 24 14:01:26 2019 +0200

    ui/app: add Lock/Unlock to Context for macOS
    
    Without locking, asynchronous OpenGL rendering crashes on macOS.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/egl.go              |  4 ++++
 ui/app/gl_ios.go           |  4 ++++
 ui/app/gl_js.go            |  4 ++++
 ui/app/gl_macos.go         | 13 +++++++++++++
 ui/app/gl_macos.h          |  2 ++
 ui/app/gl_macos.m          | 10 ++++++++++
 ui/app/internal/gl/gl.go   |  2 ++
 ui/app/internal/gpu/gpu.go |  2 ++
 8 files changed, 41 insertions(+)

commit c3ea85801c79442c04ffa2979d142d8591cf3d9d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu May 23 10:17:15 2019 +0200

    ui/app: (wasm) replace TypedArrayOf with the CopyBytes* API
    
    syscall/js.TypedArrayOf is going away in Go 1.13 and is replaced by
    the CopyBytesToGo, CopyBytesToJS.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/gophers/web/wasm_exec.js | 39 +++++++++++++++++++++++++++++++++++----
 ui/app/internal/gl/gl_js.go   |  8 ++------
 2 files changed, 37 insertions(+), 10 deletions(-)

commit edec032ae6b6c1a1e9664a30d70061bc079bf3a1
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu May 23 10:09:33 2019 +0200

    ui/app: (wasm) re-use javascript buffer
    
    Now that syscall/js.TypedArrayOf is going away in Go 1.13 (sse
    https://golang.org/issue/31980), copying byte slices to JS before
    use is necessary. To avoid garbage, re-use a single buffer for all
    transfers.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gl/gl_js.go | 59 +++++++++++++++++++++++++++++++----------------------------
 1 file changed, 31 insertions(+), 28 deletions(-)

commit 7b13da729984bf4b1e3d2b1e29ed6acafca247b5
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu May 23 09:41:54 2019 +0200

    ui/app: (wasm) use JS allocated buffer for invalidateFramebuffer
    
    syscall/js.TypedArrayOf is going away in Go 1.13. Avoid it for
    invalidateFramebuffer by using a buffer managed by JS.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gl/gl_js.go | 20 +++++++-------------
 1 file changed, 7 insertions(+), 13 deletions(-)

commit bc481ea784339e57b5f1bd6e67245597dd32765a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue May 21 15:56:56 2019 +0200

    ui/app: serialize event handling
    
    The frame callback for macOS comes in from a different thread than
    the UI thread. Serialize event handling to maintain the invariant
    that only one event is processed at a time.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/window.go | 4 ++++
 1 file changed, 4 insertions(+)

commit da598663f7fe98a4bc748b03f5db378b331f370c
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu May 16 21:47:30 2019 +0200

    ui/app: add GL buffer caches
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/egl.go                    |  1 +
 ui/app/gl_ios.go                 |  1 +
 ui/app/gl_macos.go               |  1 +
 ui/app/internal/gl/functions.go  | 42 +++++++++++++++++-------------------------
 ui/app/internal/gl/gl_windows.go | 31 +++++++++++++------------------
 5 files changed, 33 insertions(+), 43 deletions(-)

commit 642318842c7027349594eefb450fdd112404ce9a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu May 16 21:16:36 2019 +0200

    ui/app/internal/gpu: add pathOp cache
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/gpu.go | 15 ++++++++++++---
 1 file changed, 12 insertions(+), 3 deletions(-)

commit 4513d109b17398c45122f8f8585a4dec15aca9c8
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu May 16 19:35:02 2019 +0200

    apps/hello: fix build
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/hello/hello.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 51d1c32c070dd27e80324c9e145df0b4b663e58d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu May 16 19:34:06 2019 +0200

    apps/gopers: update to new Config convenience methods
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          |  2 +-
 apps/gophers/main.go | 34 +++++++++++++++++-----------------
 2 files changed, 18 insertions(+), 18 deletions(-)

commit 00cb158247fe6c460d6bf774eb89bf565d830ba6
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu May 16 19:32:47 2019 +0200

    ui: add Config.Sp and Config.Dp convenience methods
    
    And rename Pixels to Val.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_macos.go     |  4 ++--
 ui/app/os_wayland.go   |  4 ++--
 ui/app/os_windows.go   |  4 ++--
 ui/gesture/gestures.go |  8 ++++----
 ui/measure/measure.go  |  4 ++--
 ui/text/editor.go      |  4 ++--
 ui/ui.go               | 14 ++++++++++++--
 7 files changed, 26 insertions(+), 16 deletions(-)

commit acf345a0f88be42d87ced0bb66e184297ec34bfe
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu May 16 15:42:19 2019 +0200

    apps/gophers: use shorter layout method names
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          |  2 +-
 apps/gophers/main.go | 74 +++++++++++++++++++++++++++++++++++++-------------------------------------
 2 files changed, 38 insertions(+), 38 deletions(-)

commit 2d96e760d39a964c16a2de2e7f701f87ec590f22
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu May 16 15:41:43 2019 +0200

    ui/layout,ui/text,ui/widget: shorten Widget function names to W
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/layout.go | 20 ++++++++++----------
 ui/text/editor.go   |  2 +-
 ui/text/label.go    |  2 +-
 ui/widget/image.go  |  2 +-
 4 files changed, 13 insertions(+), 13 deletions(-)

commit 3e5e9b2df2a4c21d46e9ec61adbd230adbc1a8bc
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu May 16 11:44:30 2019 +0200

    apps/gophers: convert to new explicit layout API
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          |   2 +-
 apps/gophers/main.go | 321 ++++++++++++++++++++++++++++++++++++++++++++++++-------------------------------------------------
 2 files changed, 160 insertions(+), 163 deletions(-)

commit e436dce0e761d9b14cebf80868beed8fd1435835
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu May 16 11:44:17 2019 +0200

    ui/layout: make layout API explicit
    
    With layout.Widget a function instead of an interface, the amount
    of per-frame garbage can be drastically reduced.
    
    The layout code ends up slightly more explicit.
    
    As a side benefit, the awkward ordering indexing for Flex and Stack
    fit nicely into their new explicit Layout methods.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/flex.go   |  91 ++++++++++++++++-------------------------
 ui/layout/layout.go | 218 +++++++++++++++++++++++++++++++++++++++++---------------------------------------------------------
 ui/layout/list.go   |  40 ++++++++----------
 ui/layout/stack.go  |  65 ++++++++++-------------------
 4 files changed, 162 insertions(+), 252 deletions(-)

commit 25ba53ea51dc568f7cea0ee2e7e478b4abfc2798
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu May 16 09:57:45 2019 +0200

    ui/app: (macOS) suppress key shortcuts beeps
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/gl_macos.m | 4 ++++
 1 file changed, 4 insertions(+)

commit 44e02786c6ead8f96c3c1a5afd2a5c8ea87b86f0
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed May 15 22:48:05 2019 +0200

    README.md: note that todos can now be filed through email
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

commit d98f579048b997871d449b6de28087de259242f4
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue May 14 16:01:59 2019 +0200

    ui/layout: remove unused layout.Interface
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/list.go | 5 -----
 1 file changed, 5 deletions(-)

commit a6fc2b6d459a6fae547167d9eeb8fd66f27a970a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon May 13 21:41:28 2019 +0200

    ui/app: round total and cpu times
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/window.go | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 3c9c38947d1199026e288690cc4ecb42d90f8bac
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon May 13 21:30:26 2019 +0200

    ui/app: (wasm) don't focus input field on mouse down or touch start
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_js.go | 2 --
 1 file changed, 2 deletions(-)

commit 32c525f7fd6574b9947d8321f48e71ae25737bdc
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon May 13 19:50:26 2019 +0200

    ui/app/internal/gpu: check for GL_EXT_disjoint_timer_query_webgl2
    
    GL_EXT_disjoint_timer_query_webgl2 is the WebGL 2 counterpart to
    the WebGL 1 GL_EXT_disjoint_timer_query extension.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/context.go | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 90d2174090eb3608056aff9cdbd27be171c0dd90
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon May 13 12:49:43 2019 +0200

    ui/app: take input focus when initializing the HTML canvas element
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_js.go | 1 +
 1 file changed, 1 insertion(+)

commit 18c74f00aff1b190d85e898fbf5af9e5147067e5
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon May 13 12:44:47 2019 +0200

    ui/app/internal/gpu: check floating point FBO support
    
    Some devices don't support floating point FBOs even though they
    support OpenGL ES 3. Check support by creating a FBO and fail early
    if no support is found.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/context.go | 50 ++++++++++++++++++++++++++++++++++++--------------
 1 file changed, 36 insertions(+), 14 deletions(-)

commit 8f3384ffe499d1b7b32961f852d60fdee2faa965
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon May 13 09:52:39 2019 +0200

    ui/app/internal/gl: add RENDERER enum value
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gl/gl.go | 1 +
 1 file changed, 1 insertion(+)

commit 379cab92c4be15827960ad45b02a36c10b1574ec
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun May 12 20:24:20 2019 +0200

    apps: go get gioui.org/ui@latest
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit c342054dbc08b71de3b5774145a6ba7d48fd4b10
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun May 12 20:23:07 2019 +0200

    ui/app: apply monitorScale to browser DPI
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_js.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1e14540a6f6345505b1810cb39fafd8655e81baa
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun May 12 18:07:57 2019 +0200

    apps: go get gioui.org/ui@latest
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 701ceda4d06df1eb649e8cb5ead6dfe7a5c844ac
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun May 12 18:06:18 2019 +0200

    ui/gesture,ui/editor: don't focus and show keyboard on touch press
    
    Wait until click for touches.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/gesture/gestures.go | 5 +++--
 ui/text/editor.go      | 5 +++--
 2 files changed, 6 insertions(+), 4 deletions(-)

commit 530b9b09b2987fe4e7365023bfe4c29f5078ccac
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun May 12 18:00:25 2019 +0200

    ui/app/internal/gpu: drop useless timing
    
    It is almost always 0.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/gpu.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 07a5a6547eeeea02e75eb4f2a6c11b4880c40c1e
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun May 12 17:51:15 2019 +0200

    ui/app: add CPU draw timings
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/window.go | 9 ++++++++-
 1 file changed, 8 insertions(+), 1 deletion(-)

commit 84f80711dc9bc23720b08d6f44e757bc50dbf355
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun May 12 17:43:23 2019 +0200

    apps/gophers: correct inverted logic
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/gophers/main.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 31bec932d106a168adfdd72cba040303296a76c0
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun May 12 17:33:14 2019 +0200

    apps: go get gioui.org/ui@latest
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1d91555ace5dd9db949db6fe3f01816b941e0bfa
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun May 12 15:11:44 2019 +0200

    apps/gophers: add context cancellation on StagePaused
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/gophers/main.go | 33 +++++++++++++++++++++++----------
 1 file changed, 23 insertions(+), 10 deletions(-)

commit e2a1f07b8497a325115bcd58cd453a5045d8353c
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun May 12 14:59:07 2019 +0200

    ui/app: rename StageVisible and StageInvisible
    
    StageRunning and StagePaused better reflect their use.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/app.go        | 12 ++++++------
 ui/app/os_android.go | 12 ++++++------
 ui/app/os_ios.go     |  6 +++---
 ui/app/os_js.go      |  2 +-
 ui/app/os_macos.go   |  6 +++---
 ui/app/os_wayland.go |  6 +++---
 ui/app/os_windows.go |  6 +++---
 ui/app/window.go     | 10 +++++-----
 8 files changed, 30 insertions(+), 30 deletions(-)

commit 4441a3e13ef5bac4be842228ed14f48ff21c4da6
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun May 12 14:47:38 2019 +0200

    Revert "ui/app,apps: unexport ChangeStage and Stage"
    
    I found a convincing use case: stopping asynchronous activities
    while paused. A follow up change will rename the stages and add
    an example.
    
    This reverts commit f9840b0963d16028521fef6911f993194d484b0b.

 apps/gophers/main.go |  1 +
 ui/app/app.go        | 30 +++++++++++++++---------------
 ui/app/os_android.go | 20 ++++++++++----------
 ui/app/os_ios.go     |  8 ++++----
 ui/app/os_js.go      |  2 +-
 ui/app/os_macos.go   | 14 +++++++-------
 ui/app/os_windows.go | 16 ++++++++--------
 ui/app/window.go     | 28 ++++++++++++++++------------
 8 files changed, 62 insertions(+), 57 deletions(-)

commit af7a0ad2934cf44f18d25ab3ff0f40a259ed8a4b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat May 11 14:49:37 2019 +0200

    REEADME.md: fix typo
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit f9840b0963d16028521fef6911f993194d484b0b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat May 11 13:50:18 2019 +0200

    ui/app,apps: unexport ChangeStage and Stage
    
    I'm not convinced the API is right. For exmaple, an event that
    notifies a program when to save its state is both smaller and
    might be sufficient.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/gophers/main.go |  1 -
 ui/app/app.go        | 30 +++++++++++++++---------------
 ui/app/os_android.go | 20 ++++++++++----------
 ui/app/os_ios.go     |  8 ++++----
 ui/app/os_js.go      |  2 +-
 ui/app/os_macos.go   | 14 +++++++-------
 ui/app/os_windows.go | 16 ++++++++--------
 ui/app/window.go     | 28 ++++++++++++----------------
 8 files changed, 57 insertions(+), 62 deletions(-)

commit 314c79a7258754231088fc2f482aca629c326210
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat May 11 13:49:47 2019 +0200

    ui/app: fix iOS build
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/gl_ios.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 6d690fd3435791e8b1ee9b27ba1df5cfca5cdb4d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat May 11 13:34:01 2019 +0200

    README.md: add note about webassembly support
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 15 ++++++++++++++-
 1 file changed, 14 insertions(+), 1 deletion(-)

commit 1b6a0580a7598c85ffbfa3fe998112bad87cf64d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat May 11 13:22:13 2019 +0200

    apps: go get gioui.org/ui@latest
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 801ce944f220c988200f73baeed78ad4a58c843f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat May 4 08:43:05 2019 +0200

    apps/gophers/web: add driver files for WebAssembly builds
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/gophers/web/index.html   |  27 +++++
 apps/gophers/web/wasm_exec.js | 502 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 529 insertions(+)

commit 0397cbb599a37bef5a16ceb6431af127201f34ea
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat May 11 13:15:48 2019 +0200

    ui/app: add basic webassembly/webgl support
    
    It is still slow. And crashy: https://github.com/golang/go/issues/31980.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/gl_js.go                |  81 ++++++++++++++++++
 ui/app/internal/gl/gl_js.go    | 329 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 ui/app/internal/gl/types_js.go |  19 +++++
 ui/app/os_js.go                | 402 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 4 files changed, 831 insertions(+)

commit f1c87417bd459c559a605555070520877ecc7b4d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat May 11 13:13:56 2019 +0200

    ui/app: split extension string before matching
    
    Avoids false matches for extensions whose names are substrings of
    other extensions.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/egl.go                  | 13 +++++++++++--
 ui/app/internal/gpu/context.go | 23 ++++++++++++++++-------
 2 files changed, 27 insertions(+), 9 deletions(-)

commit c6863581e0e2cc31a35bbcdce75b4f94a834d19b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed May 8 15:36:28 2019 +0200

    ui/app/internal/gl: add workaround for broken sRGB FBOs
    
    Safari on macOS don't treat sRGB correctly.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gl/functions.go  |  8 ++++++++
 ui/app/internal/gl/gl_windows.go |  4 ++++
 ui/app/internal/gl/srgb.go       | 30 ++++++++++++++++++++++++++----
 3 files changed, 38 insertions(+), 4 deletions(-)

commit 51482b6493a4925e4de4a936d486dabe673e16c5
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat May 4 15:50:10 2019 +0200

    ui/app/internal/gpu: move sRGBA feature detection to context
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/context.go | 37 +++++++++++++++----------------------
 ui/app/internal/gpu/gpu.go     | 11 ++---------
 2 files changed, 17 insertions(+), 31 deletions(-)

commit fd9eb029c83927d44108bc68e0cdeb61fc8c893f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat May 4 15:43:22 2019 +0200

    ui/app/internal/gpu: drop opaque texture optimization
    
    It doesn't seem worth the trouble: images must be scanned for
    alpha != 1 and GPUs don't like RGB formats. Use RGBA always.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/gpu.go | 48 ++++++++++++------------------------------------
 1 file changed, 12 insertions(+), 36 deletions(-)

commit 871ae34be50a9e2522b82efca921721e62375182
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat May 4 14:48:10 2019 +0200

    ui/app/internal/gl: move single channel format detection to context
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/context.go | 12 ++++++++++++
 ui/app/internal/gpu/path.go    |  9 ++-------
 2 files changed, 14 insertions(+), 7 deletions(-)

commit f5fa968038cc43f42c8359896144df2d1a2d7f5b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat May 4 14:29:37 2019 +0200

    ui/app/internal/gpu: implement OpenGL ES 2 float fbo fallbacks
    
    Also applicable to WebGL.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gl/gl.go       |  1 +
 ui/app/internal/gpu/context.go | 44 +++++++++++++++++++++++++++++++++++++++-----
 ui/app/internal/gpu/path.go    |  9 +++++----
 3 files changed, 45 insertions(+), 9 deletions(-)

commit d118bd5a88a2f374c7429a5dc08fd2c5bcf522a7
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat May 4 11:45:28 2019 +0200

    ui/app/internal/gpu: introduce caps and context
    
    Enables graceful fallback to OpenGL ES 2 and WebGL.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/context.go |  52 ++++++++++++++++++++++++++++++++++++++++
 ui/app/internal/gpu/gpu.go     | 112 ++++++++++++++++++++++++++++++++++-----------------------------------------------------
 ui/app/internal/gpu/path.go    |  62 ++++++++++++++++++++++++------------------------
 ui/app/internal/gpu/timer.go   |   6 ++---
 4 files changed, 130 insertions(+), 102 deletions(-)

commit 8df5feeeea469b05a501b50f237853172c55345c
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat May 4 13:41:55 2019 +0200

    ui/app: make opengl objects structs
    
    WebGL use opaque values for object handles, not integers. To ensure
    portability, wrap handle types with a struct.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/egl.go                    |  7 +++++++
 ui/app/egl_linux.go              |  7 -------
 ui/app/egl_windows.go            |  7 -------
 ui/app/internal/gl/functions.go  | 84 ++++++++++++++++++++++++++++++++++++++++++++----------------------------------------
 ui/app/internal/gl/gl.go         | 13 +++----------
 ui/app/internal/gl/gl_windows.go | 83 +++++++++++++++++++++++++++++++++++++++++++----------------------------------------
 ui/app/internal/gl/srgb.go       |  6 +++---
 ui/app/internal/gl/types.go      | 19 +++++++++++++++++++
 ui/app/internal/gl/util.go       | 18 +++++++++---------
 ui/app/internal/gpu/gpu.go       |  4 ++--
 ui/app/internal/gpu/path.go      |  6 +++---
 11 files changed, 133 insertions(+), 121 deletions(-)

commit 2af0f63cfba4a89d0e7df8dc3484c1aa43e4a422
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat May 4 13:29:44 2019 +0200

    ui/app/internal/gl: parse WebGL versions
    
    And drop a redundant error message while here.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gl/srgb.go |  2 +-
 ui/app/internal/gl/util.go | 14 +++++++++-----
 2 files changed, 10 insertions(+), 6 deletions(-)

commit 2d7fb556a40dfb443d8113dd56f3c0b4e1dbf601
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed May 8 17:55:42 2019 +0200

    ui/test: invalidate Editor layout on scale changes
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/text/editor.go | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 350dc1910866bf02ced674f29e618b2079a05017
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun May 5 21:26:41 2019 +0200

    ui/app/internal/gl: invalidate the correct fbo in sRGB fallback
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gl/srgb.go | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit af46b2bf29a68c60ab258220f1b59451e637b9ee
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed May 8 14:27:54 2019 +0200

    cmd/gio: remove NDK r19b Windows workaround vestiges
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/gio.go | 31 ++++++++++++-------------------
 1 file changed, 12 insertions(+), 19 deletions(-)

commit 78421b9db95eff8b563fff68eaca01defc999d5c
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun May 5 20:58:40 2019 +0200

    website: add go-source meta tag to link godoc.org to sr.ht repository
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 website/main.go | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

commit 967484ce3a4e0891eeb9eab5bc87dd9c656efed5
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu May 2 17:28:06 2019 +0200

    apps/hello: fix error handling
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/hello/hello.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 20f55a4ad71e43660e4a959d281e1c5e0be843b0
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Apr 27 22:27:50 2019 +0200

    all: delete the ui.Op type
    
    It's no longer used.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/draw/draw.go       |  2 --
 ui/draw/path.go       |  2 --
 ui/key/key.go         |  3 ---
 ui/ops.go             |  2 --
 ui/pointer/pointer.go |  3 +--
 ui/ui.go              | 10 ----------
 6 files changed, 1 insertion(+), 21 deletions(-)

commit 56133632c6feefbd41ab85340c96ba87dc6faa08
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Apr 27 22:24:20 2019 +0200

    ui/layout: rename simple.go to layout.go
    
    A more appropriate name.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/layout/{simple.go => layout.go} | 0
 1 file changed, 0 insertions(+), 0 deletions(-)

commit f60906b8e27393452ddeeda7a03736b15fa75640
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Apr 27 22:23:17 2019 +0200

    apps: go get gioui.org/ui
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 252e05876660b09c7bfa0b443723dc67923827af
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Apr 24 13:33:01 2019 +0200

    all: serialize ops
    
    Pros:
    - Much less per-frame garbage
    - Allow future preprocessing of ops while building it
    - Much fewer interface calls and pointer chasing
    - Allow future serialization of ops for remote rendering
    
    Cons:
    - Slightly clumsier API
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/gophers/main.go       | 131 +++++++++++++++++++++++++++++++++----------------------------------
 apps/hello/hello.go        |   6 ++--
 ui/app/internal/gpu/gpu.go | 176 ++++++++++++++++++++++++++++++++++++++++++++++++++++---------------------------------------
 ui/app/window.go           |  55 ++++++++++++++---------------
 ui/draw/draw.go            |  67 ++++++++++++++++++++++++++++++-----
 ui/draw/path.go            |  25 ++++++++++---
 ui/gesture/gestures.go     |  13 +++----
 ui/internal/ops/ops.go     | 112 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 ui/key/key.go              |  36 +++++++++++++++++++
 ui/key/queue.go            |  63 ++++++++++++++++++---------------
 ui/layout/flex.go          |  52 +++++++++++++++------------
 ui/layout/list.go          |  60 ++++++++++++++++++-------------
 ui/layout/simple.go        |  44 +++++++++++++----------
 ui/layout/stack.go         |  51 +++++++++++++++------------
 ui/ops.go                  |  79 +++++++++++++++++++++++++++++++++++++++++
 ui/pointer/pointer.go      |  29 +++++++++++++++
 ui/pointer/queue.go        |  77 ++++++++++++++++++----------------------
 ui/text/editor.go          |  27 +++++++-------
 ui/text/label.go           |  15 ++++----
 ui/ui.go                   |  70 ++++++++++++++++++++++++++++++------
 ui/widget/image.go         |   6 ++--
 21 files changed, 809 insertions(+), 385 deletions(-)

commit 7b6e1ce35aebd14872cbbd1989f5e44e56dbb8e0
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Apr 26 19:22:59 2019 +0200

    ui/pointer: simplify hit testing
    
    Serialize the implied tree of layers and handlers into a list
    that can be traversed from the end to collect handlers.
    
    This change will make it easier to switch op representation in
    a follow-up change.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/pointer/queue.go | 81 ++++++++++++++++++++++++++++++++++++++++-----------------------------------------
 1 file changed, 40 insertions(+), 41 deletions(-)

commit a8bb3c2f14ae130148e4b39d167858a4d21bc3fe
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Apr 24 15:39:53 2019 +0200

    all: make pointer.Area an interface
    
    With an interface instead of anonymous functions, amending an
    area's parameters can be done even after adding it to an OpHandler.
    
    This will be useful when we switch to serialized op lists.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/gophers/main.go   |  4 ++--
 ui/gesture/gestures.go | 46 +++++++++++++++++++++++++---------------------
 ui/layout/list.go      |  2 +-
 ui/pointer/pointer.go  |  4 +++-
 ui/pointer/queue.go    |  4 ++--
 ui/text/editor.go      |  2 +-
 6 files changed, 34 insertions(+), 28 deletions(-)

commit 3ad94ed20e6eb3a5050018d982ca2bb2b14df3ef
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Apr 24 22:42:58 2019 +0200

    ui/app: don't draw when not animating (Wayland)
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_wayland.go | 3 +++
 1 file changed, 3 insertions(+)

commit e0d586893deb24b83a0c21825ffe0fa48926210c
Author: Elias Naur <mail@eliasnaur.com>
Date:   Thu Apr 25 09:56:34 2019 +0200

    ui/app/internal/gpu: flush before drawing
    
    And delete an unnecessary error check from Flush to make sure pending
    draws are always finalized.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/gpu.go | 4 +---
 1 file changed, 1 insertion(+), 3 deletions(-)

commit 47fbe56766edfd60599122f913ebcdd92b17a26d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Apr 17 12:46:37 2019 +0200

    apps: go get gioui.org
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 8b47e2b4bfe5dff7fa9ecc91624dbbbf166c4402
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Apr 17 12:42:18 2019 +0200

    ui/app: don't use wl_touch interface v6
    
    It's not tested, we don't need v6 capabilities and using them result
    in build errors on older wayland clients:
    
    https://www.reddit.com/r/golang/comments/b7rujg/gio_by_elias_naur_et_al_portable_immediate_mode/ejv804z/
    
    Finally, since we request v5 of the parent wl_seat, the wl_touch instances
    returned to us is capped at v5 anyway.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_wayland.c  | 2 --
 ui/app/os_wayland.go | 8 --------
 2 files changed, 10 deletions(-)

commit d4ff577259e57c9dda18a23bc9dfd9ce12a05a9f
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Apr 7 18:27:04 2019 +0200

    README.md: add download link to Go
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ef20c9339f1957b97d14a73e556674c8f73cdb5a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Apr 6 16:34:40 2019 +0200

    cmd/gio: drop 32-bit support for iOS
    
    64-bit support was added in iOS 8 on iPhone 5S and newer,
    32-bit support was dropped from iOS 12.
    
    Gio is new and we have an opportunity to see if we can live without it.
    We can always add 32-bit support back; it's harder to break users
    later.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/gio.go | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit afa91ed942fe375e27d5fd57508b0ba25873f421
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Apr 5 19:40:15 2019 +0200

    README.md: note that the NVIDIA proprietary driver doesn't work
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 2 ++
 1 file changed, 2 insertions(+)

commit f4f3f9e6403ec2cb9a7f3fc59a73f4c1aa69e9fe
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Apr 5 14:59:39 2019 +0200

    app/hello: add explicit WindowOptions, extract message, color text
    
    Signed-off-by: Anthony Starks <ajstarks@gmail.com>
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/hello/hello.go | 11 ++++++-----
 1 file changed, 6 insertions(+), 5 deletions(-)

commit b5d8e1cfe24a775c888569234be8026938051c2a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Apr 5 11:27:17 2019 +0200

    README.md: describe name and email configuration
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 9 +++++++--
 1 file changed, 7 insertions(+), 2 deletions(-)

commit c20255335f9b0c2a5b261b00e6ee779fe8f35db1
Author: Elias Naur <mail@eliasnaur.com>
Date:   Fri Apr 5 11:10:07 2019 +0200

    README.md: point to git-send-email.io
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit a876ce8a53b09954c465ea873bcadc39b299c2d3
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Apr 3 17:02:55 2019 +0200

    README.md: further clarify the mailing list description
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 31e06bd931f414122da3a4fbd7282a5a94f376a0
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Apr 3 14:57:45 2019 +0200

    README.md: note that the mailing list is open to everyone
    
    A Sourcehut account is only required for subscribing to new posts.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 23c5bbdf48331d4e489ae0b229aa93ad68236f12
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Apr 3 14:48:52 2019 +0200

    apps: go get gioui.org/ui@latest && go mod tidy
    
    go get -u gioui.org/ui also upgrades indirect dependencies, which
    we don't want.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 3 +--
 apps/go.sum | 2 --
 2 files changed, 1 insertion(+), 4 deletions(-)

commit 6f40e80bc22fb05a5b8625944cc35f904f2ba1e7
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Apr 3 13:18:25 2019 +0200

    apps: go get -u gioui.org/ui && go mod tidy
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit b15ec53a03fc718c222ea60afc5c8930be6b0fd6
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Apr 3 13:13:53 2019 +0200

    ui/app: fix display link on iOS 10
    
    For some reason, the CADisplayLink.paused property didn't work on
    iOS 10 but does on iOS 12. Use addToRunLoop and removeFromRunLoop
    instead.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/os_ios.m | 10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit fca780972aa9d95a0492fe127eb0aaf236dfc6e8
Author: Elias Naur <mail@eliasnaur.com>
Date:   Wed Apr 3 12:19:16 2019 +0200

    README.md: add note about commit message style
    
    And move the issues section above the heavy contribution section
    while we're here.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 17 ++++++++++++-----
 1 file changed, 12 insertions(+), 5 deletions(-)

commit 2a99e1c9552b5864fb5987f6db40fe963af1e05c
Author: Wiktor Kwapisiewicz <wiktor@metacode.biz>
Date:   Wed Apr 3 10:09:39 2019 +0200

    README.md: fix git commit signoff command
    
    Signed-off-by: Wiktor Kwapisiewicz <wiktor@metacode.biz>
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 1096ac19381f682d2029398dcfb79afe8f2db9e1
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Apr 2 21:46:41 2019 +0200

    apps/gophers: update commits page config every frame
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/gophers/main.go | 10 +++++-----
 ui/go.sum            |  1 +
 2 files changed, 6 insertions(+), 5 deletions(-)

commit 962736cbbf6c762630e2e2e8a0c1c0c6f288f69b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Apr 2 21:06:30 2019 +0200

    apps/gophers: go back on CommandBack
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          | 2 +-
 apps/gophers/main.go | 8 ++++++++
 2 files changed, 9 insertions(+), 1 deletion(-)

commit fc55c6ee5c2f016fd458f56e8a42a5771df931e4
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Apr 2 21:04:48 2019 +0200

    ui/app: implement Command for system events
    
    And add CommandBack for the Android back button.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/GioActivity.java |  5 +++++
 ui/app/GioView.java     |  5 +++++
 ui/app/app.go           | 23 +++++++++++++++++++----
 ui/app/os_android.c     |  5 +++++
 ui/app/os_android.go    | 11 +++++++++++
 ui/app/window.go        |  3 +++
 6 files changed, 48 insertions(+), 4 deletions(-)

commit 6bd5b7315462014ffa546ffeb221673fa02ed407
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Apr 2 19:55:53 2019 +0200

    apps: go get -u gioui.org/ui && go mod tidy
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit ed2590e30e1da5a4b3c53915dde60f72f3a13d2c
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Apr 2 19:26:23 2019 +0200

    ui/app,apps/gophers,apps/hello: revert NewWindow to CreateWindow
    
    It turns out we already support multiple windows on Android: when
    the activity is recreated.
    
    This reverts commit f21b5eb1df39b00631492c7c8cb2c802fa50ca74.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/gophers/main.go | 25 +++++++++++++++----------
 apps/hello/hello.go  | 48 +++++++++++++++++++++++++-----------------------
 ui/app/app.go        | 13 +++++++++----
 ui/app/os_android.go |  6 ++----
 ui/app/os_ios.go     |  6 ++----
 ui/app/os_macos.go   | 35 ++++++++++++++++++++---------------
 ui/app/os_wayland.go | 10 ++++++----
 ui/app/os_windows.go | 17 +++++++----------
 ui/app/window.go     | 10 ++++------
 9 files changed, 90 insertions(+), 80 deletions(-)

commit 6899f96532d809c8f4f056450718df737660821a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Apr 2 18:59:45 2019 +0200

    apps: go get -u gioui.org/ui && go mod tidy
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 3 ++-
 apps/go.sum | 2 ++
 2 files changed, 4 insertions(+), 1 deletion(-)

commit e7725a4fa1989e5bb8271d41e0c5e013d14dffcd
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Apr 2 18:51:43 2019 +0200

    apps,ui/app: delete ui/app.Window.Ack
    
    Replace it with a dummy event send on the synchronous event channel;
    a bit of cleverness for a simpler API.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/gophers/main.go |  1 -
 apps/hello/hello.go  |  1 -
 ui/app/window.go     | 45 ++++++++++++++++++---------------------------
 3 files changed, 18 insertions(+), 29 deletions(-)

commit abb9d291e954f3b80384046d7d4487e1ead6bd6a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Apr 2 17:22:58 2019 +0200

    ui/app: don't buffer the app event channel
    
    We used to buffer input events to allow for batch processing
    multiple events before redrawing. Now that redraws are scheduled to
    run after the native event queue is empty, buffering is no longer
    necessary.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/window.go | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

commit 48b6a73753e7ee567154297987f24a4d10485999
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Apr 2 17:09:06 2019 +0200

    all: run goimports
    
    gioui.org/ui was renamed from gioui.org/ui/ui before the release,
    but the import order wasn't changed accordingly.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/internal/gpu/gpu.go | 2 +-
 ui/app/os_android.go       | 2 +-
 ui/app/os_wayland.go       | 2 +-
 ui/app/window.go           | 2 +-
 ui/draw/draw.go            | 2 +-
 ui/draw/path.go            | 2 +-
 ui/gesture/gestures.go     | 2 +-
 ui/layout/flex.go          | 2 +-
 ui/layout/list.go          | 2 +-
 ui/measure/measure.go      | 2 +-
 ui/pointer/queue.go        | 2 +-
 ui/text/editor.go          | 2 +-
 ui/text/label.go           | 2 +-
 ui/widget/image.go         | 2 +-
 14 files changed, 14 insertions(+), 14 deletions(-)

commit fc7c5c13f4fb128f69bdd3c7c4b90d6801e809ba
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Apr 2 12:51:19 2019 +0200

    README.md: add EGL development package to Linux requirements
    
    Updates ~eliasnaur/gio#3
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit 3b8cbc605e53607a35c92ff2ff7a0604c985d451
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Apr 2 12:49:04 2019 +0200

    README.md: add missing word
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

commit d18b6b39fe1c2eb82e5f3ac2b06407ec6109410e
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Apr 2 12:41:54 2019 +0200

    README.md: expand contributing section and add issues section
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 23 ++++++++++++++++++++---
 1 file changed, 20 insertions(+), 3 deletions(-)

commit 641c3b727933329e26ed86efa51a8a0f68d8f2c5
Author: Elias Naur <mail@eliasnaur.com>
Date:   Tue Apr 2 08:38:57 2019 +0200

    README.md: add missing GLES dependency
    
    Fixes ~eliasnaur/gio#3
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

commit eaae45d87a73e5696e43c96281da30b6f4a7b7d3
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Apr 1 18:45:43 2019 +0200

    README.md: add setup instructions for Ubuntu
    
    And add minimum versions for Ubuntu and Fedora.
    
    Fixes ~eliasnaur/gio/2
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 8 ++++++--
 1 file changed, 6 insertions(+), 2 deletions(-)

commit 05d337d69598fdd858551b9a27653016da56cdb7
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Apr 1 18:26:15 2019 +0200

    README.md: add Fedora instructions for installing dependencies
    
    Updates ~eliasnaur/gio/2
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 6 ++++--
 1 file changed, 4 insertions(+), 2 deletions(-)

commit 8014de4f233b13ae88d994af51945b78fa0ab4f5
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Apr 1 18:15:55 2019 +0200

    apps: add replace for gioui.org/ui to ../ui for hacking convenience
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 ++
 apps/go.sum | 2 --
 2 files changed, 2 insertions(+), 2 deletions(-)

commit 0c6f874379da3f6b7411ac39ad65203455253449
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Apr 1 17:35:12 2019 +0200

    ui/app: request unbuffered touch events on Android
    
    Flutter and Chromium wants it, so I assume its good for us.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/GioView.java | 7 +++++++
 1 file changed, 7 insertions(+)

commit 1fc75d4eba967fa0dd4f561854ca5c233749210b
Author: Elias Naur <mail@eliasnaur.com>
Date:   Mon Apr 1 12:35:53 2019 +0200

    apps: go get -u gioui.org/ui && go mod tidy
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 apps/go.sum | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit f863260514535f8d245add708d73dbcad117062e
Author: Egon Elbre <egonelbre@gmail.com>
Date:   Mon Apr 1 10:43:24 2019 +0300

    app: replace COREVIDEO_TRUE with kCVReturnSuccess
    
    Signed-off-by: Egon Elbre <egonelbre@gmail.com>
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/gl_macos.m | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 7a0975a5160071cc39e311d515ec0238d3634431
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Mar 31 17:45:01 2019 +0200

    README.md: remove errant period
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit 740679aa395f1b8283cacb0ae5834ab99e9736ad
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Mar 31 17:14:33 2019 +0200

    README.md: add note about Go 1.13 and the vector renderer

 README.md | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit 0aa04b89daeed5d711eb5565ce3a9d0cd9dc56ba
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Mar 31 15:01:21 2019 +0200

    README.md: clean up and fix typos
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 17 +++++++++--------
 1 file changed, 9 insertions(+), 8 deletions(-)

commit c26e3b1191614a7532cc7555e09f1f764190e3a1
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Mar 31 14:54:58 2019 +0200

    apps/gophers,apps/hello: add references to gioui.org
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/gophers/main.go | 2 ++
 apps/hello/hello.go  | 2 ++
 2 files changed, 4 insertions(+)

commit 1d91eb855784041355ac7825b271980dd4bbf2b3
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Mar 31 14:51:21 2019 +0200

    apps/hello: comment the unusual program structure
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/hello/hello.go | 6 ++++++
 1 file changed, 6 insertions(+)

commit 8b2f6dbf13c798b6a5be643bb915092cf77622a5
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Mar 31 14:45:26 2019 +0200

    ui: add doc.go
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md  |  2 +-
 ui/doc.go  |  9 +++++++++
 ui/ui.go   | 28 +++++++++++++++++++++++++++-
 ui/unit.go | 21 ++++++++-------------
 4 files changed, 45 insertions(+), 15 deletions(-)

commit 354976bb01ec568da27f271e3d60e2e416e6d51a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Mar 31 14:17:09 2019 +0200

    website: correct repository URL
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 website/main.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit dde7961b7d6869e5d1bd1d9a6d3725034e2f0c73
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Mar 31 14:08:41 2019 +0200

    README.md: add instructions to run the hello world program
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 12 ++++++++++--
 1 file changed, 10 insertions(+), 2 deletions(-)

commit 5464fb07639726764078b8ec611645e21b17019a
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Mar 31 14:01:52 2019 +0200

    README.md: add godoc badge
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 2 ++
 1 file changed, 2 insertions(+)

commit e61059859c070c12b73082ae27ec17ae85f0443c
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Mar 31 14:00:00 2019 +0200

    apps/go.*: go get -u gioui.org/ui && go mod tidy
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 apps/go.sum | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 1d67fad0c3785fc9327e8b6c878fb3478f0af138
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Mar 31 13:55:05 2019 +0200

    ui/app,apps/gophers,apps/hello: accept nil WindowOptions in NewWindow
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          | 2 --
 apps/go.sum          | 2 ++
 apps/gophers/main.go | 2 +-
 apps/hello/hello.go  | 6 +-----
 ui/app/app.go        | 9 ++++++++-
 ui/app/os_android.go | 4 ++--
 ui/app/os_ios.go     | 2 +-
 ui/app/os_macos.go   | 4 ++--
 ui/app/os_wayland.go | 4 ++--
 ui/app/os_windows.go | 4 ++--
 10 files changed, 21 insertions(+), 18 deletions(-)

commit f21b5eb1df39b00631492c7c8cb2c802fa50ca74
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Mar 31 13:36:24 2019 +0200

    ui/app,apps/gophers,apps/hello: replace CreateWindow with NewWindow
    
    Gio doesn't support multiple windows anyway, so get rid of the
    app.Windows channel and use NewWindow call for the mobile platforms
    as well.
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod          |  2 ++
 apps/go.sum          |  2 --
 apps/gophers/main.go | 25 ++++++++++---------------
 apps/hello/hello.go  | 54 ++++++++++++++++++++++++------------------------------
 ui/app/app.go        | 13 ++++++-------
 ui/app/os_android.go |  6 ++++--
 ui/app/os_ios.go     |  8 +++++---
 ui/app/os_macos.go   | 35 +++++++++++++++--------------------
 ui/app/os_wayland.go | 10 ++++------
 ui/app/os_windows.go | 19 +++++++++++--------
 10 files changed, 81 insertions(+), 93 deletions(-)

commit cf258f707fdcc9d8f1f30a780dda735d582b5b81
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Mar 31 13:23:21 2019 +0200

    README.md: note that Go 1.13 is required for bitcode and tvOS support
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 4 +++-
 1 file changed, 3 insertions(+), 1 deletion(-)

commit 98318abb60a2c4101e862b27740e9d32fc2e919d
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Mar 31 13:04:44 2019 +0200

    apps/hello: add hello world example

 apps/go.mod         |  2 +-
 apps/hello/hello.go | 63 +++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 2 files changed, 64 insertions(+), 1 deletion(-)

commit b65820c9b0f145f109455e53d7f959099b883846
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Mar 31 12:46:08 2019 +0200

    gophers: change title
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/gophers/main.go | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

commit aa4d478172a76f3bfdf4ae4d88f131d3ca4c93c0
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Mar 31 12:27:57 2019 +0200

    README.md: describe the -token flag
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

commit fef4969e52981b2822f07d81c45bb9ad6348f955
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Mar 31 12:23:51 2019 +0200

    README.md: add GO111MODULE=on to instructions
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md | 1 +
 1 file changed, 1 insertion(+)

commit 6d1715d239949a7508962efc5f701d2e66457905
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Mar 31 12:18:07 2019 +0200

    apps/gophers: don't crash if fetching commits fail

 apps/gophers/main.go | 3 ++-
 1 file changed, 2 insertions(+), 1 deletion(-)

commit 7c8fdf69f51a58bc6b23ade61b3769b956a09280
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Mar 31 11:37:27 2019 +0200

    README.md: add iOS/tvOS setup instructions
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 README.md                                              | 24 +++++++++++++++++++++++-
 apps/gophers/ios/gophers/Assets.xcassets/Contents.json |  6 ------
 2 files changed, 23 insertions(+), 7 deletions(-)

commit 9a9b69eea4c64dd4e1cf6479f3d21fca0a1e5a48
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Mar 31 11:26:33 2019 +0200

    apps/gophers/ios/gophers.xcodeproject: clean up
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/gophers/ios/gophers.xcodeproj/project.pbxproj                              | 25 ++-----------------------
 apps/gophers/ios/gophers.xcodeproj/project.xcworkspace/contents.xcworkspacedata |  3 ---
 2 files changed, 2 insertions(+), 26 deletions(-)

commit 1475fa6833b7becf65f81917e969d24af5d7fe66
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Mar 31 11:11:15 2019 +0200

    cmd/gio: don't use stderr output from the go tool
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 cmd/gio/gio.go | 10 ++++++----
 1 file changed, 6 insertions(+), 4 deletions(-)

commit e063ba704f384505464f153016c69692c7783a71
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Mar 31 11:01:40 2019 +0200

    apps/go.*: go get -u gioui.org/ui; go mod tidy
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 apps/go.sum | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit ca5204fcb8b325e0740185ed27f800a220bf91a0
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Mar 31 11:00:26 2019 +0200

    ui: fix macOS build
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 ui/app/gl_macos.m  | 1 +
 ui/app/os_macos.go | 4 ++--
 ui/go.mod          | 4 ++--
 3 files changed, 5 insertions(+), 4 deletions(-)

commit 76b10751a636e836f8434ba7f8d762221ac7b602
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sun Mar 31 10:48:18 2019 +0200

    apps: go get -u gioui.org/ui; go mod tidy
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 apps/go.mod | 2 +-
 apps/go.sum | 4 ++--
 2 files changed, 3 insertions(+), 3 deletions(-)

commit 0f05231c356f917981c2e5afebe5e40e0ffea39c
Author: Elias Naur <mail@eliasnaur.com>
Date:   Sat Mar 30 13:18:49 2019 +0100

    all: initial import
    
    Signed-off-by: Elias Naur <mail@eliasnaur.com>

 .gitignore                                                                      |    2 +
 COPYING                                                                         |    3 +
 LICENSE-MIT                                                                     |   21 +
 README.md                                                                       |   60 ++
 UNLICENSE                                                                       |   25 +
 apps/go.mod                                                                     |   11 +
 apps/go.sum                                                                     |   41 +
 apps/gophers/android/build.gradle                                               |   32 +
 apps/gophers/android/gradle/wrapper/gradle-wrapper.jar                          |  Bin 0 -> 56177 bytes
 apps/gophers/android/gradle/wrapper/gradle-wrapper.properties                   |    5 +
 apps/gophers/android/gradlew                                                    |  172 ++++
 apps/gophers/android/gradlew.bat                                                |   84 ++
 apps/gophers/android/src/main/AndroidManifest.xml                               |   20 +
 apps/gophers/android/src/main/res/values/strings.xml                            |    4 +
 apps/gophers/ios/gophers.xcodeproj/project.pbxproj                              |  330 +++++++
 apps/gophers/ios/gophers.xcodeproj/project.xcworkspace/contents.xcworkspacedata |   10 +
 .../gophers.xcodeproj/project.xcworkspace/xcshareddata/IDEWorkspaceChecks.plist |    8 +
 .../project.xcworkspace/xcshareddata/WorkspaceSettings.xcsettings               |    5 +
 apps/gophers/ios/gophers/Assets.xcassets/Contents.json                          |    6 +
 apps/gophers/ios/gophers/Info.plist                                             |   37 +
 apps/gophers/ios/gophers/main.m                                                 |    8 +
 apps/gophers/main.go                                                            |  726 +++++++++++++++
 cmd/assets/assets.go                                                            |   57 ++
 cmd/gio/gio.go                                                                  |  571 ++++++++++++
 cmd/go.mod                                                                      |    5 +
 cmd/go.sum                                                                      |    2 +
 ui/app/GioActivity.java                                                         |   53 ++
 ui/app/GioView.java                                                             |  183 ++++
 ui/app/app.go                                                                   |   94 ++
 ui/app/egl.go                                                                   |  254 +++++
 ui/app/egl_android.go                                                           |   22 +
 ui/app/egl_linux.go                                                             |   90 ++
 ui/app/egl_wayland.go                                                           |   58 ++
 ui/app/egl_win.go                                                               |   20 +
 ui/app/egl_windows.go                                                           |  175 ++++
 ui/app/framework_ios.h                                                          |    8 +
 ui/app/gl_ios.go                                                                |  119 +++
 ui/app/gl_ios.h                                                                 |    7 +
 ui/app/gl_ios.m                                                                 |   44 +
 ui/app/gl_macos.go                                                              |   59 ++
 ui/app/gl_macos.h                                                               |    7 +
 ui/app/gl_macos.m                                                               |  148 +++
 ui/app/internal/gl/functions.go                                                 |  473 ++++++++++
 ui/app/internal/gl/gl.go                                                        |  166 ++++
 ui/app/internal/gl/gl_windows.go                                                |  397 ++++++++
 ui/app/internal/gl/srgb.go                                                      |  160 ++++
 ui/app/internal/gl/util.go                                                      |   85 ++
 ui/app/internal/gpu/arealut.go                                                  |   76 ++
 ui/app/internal/gpu/gpu.go                                                      | 1021 ++++++++++++++++++++
 ui/app/internal/gpu/pack.go                                                     |   85 ++
 ui/app/internal/gpu/path.go                                                     |  596 ++++++++++++
 ui/app/internal/gpu/timer.go                                                    |   93 ++
 ui/app/log_android.go                                                           |   58 ++
 ui/app/os_android.c                                                             |  133 +++
 ui/app/os_android.go                                                            |  384 ++++++++
 ui/app/os_android.h                                                             |   16 +
 ui/app/os_ios.go                                                                |  243 +++++
 ui/app/os_ios.h                                                                 |    8 +
 ui/app/os_ios.m                                                                 |  253 +++++
 ui/app/os_macos.go                                                              |  254 +++++
 ui/app/os_macos.h                                                               |   17 +
 ui/app/os_macos.m                                                               |  120 +++
 ui/app/os_wayland.c                                                             |  140 +++
 ui/app/os_wayland.go                                                            | 1208 ++++++++++++++++++++++++
 ui/app/os_wayland.h                                                             |   14 +
 ui/app/os_windows.go                                                            |  718 +++++++++++++++
 ui/app/wayland_text_input.c                                                     |   98 ++
 ui/app/wayland_text_input.h                                                     |  819 +++++++++++++++++
 ui/app/wayland_xdg_decoration.c                                                 |   77 ++
 ui/app/wayland_xdg_decoration.h                                                 |  376 ++++++++
 ui/app/wayland_xdg_shell.c                                                      |  176 ++++
 ui/app/wayland_xdg_shell.h                                                      | 1839 +++++++++++++++++++++++++++++++++++++
 ui/app/window.go                                                                |  293 ++++++
 ui/draw/draw.go                                                                 |   51 +
 ui/draw/path.go                                                                 |  267 ++++++
 ui/f32/f32.go                                                                   |   95 ++
 ui/gesture/estimator.go                                                         |  324 +++++++
 ui/gesture/estimator_test.go                                                    |   43 +
 ui/gesture/gestures.go                                                          |  317 +++++++
 ui/go.mod                                                                       |    8 +
 ui/go.sum                                                                       |    5 +
 ui/internal/path/path.go                                                        |   33 +
 ui/key/key.go                                                                   |   74 ++
 ui/key/queue.go                                                                 |  109 +++
 ui/layout/flex.go                                                               |  254 +++++
 ui/layout/list.go                                                               |  206 +++++
 ui/layout/simple.go                                                             |  213 +++++
 ui/layout/stack.go                                                              |  118 +++
 ui/measure/measure.go                                                           |  289 ++++++
 ui/measure/opentype.go                                                          |   63 ++
 ui/pointer/pointer.go                                                           |  107 +++
 ui/pointer/queue.go                                                             |  247 +++++
 ui/text/buffer.go                                                               |  155 ++++
 ui/text/editor.go                                                               |  536 +++++++++++
 ui/text/label.go                                                                |  146 +++
 ui/text/measure.go                                                              |   91 ++
 ui/ui.go                                                                        |   73 ++
 ui/unit.go                                                                      |   41 +
 ui/widget/image.go                                                              |   32 +
 website/app.yaml                                                                |    3 +
 website/go.mod                                                                  |    3 +
 website/main.go                                                                 |   41 +
 102 files changed, 17926 insertions(+)
